2025-12-02 14:34:52,146 - main - INFO - 
2025-12-02 14:34:52,146 - main - INFO - ================================================================================
2025-12-02 14:34:52,146 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-02 14:34:52,146 - main - INFO -   Production-Ready Complete Integration
2025-12-02 14:34:52,146 - main - INFO - ================================================================================
2025-12-02 14:34:52,146 - main - INFO -   AI Model: gpt-4o-mini
2025-12-02 14:34:52,147 - main - INFO -   Upload Directory: uploads
2025-12-02 14:34:52,147 - main - INFO -   Max File Size: 20MB
2025-12-02 14:34:52,147 - main - INFO - ================================================================================
2025-12-02 14:34:52,147 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-02 14:34:52,148 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-02 14:34:52,148 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-02 14:34:52,486 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-02 14:34:52,498 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-02 14:34:52,498 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-02 14:34:52,499 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-02 14:34:52,500 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-02 14:34:52,500 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-02 14:34:52,547 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-02 14:34:52,548 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-02 14:34:52,549 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users']
2025-12-02 14:34:52,552 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-02 14:34:52,553 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-02 14:34:52,554 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-02 14:34:52,555 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-02 14:34:52,555 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-02 14:34:52,594 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-02 14:34:52,594 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-02 14:34:52,594 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-02 14:34:52,594 - main - INFO - 
2025-12-02 14:34:52,595 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-02 14:34:52,595 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-02 14:34:52,595 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-02 14:34:52,595 - main - INFO -        - Separates warranties from extensions
2025-12-02 14:34:52,596 - main - INFO -        - Extracts subjectivities & operational details
2025-12-02 14:34:52,596 - main - INFO -        - Correct deductible tier detection
2025-12-02 14:34:52,596 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-02 14:34:52,596 - main - INFO - 
2025-12-02 14:34:52,596 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-02 14:34:52,596 - main - INFO -        - Generates ALL sections comprehensively
2025-12-02 14:34:52,597 - main - INFO -        - Identifies unique items per provider
2025-12-02 14:34:52,597 - main - INFO -        - Transparent scoring methodology
2025-12-02 14:34:52,597 - main - INFO -        - Uses full _extended_data from parser
2025-12-02 14:34:52,597 - main - INFO - 
2025-12-02 14:34:52,597 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-02 14:34:52,597 - main - INFO -        - Single endpoint auto-populates everything
2025-12-02 14:34:52,598 - main - INFO -        - No manual section generation
2025-12-02 14:34:52,598 - main - INFO -        - Complete MongoDB integration
2025-12-02 14:34:52,598 - main - INFO - 
2025-12-02 14:34:52,598 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-02 14:34:52,598 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-02 14:34:52,599 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-02 14:34:52,599 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-02 14:34:52,599 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-02 14:34:52,599 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-02 14:34:52,599 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-02 14:34:52,600 - main - INFO - 
2025-12-02 14:34:52,601 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-02 14:34:52,601 - main - INFO -      Main:
2025-12-02 14:34:52,601 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-02 14:34:52,602 - main - INFO - 
2025-12-02 14:34:52,602 - main - INFO -      Retrieval:
2025-12-02 14:34:52,602 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-02 14:34:52,602 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-02 14:34:52,602 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-02 14:34:52,603 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-02 14:34:52,603 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-02 14:34:52,603 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-02 14:34:52,603 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-02 14:34:52,604 - main - INFO - 
2025-12-02 14:34:52,604 - main - INFO -      Management:
2025-12-02 14:34:52,604 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-02 14:34:52,604 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-02 14:34:52,604 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-02 14:34:52,605 - main - INFO - 
2025-12-02 14:34:52,605 - main - INFO -      Documents (MongoDB):
2025-12-02 14:34:52,605 - main - INFO -        GET  /api/documents                All documents
2025-12-02 14:34:52,605 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-02 14:34:52,605 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-02 14:34:52,606 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-02 14:34:52,606 - main - INFO - 
2025-12-02 14:34:52,606 - main - INFO -      Diagnostics & Health:
2025-12-02 14:34:52,606 - main - INFO -        GET  /api/health                   System health
2025-12-02 14:34:52,606 - main - INFO -        GET  /api/status                   Detailed status
2025-12-02 14:34:52,607 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-02 14:34:52,607 - main - INFO - 
2025-12-02 14:34:52,607 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-02 14:34:52,607 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-02 14:34:52,607 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-02 14:34:52,607 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-02 14:34:52,608 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-02 14:34:52,608 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-02 14:34:52,608 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-02 14:34:52,608 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-02 14:34:52,608 - main - INFO - 
2025-12-02 14:34:52,609 - main - INFO -   üéØ WORKFLOW:
2025-12-02 14:34:52,609 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-02 14:34:52,609 - main - INFO -      2. Receive comparison_id + complete data
2025-12-02 14:34:52,609 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-02 14:34:52,610 - main - INFO -      4. No re-upload needed!
2025-12-02 14:34:52,610 - main - INFO - 
2025-12-02 14:34:52,610 - main - INFO - ================================================================================
2025-12-02 14:34:52,611 - main - INFO -   ‚úÖ Application started successfully!
2025-12-02 14:34:52,611 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-02 14:34:52,611 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-02 14:34:52,611 - main - INFO - ================================================================================
2025-12-02 14:34:52,612 - main - INFO - 
2025-12-02 14:34:52,612 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-02 16:09:11,644 - main - INFO - üì• GET /docs
2025-12-02 16:09:11,646 - main - INFO - üì§ GET /docs - 200 - 0.00s
2025-12-02 16:09:11,861 - main - INFO - üì• GET /openapi.json
2025-12-02 16:09:11,882 - main - INFO - üì§ GET /openapi.json - 200 - 0.02s
2025-12-02 16:09:55,362 - main - INFO - üì• GET /api/comparison/cmp_1763995013_cbcfaec36362/pdf
2025-12-02 16:09:55,363 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1763995013_cbcfaec36362
2025-12-02 16:09:55,371 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1763995013_cbcfaec36362
2025-12-02 16:09:55,371 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 16:09:55,373 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 16:09:55,375 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 16:09:55,376 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 16:09:55,379 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 16:09:55,379 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 16:09:55,382 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 16:09:55,382 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 16:09:55,383 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 16:09:55,383 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 16:09:55,384 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 16:09:55,384 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 16:09:55,385 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 16:09:55,385 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 16:09:55,386 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 16:09:55,576 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1763995013_cbcfaec36362
2025-12-02 16:09:55,577 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1763995013_cbcfaec36362_20251202_160955.pdf (131326 bytes)
2025-12-02 16:09:55,577 - main - INFO - üì§ GET /api/comparison/cmp_1763995013_cbcfaec36362/pdf - 200 - 0.21s
2025-12-02 16:10:27,621 - main - INFO - üì• GET /api/comparison/cmp_1763999509_d7bdb0d9803c/pdf
2025-12-02 16:10:27,623 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1763999509_d7bdb0d9803c
2025-12-02 16:10:27,627 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1763999509_d7bdb0d9803c
2025-12-02 16:10:27,628 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 16:10:27,629 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 16:10:27,631 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 16:10:27,631 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 16:10:27,636 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 16:10:27,636 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 16:10:27,638 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 16:10:27,639 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 16:10:27,640 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 16:10:27,641 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 16:10:27,641 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 16:10:27,642 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 16:10:27,642 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 16:10:27,643 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 16:10:27,647 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 16:10:27,768 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1763999509_d7bdb0d9803c
2025-12-02 16:10:27,769 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1763999509_d7bdb0d9803c_20251202_161027.pdf (131331 bytes)
2025-12-02 16:10:27,769 - main - INFO - üì§ GET /api/comparison/cmp_1763999509_d7bdb0d9803c/pdf - 200 - 0.15s
2025-12-02 16:10:46,501 - main - INFO - üì• GET /api/comparison/cmp_1764181252_b7fdb478ed00/pdf
2025-12-02 16:10:46,502 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1764181252_b7fdb478ed00
2025-12-02 16:10:46,505 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1764181252_b7fdb478ed00
2025-12-02 16:10:46,505 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 16:10:46,506 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 16:10:46,507 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 16:10:46,507 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 16:10:46,509 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 16:10:46,509 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 16:10:46,520 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 16:10:46,521 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 16:10:46,527 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 16:10:46,529 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 16:10:46,532 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 16:10:46,533 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 16:10:46,534 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 16:10:46,534 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 16:10:46,536 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 16:10:46,685 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1764181252_b7fdb478ed00
2025-12-02 16:10:46,686 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1764181252_b7fdb478ed00_20251202_161046.pdf (148654 bytes)
2025-12-02 16:10:46,686 - main - INFO - üì§ GET /api/comparison/cmp_1764181252_b7fdb478ed00/pdf - 200 - 0.18s
2025-12-02 16:18:58,953 - main - INFO - 
2025-12-02 16:18:58,954 - main - INFO - ================================================================================
2025-12-02 16:18:58,954 - main - INFO -   üõë Shutting down application...
2025-12-02 16:18:58,955 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-02 16:18:58,955 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-02 16:18:58,956 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-02 16:18:58,957 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-02 16:18:58,958 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-02 16:18:58,958 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-02 16:18:58,960 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-02 16:18:58,960 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-02 16:18:58,961 - main - INFO - ================================================================================
2025-12-02 16:18:58,961 - main - INFO - 
2025-12-02 16:19:04,226 - main - INFO - 
2025-12-02 16:19:04,227 - main - INFO - ================================================================================
2025-12-02 16:19:04,227 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-02 16:19:04,227 - main - INFO -   Production-Ready Complete Integration
2025-12-02 16:19:04,227 - main - INFO - ================================================================================
2025-12-02 16:19:04,228 - main - INFO -   AI Model: gpt-4o-mini
2025-12-02 16:19:04,228 - main - INFO -   Upload Directory: uploads
2025-12-02 16:19:04,228 - main - INFO -   Max File Size: 20MB
2025-12-02 16:19:04,229 - main - INFO - ================================================================================
2025-12-02 16:19:04,229 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-02 16:19:04,229 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-02 16:19:04,230 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-02 16:19:04,564 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-02 16:19:04,581 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-02 16:19:04,582 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-02 16:19:04,583 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-02 16:19:04,584 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-02 16:19:04,585 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-02 16:19:04,604 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-02 16:19:04,607 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-02 16:19:04,608 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users']
2025-12-02 16:19:04,611 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-02 16:19:04,611 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-02 16:19:04,611 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-02 16:19:04,612 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-02 16:19:04,612 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-02 16:19:04,625 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-02 16:19:04,626 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-02 16:19:04,626 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-02 16:19:04,626 - main - INFO - 
2025-12-02 16:19:04,626 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-02 16:19:04,626 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-02 16:19:04,627 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-02 16:19:04,627 - main - INFO -        - Separates warranties from extensions
2025-12-02 16:19:04,627 - main - INFO -        - Extracts subjectivities & operational details
2025-12-02 16:19:04,627 - main - INFO -        - Correct deductible tier detection
2025-12-02 16:19:04,628 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-02 16:19:04,628 - main - INFO - 
2025-12-02 16:19:04,628 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-02 16:19:04,628 - main - INFO -        - Generates ALL sections comprehensively
2025-12-02 16:19:04,628 - main - INFO -        - Identifies unique items per provider
2025-12-02 16:19:04,629 - main - INFO -        - Transparent scoring methodology
2025-12-02 16:19:04,629 - main - INFO -        - Uses full _extended_data from parser
2025-12-02 16:19:04,629 - main - INFO - 
2025-12-02 16:19:04,629 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-02 16:19:04,630 - main - INFO -        - Single endpoint auto-populates everything
2025-12-02 16:19:04,630 - main - INFO -        - No manual section generation
2025-12-02 16:19:04,630 - main - INFO -        - Complete MongoDB integration
2025-12-02 16:19:04,631 - main - INFO - 
2025-12-02 16:19:04,631 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-02 16:19:04,631 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-02 16:19:04,632 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-02 16:19:04,632 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-02 16:19:04,632 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-02 16:19:04,633 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-02 16:19:04,633 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-02 16:19:04,634 - main - INFO - 
2025-12-02 16:19:04,635 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-02 16:19:04,636 - main - INFO -      Main:
2025-12-02 16:19:04,637 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-02 16:19:04,637 - main - INFO - 
2025-12-02 16:19:04,638 - main - INFO -      Retrieval:
2025-12-02 16:19:04,638 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-02 16:19:04,638 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-02 16:19:04,638 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-02 16:19:04,639 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-02 16:19:04,639 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-02 16:19:04,639 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-02 16:19:04,640 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-02 16:19:04,640 - main - INFO - 
2025-12-02 16:19:04,640 - main - INFO -      Management:
2025-12-02 16:19:04,640 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-02 16:19:04,640 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-02 16:19:04,641 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-02 16:19:04,641 - main - INFO - 
2025-12-02 16:19:04,641 - main - INFO -      Documents (MongoDB):
2025-12-02 16:19:04,641 - main - INFO -        GET  /api/documents                All documents
2025-12-02 16:19:04,642 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-02 16:19:04,643 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-02 16:19:04,643 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-02 16:19:04,643 - main - INFO - 
2025-12-02 16:19:04,644 - main - INFO -      Diagnostics & Health:
2025-12-02 16:19:04,644 - main - INFO -        GET  /api/health                   System health
2025-12-02 16:19:04,644 - main - INFO -        GET  /api/status                   Detailed status
2025-12-02 16:19:04,645 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-02 16:19:04,645 - main - INFO - 
2025-12-02 16:19:04,645 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-02 16:19:04,645 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-02 16:19:04,646 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-02 16:19:04,646 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-02 16:19:04,646 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-02 16:19:04,646 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-02 16:19:04,647 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-02 16:19:04,647 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-02 16:19:04,647 - main - INFO - 
2025-12-02 16:19:04,648 - main - INFO -   üéØ WORKFLOW:
2025-12-02 16:19:04,648 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-02 16:19:04,648 - main - INFO -      2. Receive comparison_id + complete data
2025-12-02 16:19:04,649 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-02 16:19:04,649 - main - INFO -      4. No re-upload needed!
2025-12-02 16:19:04,649 - main - INFO - 
2025-12-02 16:19:04,650 - main - INFO - ================================================================================
2025-12-02 16:19:04,650 - main - INFO -   ‚úÖ Application started successfully!
2025-12-02 16:19:04,651 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-02 16:19:04,652 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-02 16:19:04,653 - main - INFO - ================================================================================
2025-12-02 16:19:04,654 - main - INFO - 
2025-12-02 16:19:04,654 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-02 16:19:31,874 - main - INFO - 
2025-12-02 16:19:31,874 - main - INFO - ================================================================================
2025-12-02 16:19:31,874 - main - INFO -   üõë Shutting down application...
2025-12-02 16:19:31,875 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-02 16:19:31,876 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-02 16:19:31,877 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-02 16:19:31,877 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-02 16:19:31,878 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-02 16:19:31,878 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-02 16:19:31,879 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-02 16:19:31,879 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-02 16:19:31,879 - main - INFO - ================================================================================
2025-12-02 16:19:31,879 - main - INFO - 
2025-12-02 16:19:34,470 - main - INFO - 
2025-12-02 16:19:34,471 - main - INFO - ================================================================================
2025-12-02 16:19:34,471 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-02 16:19:34,471 - main - INFO -   Production-Ready Complete Integration
2025-12-02 16:19:34,471 - main - INFO - ================================================================================
2025-12-02 16:19:34,472 - main - INFO -   AI Model: gpt-4o-mini
2025-12-02 16:19:34,472 - main - INFO -   Upload Directory: uploads
2025-12-02 16:19:34,472 - main - INFO -   Max File Size: 20MB
2025-12-02 16:19:34,472 - main - INFO - ================================================================================
2025-12-02 16:19:34,473 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-02 16:19:34,473 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-02 16:19:34,473 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-02 16:19:34,489 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-02 16:19:34,494 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-02 16:19:34,494 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-02 16:19:34,494 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-02 16:19:34,494 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-02 16:19:34,495 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-02 16:19:34,513 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-02 16:19:34,516 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-02 16:19:34,517 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users']
2025-12-02 16:19:34,520 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-02 16:19:34,520 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-02 16:19:34,520 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-02 16:19:34,521 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-02 16:19:34,521 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-02 16:19:34,545 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-02 16:19:34,545 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-02 16:19:34,545 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-02 16:19:34,545 - main - INFO - 
2025-12-02 16:19:34,546 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-02 16:19:34,546 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-02 16:19:34,546 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-02 16:19:34,546 - main - INFO -        - Separates warranties from extensions
2025-12-02 16:19:34,546 - main - INFO -        - Extracts subjectivities & operational details
2025-12-02 16:19:34,547 - main - INFO -        - Correct deductible tier detection
2025-12-02 16:19:34,547 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-02 16:19:34,547 - main - INFO - 
2025-12-02 16:19:34,547 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-02 16:19:34,548 - main - INFO -        - Generates ALL sections comprehensively
2025-12-02 16:19:34,548 - main - INFO -        - Identifies unique items per provider
2025-12-02 16:19:34,548 - main - INFO -        - Transparent scoring methodology
2025-12-02 16:19:34,549 - main - INFO -        - Uses full _extended_data from parser
2025-12-02 16:19:34,549 - main - INFO - 
2025-12-02 16:19:34,549 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-02 16:19:34,549 - main - INFO -        - Single endpoint auto-populates everything
2025-12-02 16:19:34,549 - main - INFO -        - No manual section generation
2025-12-02 16:19:34,550 - main - INFO -        - Complete MongoDB integration
2025-12-02 16:19:34,550 - main - INFO - 
2025-12-02 16:19:34,550 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-02 16:19:34,550 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-02 16:19:34,551 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-02 16:19:34,551 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-02 16:19:34,551 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-02 16:19:34,551 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-02 16:19:34,551 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-02 16:19:34,552 - main - INFO - 
2025-12-02 16:19:34,552 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-02 16:19:34,552 - main - INFO -      Main:
2025-12-02 16:19:34,552 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-02 16:19:34,552 - main - INFO - 
2025-12-02 16:19:34,553 - main - INFO -      Retrieval:
2025-12-02 16:19:34,553 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-02 16:19:34,553 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-02 16:19:34,553 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-02 16:19:34,553 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-02 16:19:34,554 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-02 16:19:34,554 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-02 16:19:34,554 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-02 16:19:34,554 - main - INFO - 
2025-12-02 16:19:34,554 - main - INFO -      Management:
2025-12-02 16:19:34,555 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-02 16:19:34,555 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-02 16:19:34,555 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-02 16:19:34,556 - main - INFO - 
2025-12-02 16:19:34,556 - main - INFO -      Documents (MongoDB):
2025-12-02 16:19:34,557 - main - INFO -        GET  /api/documents                All documents
2025-12-02 16:19:34,557 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-02 16:19:34,557 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-02 16:19:34,557 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-02 16:19:34,558 - main - INFO - 
2025-12-02 16:19:34,558 - main - INFO -      Diagnostics & Health:
2025-12-02 16:19:34,558 - main - INFO -        GET  /api/health                   System health
2025-12-02 16:19:34,558 - main - INFO -        GET  /api/status                   Detailed status
2025-12-02 16:19:34,558 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-02 16:19:34,559 - main - INFO - 
2025-12-02 16:19:34,559 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-02 16:19:34,559 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-02 16:19:34,559 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-02 16:19:34,560 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-02 16:19:34,560 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-02 16:19:34,560 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-02 16:19:34,560 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-02 16:19:34,560 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-02 16:19:34,560 - main - INFO - 
2025-12-02 16:19:34,561 - main - INFO -   üéØ WORKFLOW:
2025-12-02 16:19:34,561 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-02 16:19:34,561 - main - INFO -      2. Receive comparison_id + complete data
2025-12-02 16:19:34,561 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-02 16:19:34,561 - main - INFO -      4. No re-upload needed!
2025-12-02 16:19:34,561 - main - INFO - 
2025-12-02 16:19:34,562 - main - INFO - ================================================================================
2025-12-02 16:19:34,562 - main - INFO -   ‚úÖ Application started successfully!
2025-12-02 16:19:34,562 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-02 16:19:34,562 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-02 16:19:34,562 - main - INFO - ================================================================================
2025-12-02 16:19:34,562 - main - INFO - 
2025-12-02 16:19:34,563 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-02 16:19:54,792 - main - INFO - üì• GET /api/comparison/cmp_1764181252_b7fdb478ed00/pdf
2025-12-02 16:19:54,794 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1764181252_b7fdb478ed00
2025-12-02 16:19:54,799 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1764181252_b7fdb478ed00
2025-12-02 16:19:54,799 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 16:19:54,800 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 16:19:54,801 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 16:19:54,802 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 16:19:54,806 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 16:19:54,806 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 16:19:54,814 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 16:19:54,815 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 16:19:54,820 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 16:19:54,820 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 16:19:54,822 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 16:19:54,822 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 16:19:54,824 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 16:19:54,824 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 16:19:54,826 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 16:19:54,996 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1764181252_b7fdb478ed00
2025-12-02 16:19:54,997 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1764181252_b7fdb478ed00_20251202_161954.pdf (148978 bytes)
2025-12-02 16:19:54,998 - main - INFO - üì§ GET /api/comparison/cmp_1764181252_b7fdb478ed00/pdf - 200 - 0.21s
2025-12-02 16:36:19,035 - main - INFO - üì• POST /api/compare-quotes
2025-12-02 16:36:19,040 - app.api.routes - INFO - üîç Checking user subscription for user: 691f66b40c6cd02283165a7c
2025-12-02 16:36:19,040 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 691f66b40c6cd02283165a7c
2025-12-02 16:36:19,041 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-02 16:36:19,041 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-02 16:36:19,042 - app.services.user_subscription_service - INFO - ‚úÖ Found user: john_doe (john.doe@example.com)
2025-12-02 16:36:19,043 - app.api.routes - INFO - ‚úÖ User 691f66b40c6cd02283165a7c can perform comparison
2025-12-02 16:36:19,044 - app.api.routes - INFO -    - Remaining comparisons: -1
2025-12-02 16:36:19,044 - app.api.routes - INFO -    - Quotes per case: 8
2025-12-02 16:36:19,044 - app.api.routes - INFO -    - Files uploaded: 1
2025-12-02 16:36:19,044 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1764693379_0a1965665f56
2025-12-02 16:36:19,045 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_e3b162c6ec6f (1 files)
2025-12-02 16:36:19,045 - app.api.routes - INFO - üìä Initialized progress tracking: job_e3b162c6ec6f
2025-12-02 16:36:19,045 - app.api.routes - INFO - 
======================================================================
2025-12-02 16:36:19,046 - app.api.routes - INFO - üìÑ Processing: Malath.pdf
2025-12-02 16:36:19,046 - app.api.routes - INFO - ======================================================================
2025-12-02 16:36:19,047 - app.api.routes - INFO - üíæ Saved file: Malath.pdf ‚Üí b49acc03d7574baf9bad2ee3f063a5e0.pdf (203279 bytes)
2025-12-02 16:36:19,048 - app.api.routes - INFO - üìñ Extracting text from: Malath.pdf
2025-12-02 16:36:19,049 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\b49acc03d7574baf9bad2ee3f063a5e0.pdf
2025-12-02 16:36:19,189 - app.services.pdf_extractor - INFO - Successfully extracted 6578 characters from 3 pages
2025-12-02 16:36:19,189 - app.api.routes - INFO - ü§ñ Parsing with AI: Malath.pdf
2025-12-02 16:36:19,190 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Malath.pdf
2025-12-02 16:36:19,191 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Malath Insurance (pattern: \bmalath\b)
2025-12-02 16:36:19,191 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Malath Insurance
2025-12-02 16:36:19,191 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/S. Saudi Amana Contracting Co.
2025-12-02 16:36:19,192 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-02 16:36:19,192 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-02 16:36:19,228 - app.services.ai_parser - INFO - üéØ Pre-extracted 2 sublimits
2025-12-02 16:36:19,228 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-02 16:36:56,115 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-02 16:36:56,128 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-02 16:36:56,128 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-02 16:36:56,128 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-02 16:36:56,129 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 4 warranties, using fallback...
2025-12-02 16:36:56,131 - app.services.ai_parser - INFO - ‚ö†Ô∏è Fallback extracted 6 warranties from patterns
2025-12-02 16:36:56,131 - app.services.ai_parser - INFO - ‚úÖ Enhanced warranties: 7 total
2025-12-02 16:36:56,131 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 3 benefits, using fallback...
2025-12-02 16:36:56,135 - app.services.ai_parser - INFO - üìã Fallback extracted 10 benefits from patterns
2025-12-02 16:36:56,136 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 12 total
2025-12-02 16:36:56,137 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-02 16:37:04,040 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-02 16:37:04,044 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-02 16:37:04,045 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-02 16:37:04,045 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 169,122.3 @ 0.30%' ‚Üí '0.30%'
2025-12-02 16:37:04,045 - app.services.ai_parser - INFO - üí∞ Calculated: 69471773000.12 from SI: 41077831.25 √ó Rate: SR 169,122.3 @ 0.30%
2025-12-02 16:37:04,046 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5% of the claim amount, min SR 10,000
2025-12-02 16:37:04,046 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-02 16:37:04,046 - app.services.ai_parser - INFO - üìä Counts: 12 benefits, 37 exclusions, 7 warranties, 0 extensions
2025-12-02 16:37:13,306 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-02 16:37:13,312 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-02 16:37:13,312 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-02 16:37:13,312 - app.services.ai_parser - INFO - 
2025-12-02 16:37:13,312 - app.services.ai_parser - INFO - ======================================================================
2025-12-02 16:37:13,313 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Malath.pdf
2025-12-02 16:37:13,313 - app.services.ai_parser - INFO - ======================================================================
2025-12-02 16:37:13,313 - app.services.ai_parser - INFO - üè¢ Insurer: Malath Insurance
2025-12-02 16:37:13,313 - app.services.ai_parser - INFO - üë§ Insured: M/S. Saudi Amana Contracting Co.
2025-12-02 16:37:13,314 - app.services.ai_parser - INFO - üí∞ Premium: SAR 169,122.30
2025-12-02 16:37:13,314 - app.services.ai_parser - INFO - üìä Rate: 0.30%
2025-12-02 16:37:13,314 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-02 16:37:13,314 - app.services.ai_parser - INFO - üìè Quality: 98.7/100
2025-12-02 16:37:13,315 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of the claim amount, min SR 10,000
2025-12-02 16:37:13,315 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-02 16:37:13,315 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-02 16:37:13,315 - app.services.ai_parser - INFO - 
2025-12-02 16:37:13,315 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-02 16:37:13,316 - app.services.ai_parser - INFO -    ‚úì Benefits: 12
2025-12-02 16:37:13,316 - app.services.ai_parser - INFO -    ‚úì Exclusions: 37
2025-12-02 16:37:13,316 - app.services.ai_parser - INFO -    ‚úì Warranties: 7
2025-12-02 16:37:13,316 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-02 16:37:13,316 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-02 16:37:13,317 - app.services.ai_parser - INFO - ======================================================================
2025-12-02 16:37:13,319 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: b49acc03d7574baf9bad2ee3f063a5e0.pdf ‚Üí 692f15b9d504afb5ebb5f4f8
2025-12-02 16:37:13,319 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 692f15b9d504afb5ebb5f4f8
2025-12-02 16:37:13,322 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 692f15b9d504afb5ebb5f4f9 (203279 bytes)
2025-12-02 16:37:13,323 - app.api.routes - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 692f15b9d504afb5ebb5f4f9
2025-12-02 16:37:13,324 - app.api.routes - INFO - ‚úÖ Successfully processed: Malath.pdf
2025-12-02 16:37:13,325 - app.api.routes - INFO - 
‚úÖ Successfully extracted 1 quotes
2025-12-02 16:37:13,325 - app.api.routes - INFO - 
======================================================================
2025-12-02 16:37:13,325 - app.api.routes - INFO - üîÄ Generating comparison for 1 quotes
2025-12-02 16:37:13,326 - app.api.routes - INFO - ======================================================================
2025-12-02 16:37:13,326 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-02 16:37:13,326 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1764693379_0a1965665f56
2025-12-02 16:37:13,326 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 1
2025-12-02 16:37:13,327 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-02 16:37:13,327 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 1
2025-12-02 16:37:13,327 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Malath Insurance
2025-12-02 16:37:13,327 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-02 16:37:13,328 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-02 16:37:13,328 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-02 16:37:13,328 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-02 16:37:13,328 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-02 16:37:13,328 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-02 16:37:13,329 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-02 16:37:13,329 - app.services.mongodb_service_enhanced - INFO -    Summary: 954 bytes
2025-12-02 16:37:13,329 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 60 bytes
2025-12-02 16:37:13,329 - app.services.mongodb_service_enhanced - INFO -    Data table: 44 bytes
2025-12-02 16:37:13,329 - app.services.mongodb_service_enhanced - INFO -    Analytics: 48 bytes
2025-12-02 16:37:13,330 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 12,850 bytes
2025-12-02 16:37:13,330 - app.services.mongodb_service_enhanced - INFO -    Total document: 29,229 bytes
2025-12-02 16:37:13,330 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-02 16:37:13,330 - app.services.mongodb_service_enhanced - INFO -       - Count: 1
2025-12-02 16:37:13,330 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-02 16:37:13,331 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-02 16:37:13,331 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-02 16:37:13,335 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1764693379_0a1965665f56
2025-12-02 16:37:13,335 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 692f15b9b757af6a8efab066
2025-12-02 16:37:13,337 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-02 16:37:13,337 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-02 16:37:13,338 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-02 16:37:13,338 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-02 16:37:13,338 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-02 16:37:13,338 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-02 16:37:13,339 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-02 16:37:13,339 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 1
2025-12-02 16:37:13,339 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-02 16:37:13,339 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-02 16:37:13,340 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-02 16:37:13,340 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-02 16:37:13,340 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-02 16:37:13,340 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-02 16:37:13,340 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-02 16:37:13,341 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 692f15b9b757af6a8efab066
2025-12-02 16:37:13,341 - app.api.routes - INFO -    Database: hakemAI
2025-12-02 16:37:13,341 - app.api.routes - INFO -    Collection: comparisons
2025-12-02 16:37:13,342 - app.api.routes - INFO -    Comparison ID: cmp_1764693379_0a1965665f56
2025-12-02 16:37:13,345 - app.services.user_subscription_service - INFO - ‚úÖ Unlimited plan - no usage tracking needed for user 691f66b40c6cd02283165a7c
2025-12-02 16:37:13,345 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 691f66b40c6cd02283165a7c
2025-12-02 16:37:13,346 - app.api.routes - INFO - 
======================================================================
2025-12-02 16:37:13,346 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-02 16:37:13,346 - app.api.routes - INFO - ======================================================================
2025-12-02 16:37:13,346 - app.api.routes - INFO - üìä Comparison ID: cmp_1764693379_0a1965665f56
2025-12-02 16:37:13,346 - app.api.routes - INFO - üë§ User ID: 691f66b40c6cd02283165a7c
2025-12-02 16:37:13,347 - app.api.routes - INFO - üìÑ Files Processed: 1/1
2025-12-02 16:37:13,347 - app.api.routes - INFO - üíæ Saved to MongoDB: 1 PDFs + 1 comparison
2025-12-02 16:37:13,347 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 691f66b40c6cd02283165a7c
2025-12-02 16:37:13,347 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-02 16:37:13,348 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-02 16:37:13,350 - app.services.user_subscription_service - INFO - ‚úÖ Found user: john_doe (john.doe@example.com)
2025-12-02 16:37:13,352 - app.api.routes - INFO - üìä Remaining comparisons: -1
2025-12-02 16:37:13,352 - app.api.routes - INFO - ======================================================================

2025-12-02 16:37:13,353 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_e3b162c6ec6f ‚Üí comparison_id: cmp_1764693379_0a1965665f56
2025-12-02 16:37:13,354 - main - INFO - üì§ POST /api/compare-quotes - 200 - 54.32s
2025-12-02 16:44:34,598 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-02 16:44:34,599 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-02 17:11:26,027 - main - INFO - üì• GET /api/comparison/cmp_1764612341_324315d00c67/pdf
2025-12-02 17:11:26,028 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1764612341_324315d00c67
2025-12-02 17:11:26,030 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1764612341_324315d00c67
2025-12-02 17:11:26,030 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 17:11:26,031 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 17:11:26,031 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 17:11:26,031 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 17:11:26,033 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 17:11:26,034 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 17:11:26,039 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 17:11:26,039 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 17:11:26,046 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 17:11:26,047 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 17:11:26,048 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 17:11:26,048 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 17:11:26,049 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 17:11:26,049 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 17:11:26,051 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 17:11:26,218 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1764612341_324315d00c67
2025-12-02 17:11:26,218 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1764612341_324315d00c67_20251202_171126.pdf (145824 bytes)
2025-12-02 17:11:26,219 - main - INFO - üì§ GET /api/comparison/cmp_1764612341_324315d00c67/pdf - 200 - 0.19s
2025-12-02 17:17:02,714 - main - INFO - üì• GET /api/comparison/cmp_1764612341_324315d00c67/pdf
2025-12-02 17:17:02,716 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1764612341_324315d00c67
2025-12-02 17:17:02,721 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1764612341_324315d00c67
2025-12-02 17:17:02,722 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-02 17:17:02,723 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-02 17:17:02,725 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-02 17:17:02,725 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-02 17:17:02,730 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-02 17:17:02,730 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-02 17:17:02,740 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-02 17:17:02,741 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-02 17:17:02,748 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-02 17:17:02,749 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-02 17:17:02,750 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-02 17:17:02,751 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-02 17:17:02,752 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-02 17:17:02,752 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-02 17:17:02,753 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-02 17:17:02,888 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1764612341_324315d00c67
2025-12-02 17:17:02,888 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1764612341_324315d00c67_20251202_171702.pdf (145824 bytes)
2025-12-02 17:17:02,889 - main - INFO - üì§ GET /api/comparison/cmp_1764612341_324315d00c67/pdf - 200 - 0.18s
2025-12-02 19:51:31,466 - main - INFO - 
2025-12-02 19:51:31,466 - main - INFO - ================================================================================
2025-12-02 19:51:31,467 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-02 19:51:31,467 - main - INFO -   Production-Ready Complete Integration
2025-12-02 19:51:31,467 - main - INFO - ================================================================================
2025-12-02 19:51:31,467 - main - INFO -   AI Model: gpt-4o-mini
2025-12-02 19:51:31,468 - main - INFO -   Upload Directory: uploads
2025-12-02 19:51:31,468 - main - INFO -   Max File Size: 20MB
2025-12-02 19:51:31,468 - main - INFO - ================================================================================
2025-12-02 19:51:31,468 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-02 19:51:31,469 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-02 19:51:31,469 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-02 19:51:31,498 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-02 19:51:31,509 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-02 19:51:31,510 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-02 19:51:31,511 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-02 19:51:31,511 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-02 19:51:31,512 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-02 19:51:31,524 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-02 19:51:31,526 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-02 19:51:31,528 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users']
2025-12-02 19:51:31,533 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-02 19:51:31,533 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-02 19:51:31,533 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-02 19:51:31,534 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-02 19:51:31,534 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-02 19:51:31,541 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-02 19:51:31,542 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-02 19:51:31,542 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-02 19:51:31,542 - main - INFO - 
2025-12-02 19:51:31,542 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-02 19:51:31,543 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-02 19:51:31,543 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-02 19:51:31,543 - main - INFO -        - Separates warranties from extensions
2025-12-02 19:51:31,543 - main - INFO -        - Extracts subjectivities & operational details
2025-12-02 19:51:31,543 - main - INFO -        - Correct deductible tier detection
2025-12-02 19:51:31,544 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-02 19:51:31,544 - main - INFO - 
2025-12-02 19:51:31,544 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-02 19:51:31,544 - main - INFO -        - Generates ALL sections comprehensively
2025-12-02 19:51:31,545 - main - INFO -        - Identifies unique items per provider
2025-12-02 19:51:31,545 - main - INFO -        - Transparent scoring methodology
2025-12-02 19:51:31,545 - main - INFO -        - Uses full _extended_data from parser
2025-12-02 19:51:31,545 - main - INFO - 
2025-12-02 19:51:31,546 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-02 19:51:31,546 - main - INFO -        - Single endpoint auto-populates everything
2025-12-02 19:51:31,546 - main - INFO -        - No manual section generation
2025-12-02 19:51:31,546 - main - INFO -        - Complete MongoDB integration
2025-12-02 19:51:31,547 - main - INFO - 
2025-12-02 19:51:31,547 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-02 19:51:31,547 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-02 19:51:31,547 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-02 19:51:31,547 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-02 19:51:31,548 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-02 19:51:31,548 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-02 19:51:31,549 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-02 19:51:31,549 - main - INFO - 
2025-12-02 19:51:31,550 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-02 19:51:31,550 - main - INFO -      Main:
2025-12-02 19:51:31,551 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-02 19:51:31,551 - main - INFO - 
2025-12-02 19:51:31,551 - main - INFO -      Retrieval:
2025-12-02 19:51:31,552 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-02 19:51:31,552 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-02 19:51:31,552 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-02 19:51:31,552 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-02 19:51:31,552 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-02 19:51:31,553 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-02 19:51:31,553 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-02 19:51:31,553 - main - INFO - 
2025-12-02 19:51:31,553 - main - INFO -      Management:
2025-12-02 19:51:31,553 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-02 19:51:31,554 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-02 19:51:31,554 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-02 19:51:31,554 - main - INFO - 
2025-12-02 19:51:31,554 - main - INFO -      Documents (MongoDB):
2025-12-02 19:51:31,555 - main - INFO -        GET  /api/documents                All documents
2025-12-02 19:51:31,555 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-02 19:51:31,555 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-02 19:51:31,555 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-02 19:51:31,555 - main - INFO - 
2025-12-02 19:51:31,555 - main - INFO -      Diagnostics & Health:
2025-12-02 19:51:31,555 - main - INFO -        GET  /api/health                   System health
2025-12-02 19:51:31,556 - main - INFO -        GET  /api/status                   Detailed status
2025-12-02 19:51:31,556 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-02 19:51:31,556 - main - INFO - 
2025-12-02 19:51:31,556 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-02 19:51:31,556 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-02 19:51:31,557 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-02 19:51:31,557 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-02 19:51:31,557 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-02 19:51:31,558 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-02 19:51:31,558 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-02 19:51:31,558 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-02 19:51:31,558 - main - INFO - 
2025-12-02 19:51:31,558 - main - INFO -   üéØ WORKFLOW:
2025-12-02 19:51:31,559 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-02 19:51:31,559 - main - INFO -      2. Receive comparison_id + complete data
2025-12-02 19:51:31,559 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-02 19:51:31,559 - main - INFO -      4. No re-upload needed!
2025-12-02 19:51:31,559 - main - INFO - 
2025-12-02 19:51:31,560 - main - INFO - ================================================================================
2025-12-02 19:51:31,560 - main - INFO -   ‚úÖ Application started successfully!
2025-12-02 19:51:31,560 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-02 19:51:31,560 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-02 19:51:31,561 - main - INFO - ================================================================================
2025-12-02 19:51:31,561 - main - INFO - 
2025-12-02 19:51:31,561 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-02 19:51:36,115 - main - INFO - üì• GET /docs
2025-12-02 19:51:36,116 - main - INFO - üì§ GET /docs - 200 - 0.00s
2025-12-02 19:51:36,246 - main - INFO - üì• GET /openapi.json
2025-12-02 19:51:36,265 - main - INFO - üì§ GET /openapi.json - 200 - 0.02s
2025-12-02 19:52:38,603 - main - INFO - üì• POST /api/compare-quotes
2025-12-02 19:52:38,607 - app.api.routes - INFO - üîç Checking user subscription for user: 692082718f5ab4e2aaee79ea
2025-12-02 19:52:38,608 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 692082718f5ab4e2aaee79ea
2025-12-02 19:52:38,608 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-02 19:52:38,608 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-02 19:52:38,610 - app.services.user_subscription_service - INFO - ‚úÖ Found user: johnnnrnn_doe (jnnohn.doennrnn@example.com)
2025-12-02 19:52:38,610 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 692082718f5ab4e2aaee79ea: Account is pending activation. Please upload payment proof and wait for admin approval.
2025-12-02 19:52:38,610 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.01s
2025-12-02 20:51:32,832 - main - INFO - üì• GET /docs
2025-12-02 20:51:32,834 - main - INFO - üì§ GET /docs - 200 - 0.00s
2025-12-02 20:51:32,931 - main - INFO - üì• GET /openapi.json
2025-12-02 20:51:32,934 - main - INFO - üì§ GET /openapi.json - 200 - 0.00s
2025-12-10 15:31:55,544 - main - INFO - 
2025-12-10 15:31:55,544 - main - INFO - ================================================================================
2025-12-10 15:31:55,544 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-10 15:31:55,545 - main - INFO -   Production-Ready Complete Integration
2025-12-10 15:31:55,545 - main - INFO - ================================================================================
2025-12-10 15:31:55,545 - main - INFO -   AI Model: gpt-4o-mini
2025-12-10 15:31:55,545 - main - INFO -   Upload Directory: uploads
2025-12-10 15:31:55,545 - main - INFO -   Max File Size: 20MB
2025-12-10 15:31:55,545 - main - INFO - ================================================================================
2025-12-10 15:31:55,546 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-10 15:31:55,546 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-10 15:31:55,546 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-10 15:31:55,848 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-10 15:31:55,867 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-10 15:31:55,868 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-10 15:31:55,868 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-10 15:31:55,869 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-10 15:31:55,869 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-10 15:31:55,893 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-10 15:31:55,898 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-10 15:31:55,901 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users']
2025-12-10 15:31:55,994 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-10 15:31:55,994 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-10 15:31:55,994 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-10 15:31:55,994 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-10 15:31:55,995 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-10 15:31:56,001 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-10 15:31:56,002 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-10 15:31:56,002 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-10 15:31:56,002 - main - INFO - 
2025-12-10 15:31:56,002 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-10 15:31:56,002 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-10 15:31:56,003 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-10 15:31:56,003 - main - INFO -        - Separates warranties from extensions
2025-12-10 15:31:56,003 - main - INFO -        - Extracts subjectivities & operational details
2025-12-10 15:31:56,003 - main - INFO -        - Correct deductible tier detection
2025-12-10 15:31:56,004 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-10 15:31:56,004 - main - INFO - 
2025-12-10 15:31:56,004 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-10 15:31:56,004 - main - INFO -        - Generates ALL sections comprehensively
2025-12-10 15:31:56,004 - main - INFO -        - Identifies unique items per provider
2025-12-10 15:31:56,004 - main - INFO -        - Transparent scoring methodology
2025-12-10 15:31:56,005 - main - INFO -        - Uses full _extended_data from parser
2025-12-10 15:31:56,005 - main - INFO - 
2025-12-10 15:31:56,005 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-10 15:31:56,005 - main - INFO -        - Single endpoint auto-populates everything
2025-12-10 15:31:56,005 - main - INFO -        - No manual section generation
2025-12-10 15:31:56,006 - main - INFO -        - Complete MongoDB integration
2025-12-10 15:31:56,006 - main - INFO - 
2025-12-10 15:31:56,006 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-10 15:31:56,006 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-10 15:31:56,006 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-10 15:31:56,006 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-10 15:31:56,007 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-10 15:31:56,007 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-10 15:31:56,007 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-10 15:31:56,007 - main - INFO - 
2025-12-10 15:31:56,007 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-10 15:31:56,007 - main - INFO -      Main:
2025-12-10 15:31:56,008 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-10 15:31:56,008 - main - INFO - 
2025-12-10 15:31:56,008 - main - INFO -      Retrieval:
2025-12-10 15:31:56,008 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-10 15:31:56,009 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-10 15:31:56,009 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-10 15:31:56,009 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-10 15:31:56,009 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-10 15:31:56,009 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-10 15:31:56,009 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-10 15:31:56,009 - main - INFO - 
2025-12-10 15:31:56,010 - main - INFO -      Management:
2025-12-10 15:31:56,010 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-10 15:31:56,010 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-10 15:31:56,010 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-10 15:31:56,010 - main - INFO - 
2025-12-10 15:31:56,010 - main - INFO -      Documents (MongoDB):
2025-12-10 15:31:56,011 - main - INFO -        GET  /api/documents                All documents
2025-12-10 15:31:56,011 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-10 15:31:56,011 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-10 15:31:56,011 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-10 15:31:56,011 - main - INFO - 
2025-12-10 15:31:56,011 - main - INFO -      Diagnostics & Health:
2025-12-10 15:31:56,012 - main - INFO -        GET  /api/health                   System health
2025-12-10 15:31:56,012 - main - INFO -        GET  /api/status                   Detailed status
2025-12-10 15:31:56,012 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-10 15:31:56,012 - main - INFO - 
2025-12-10 15:31:56,013 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-10 15:31:56,013 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-10 15:31:56,013 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-10 15:31:56,013 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-10 15:31:56,014 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-10 15:31:56,014 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-10 15:31:56,014 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-10 15:31:56,014 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-10 15:31:56,014 - main - INFO - 
2025-12-10 15:31:56,015 - main - INFO -   üéØ WORKFLOW:
2025-12-10 15:31:56,015 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-10 15:31:56,015 - main - INFO -      2. Receive comparison_id + complete data
2025-12-10 15:31:56,015 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-10 15:31:56,015 - main - INFO -      4. No re-upload needed!
2025-12-10 15:31:56,015 - main - INFO - 
2025-12-10 15:31:56,016 - main - INFO - ================================================================================
2025-12-10 15:31:56,016 - main - INFO -   ‚úÖ Application started successfully!
2025-12-10 15:31:56,016 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-10 15:31:56,016 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-10 15:31:56,016 - main - INFO - ================================================================================
2025-12-10 15:31:56,016 - main - INFO - 
2025-12-10 15:31:56,017 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-10 15:45:41,859 - main - INFO - 
2025-12-10 15:45:41,859 - main - INFO - ================================================================================
2025-12-10 15:45:41,859 - main - INFO -   üõë Shutting down application...
2025-12-10 15:45:41,862 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-10 15:45:41,863 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-10 15:45:41,868 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-10 15:45:41,869 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-10 15:45:41,871 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-10 15:45:41,871 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-10 15:45:41,873 - main - INFO -   ‚úÖ Cleaned up 1 temporary files
2025-12-10 15:45:41,874 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-10 15:45:41,874 - main - INFO - ================================================================================
2025-12-10 15:45:41,874 - main - INFO - 
2025-12-10 15:45:46,514 - main - INFO - 
2025-12-10 15:45:46,514 - main - INFO - ================================================================================
2025-12-10 15:45:46,515 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-10 15:45:46,515 - main - INFO -   Production-Ready Complete Integration
2025-12-10 15:45:46,515 - main - INFO - ================================================================================
2025-12-10 15:45:46,516 - main - INFO -   AI Model: gpt-4o-mini
2025-12-10 15:45:46,516 - main - INFO -   Upload Directory: uploads
2025-12-10 15:45:46,516 - main - INFO -   Max File Size: 20MB
2025-12-10 15:45:46,516 - main - INFO - ================================================================================
2025-12-10 15:45:46,517 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-10 15:45:46,517 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-10 15:45:46,517 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-10 15:45:46,559 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-10 15:45:46,565 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-10 15:45:46,565 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-10 15:45:46,565 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-10 15:45:46,566 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-10 15:45:46,566 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-10 15:45:46,574 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-10 15:45:46,576 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-10 15:45:46,577 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companies', 'user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users', 'companyusers']
2025-12-10 15:45:46,579 - app.services.user_subscription_service - INFO - üìä Users collection has 6 documents
2025-12-10 15:45:46,580 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-10 15:45:46,580 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-10 15:45:46,581 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-10 15:45:46,582 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-10 15:45:46,617 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-10 15:45:46,617 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-10 15:45:46,618 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-10 15:45:46,618 - main - INFO - 
2025-12-10 15:45:46,618 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-10 15:45:46,618 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-10 15:45:46,619 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-10 15:45:46,619 - main - INFO -        - Separates warranties from extensions
2025-12-10 15:45:46,619 - main - INFO -        - Extracts subjectivities & operational details
2025-12-10 15:45:46,619 - main - INFO -        - Correct deductible tier detection
2025-12-10 15:45:46,619 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-10 15:45:46,620 - main - INFO - 
2025-12-10 15:45:46,620 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-10 15:45:46,620 - main - INFO -        - Generates ALL sections comprehensively
2025-12-10 15:45:46,620 - main - INFO -        - Identifies unique items per provider
2025-12-10 15:45:46,620 - main - INFO -        - Transparent scoring methodology
2025-12-10 15:45:46,621 - main - INFO -        - Uses full _extended_data from parser
2025-12-10 15:45:46,621 - main - INFO - 
2025-12-10 15:45:46,621 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-10 15:45:46,621 - main - INFO -        - Single endpoint auto-populates everything
2025-12-10 15:45:46,622 - main - INFO -        - No manual section generation
2025-12-10 15:45:46,622 - main - INFO -        - Complete MongoDB integration
2025-12-10 15:45:46,622 - main - INFO - 
2025-12-10 15:45:46,622 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-10 15:45:46,622 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-10 15:45:46,623 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-10 15:45:46,623 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-10 15:45:46,623 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-10 15:45:46,623 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-10 15:45:46,624 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-10 15:45:46,624 - main - INFO - 
2025-12-10 15:45:46,624 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-10 15:45:46,624 - main - INFO -      Main:
2025-12-10 15:45:46,624 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-10 15:45:46,624 - main - INFO - 
2025-12-10 15:45:46,625 - main - INFO -      Retrieval:
2025-12-10 15:45:46,625 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-10 15:45:46,625 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-10 15:45:46,625 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-10 15:45:46,625 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-10 15:45:46,626 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-10 15:45:46,626 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-10 15:45:46,626 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-10 15:45:46,626 - main - INFO - 
2025-12-10 15:45:46,626 - main - INFO -      Management:
2025-12-10 15:45:46,627 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-10 15:45:46,627 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-10 15:45:46,627 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-10 15:45:46,627 - main - INFO - 
2025-12-10 15:45:46,627 - main - INFO -      Documents (MongoDB):
2025-12-10 15:45:46,628 - main - INFO -        GET  /api/documents                All documents
2025-12-10 15:45:46,628 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-10 15:45:46,628 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-10 15:45:46,628 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-10 15:45:46,628 - main - INFO - 
2025-12-10 15:45:46,628 - main - INFO -      Diagnostics & Health:
2025-12-10 15:45:46,629 - main - INFO -        GET  /api/health                   System health
2025-12-10 15:45:46,629 - main - INFO -        GET  /api/status                   Detailed status
2025-12-10 15:45:46,629 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-10 15:45:46,629 - main - INFO - 
2025-12-10 15:45:46,629 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-10 15:45:46,630 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-10 15:45:46,630 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-10 15:45:46,630 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-10 15:45:46,630 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-10 15:45:46,630 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-10 15:45:46,631 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-10 15:45:46,631 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-10 15:45:46,631 - main - INFO - 
2025-12-10 15:45:46,631 - main - INFO -   üéØ WORKFLOW:
2025-12-10 15:45:46,631 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-10 15:45:46,631 - main - INFO -      2. Receive comparison_id + complete data
2025-12-10 15:45:46,632 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-10 15:45:46,632 - main - INFO -      4. No re-upload needed!
2025-12-10 15:45:46,632 - main - INFO - 
2025-12-10 15:45:46,632 - main - INFO - ================================================================================
2025-12-10 15:45:46,632 - main - INFO -   ‚úÖ Application started successfully!
2025-12-10 15:45:46,633 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-10 15:45:46,633 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-10 15:45:46,633 - main - INFO - ================================================================================
2025-12-10 15:45:46,633 - main - INFO - 
2025-12-10 15:45:46,634 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-10 16:10:51,287 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-10 16:10:51,290 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-10 16:10:51,292 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-10 16:10:51,296 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.01s
2025-12-10 16:10:51,301 - main - INFO - üì• GET /api/my-documents
2025-12-10 16:10:51,556 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 6939983dfe49b4482890eb8b
2025-12-10 16:10:51,556 - main - INFO - üì§ GET /api/my-documents - 200 - 0.26s
2025-12-10 16:10:51,558 - main - INFO - üì• GET /api/my-documents
2025-12-10 16:10:51,560 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 6939983dfe49b4482890eb8b
2025-12-10 16:10:51,560 - main - INFO - üì§ GET /api/my-documents - 200 - 0.00s
2025-12-10 17:43:52,118 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-10 17:43:52,119 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-10 17:43:52,124 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 17:43:52,147 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 17:43:52,148 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 17:43:52,149 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 17:43:52,149 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 17:43:52,154 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 17:43:52,157 - app.api.routes - INFO - ‚úÖ User 6939983dfe49b4482890eb8b can perform comparison
2025-12-10 17:43:52,158 - app.api.routes - INFO -    - Remaining comparisons: 250
2025-12-10 17:43:52,158 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-10 17:43:52,158 - app.api.routes - INFO -    - Files uploaded: 1
2025-12-10 17:43:52,160 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765388632_558be9e00dfe
2025-12-10 17:43:52,162 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_49d880096ca5 (1 files)
2025-12-10 17:43:52,163 - app.api.routes - INFO - üìä Initialized progress tracking: job_49d880096ca5
2025-12-10 17:43:52,165 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:43:52,166 - app.api.routes - INFO - üìÑ Processing: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:43:52,167 - app.api.routes - INFO - ======================================================================
2025-12-10 17:43:52,170 - app.api.routes - INFO - üíæ Saved file: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 8593e2fb8d7c4ca899ab4e1c84ccf179.pdf (309991 bytes)
2025-12-10 17:43:52,171 - app.api.routes - INFO - üìñ Extracting text from: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:43:52,176 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\8593e2fb8d7c4ca899ab4e1c84ccf179.pdf
2025-12-10 17:43:52,362 - app.services.pdf_extractor - INFO - Successfully extracted 12679 characters from 5 pages
2025-12-10 17:43:52,363 - app.api.routes - INFO - ü§ñ Parsing with AI: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:43:52,364 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:43:52,368 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Wataniya Insurance
2025-12-10 17:43:52,370 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Wataniya Insurance
2025-12-10 17:43:52,371 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Dev. Co.
2025-12-10 17:43:52,371 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 17:43:52,371 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 17:43:52,451 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-10 17:43:52,452 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 17:44:33,465 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:44:33,488 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 17:44:33,489 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 17:44:33,490 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 17:44:33,490 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-10 17:44:33,495 - app.services.ai_parser - INFO - üìã Fallback extracted 20 benefits from patterns
2025-12-10 17:44:33,497 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 25 total
2025-12-10 17:44:33,498 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 17:44:43,999 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:44:44,003 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 17:44:44,004 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 17:44:44,005 - app.services.ai_parser - INFO - üîÑ Rate: '1.00‚Ä∞' ‚Üí '1.00‚Ä∞'
2025-12-10 17:44:44,006 - app.services.ai_parser - INFO - üí∞ Calculated: 365000.00 from SI: 365000000.0 √ó Rate: 1.00‚Ä∞
2025-12-10 17:44:44,008 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-10 17:44:44,009 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 17:44:44,009 - app.services.ai_parser - INFO - üìä Counts: 25 benefits, 28 exclusions, 5 warranties, 9 extensions
2025-12-10 17:44:54,502 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:44:54,513 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 17:44:54,514 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 17:44:54,515 - app.services.ai_parser - INFO - 
2025-12-10 17:44:54,515 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:44:54,516 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:44:54,517 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:44:54,518 - app.services.ai_parser - INFO - üè¢ Insurer: Wataniya Insurance
2025-12-10 17:44:54,519 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Dev. Co.
2025-12-10 17:44:54,519 - app.services.ai_parser - INFO - üí∞ Premium: SAR 365,000.00
2025-12-10 17:44:54,520 - app.services.ai_parser - INFO - üìä Rate: 1.00‚Ä∞
2025-12-10 17:44:54,520 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 17:44:54,520 - app.services.ai_parser - INFO - üìè Quality: 99.3/100
2025-12-10 17:44:54,520 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-10 17:44:54,520 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 17:44:54,521 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 17:44:54,521 - app.services.ai_parser - INFO - 
2025-12-10 17:44:54,521 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 17:44:54,521 - app.services.ai_parser - INFO -    ‚úì Benefits: 25
2025-12-10 17:44:54,522 - app.services.ai_parser - INFO -    ‚úì Exclusions: 28
2025-12-10 17:44:54,522 - app.services.ai_parser - INFO -    ‚úì Warranties: 5
2025-12-10 17:44:54,522 - app.services.ai_parser - INFO -    ‚úì Extensions: 9
2025-12-10 17:44:54,522 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 17:44:54,523 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:44:54,611 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 8593e2fb8d7c4ca899ab4e1c84ccf179.pdf ‚Üí 6939b196ef7fa63f88950a90
2025-12-10 17:44:54,612 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b196ef7fa63f88950a90
2025-12-10 17:44:54,624 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 6939b196ef7fa63f88950a91 (309991 bytes)
2025-12-10 17:44:54,624 - app.api.routes - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 6939b196ef7fa63f88950a91
2025-12-10 17:44:54,625 - app.api.routes - INFO - ‚úÖ Successfully processed: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 17:44:54,625 - app.api.routes - INFO - 
‚úÖ Successfully extracted 1 quotes
2025-12-10 17:44:54,625 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:44:54,625 - app.api.routes - INFO - üîÄ Generating comparison for 1 quotes
2025-12-10 17:44:54,626 - app.api.routes - INFO - ======================================================================
2025-12-10 17:44:54,627 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49
2025-12-10 17:44:54,627 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-10 17:44:54,628 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765388632_558be9e00dfe
2025-12-10 17:44:54,628 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 1
2025-12-10 17:44:54,628 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-10 17:44:54,628 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 1
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Wataniya Insurance
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 17:44:54,629 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 17:44:54,630 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 17:44:54,630 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-10 17:44:54,631 - app.services.mongodb_service_enhanced - INFO -    Summary: 1,001 bytes
2025-12-10 17:44:54,631 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 60 bytes
2025-12-10 17:44:54,631 - app.services.mongodb_service_enhanced - INFO -    Data table: 44 bytes
2025-12-10 17:44:54,631 - app.services.mongodb_service_enhanced - INFO -    Analytics: 48 bytes
2025-12-10 17:44:54,631 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 13,999 bytes
2025-12-10 17:44:54,632 - app.services.mongodb_service_enhanced - INFO -    Total document: 31,702 bytes
2025-12-10 17:44:54,632 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-10 17:44:54,632 - app.services.mongodb_service_enhanced - INFO -       - Count: 1
2025-12-10 17:44:54,632 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 17:44:54,633 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:44:54,633 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-10 17:44:54,698 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765388632_558be9e00dfe
2025-12-10 17:44:54,698 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 6939b1965a37704a1c0a83e4
2025-12-10 17:44:54,700 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-10 17:44:54,700 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-10 17:44:54,700 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-10 17:44:54,700 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-10 17:44:54,700 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-10 17:44:54,701 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-10 17:44:54,701 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-10 17:44:54,701 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 1
2025-12-10 17:44:54,701 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 17:44:54,702 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-10 17:44:54,702 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-10 17:44:54,702 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-10 17:44:54,702 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-10 17:44:54,702 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-10 17:44:54,703 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:44:54,703 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 6939b1965a37704a1c0a83e4
2025-12-10 17:44:54,703 - app.api.routes - INFO -    Database: hakemAI
2025-12-10 17:44:54,703 - app.api.routes - INFO -    Collection: comparisons
2025-12-10 17:44:54,703 - app.api.routes - INFO -    Comparison ID: cmp_1765388632_558be9e00dfe
2025-12-10 17:44:54,703 - app.api.routes - INFO -    User ID: 6939983dfe49b4482890eb8b
2025-12-10 17:44:54,704 - app.api.routes - INFO -    Company ID: 69399d1513c530e734f1ae49
2025-12-10 17:44:54,708 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 17:44:54,708 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 17:44:54,709 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:44:54,709 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-10 17:44:54,709 - app.api.routes - INFO - ======================================================================
2025-12-10 17:44:54,709 - app.api.routes - INFO - üìä Comparison ID: cmp_1765388632_558be9e00dfe
2025-12-10 17:44:54,709 - app.api.routes - INFO - üë§ User ID: 6939983dfe49b4482890eb8b
2025-12-10 17:44:54,710 - app.api.routes - INFO - üìÑ Files Processed: 1/1
2025-12-10 17:44:54,710 - app.api.routes - INFO - üíæ Saved to MongoDB: 1 PDFs + 1 comparison
2025-12-10 17:44:54,710 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 17:44:54,710 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 17:44:54,711 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 17:44:54,712 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 17:44:54,713 - app.api.routes - INFO - üìä Remaining comparisons: 249
2025-12-10 17:44:54,713 - app.api.routes - INFO - ======================================================================

2025-12-10 17:44:54,714 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_49d880096ca5 ‚Üí comparison_id: cmp_1765388632_558be9e00dfe
2025-12-10 17:44:54,714 - main - INFO - üì§ POST /api/compare-quotes - 200 - 62.59s
2025-12-10 17:44:55,765 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:44:55,769 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:44:55,778 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:44:55,781 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:44:55,785 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:44:55,787 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:44:55,791 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:44:55,805 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:44:55,805 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:44:55,807 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:44:55,811 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:44:55,813 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:44:55,815 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:44:55,817 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:44:55,818 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:44:55,819 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:23,113 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:45:23,114 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:45:23,115 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:45:23,115 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:45:23,116 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:45:23,116 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:45:23,117 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:45:23,118 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 17:45:23,119 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:23,120 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,122 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:23,125 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:23,126 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,126 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:23,130 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:23,131 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,136 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:23,140 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:23,140 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,141 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:23,144 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:23,145 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,147 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:23,149 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:23,149 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,150 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:23,153 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:23,154 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,158 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:23,164 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:23,164 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:23,165 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:38,568 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:38,569 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,572 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:38,577 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:38,577 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,579 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:38,583 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:38,584 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,586 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:38,590 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:38,591 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,593 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:38,596 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:38,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,598 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:38,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:38,601 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:45:38,610 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:45:38,612 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,614 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:45:38,617 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:45:38,618 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:45:38,622 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:00,935 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:00,936 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:00,937 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:00,940 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:00,941 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:00,942 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:00,946 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:00,947 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:00,950 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:00,954 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:00,954 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:00,955 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:02,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:02,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:02,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:02,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:02,418 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:02,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:46:02,420 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:02,421 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:02,423 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:02,425 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:02,426 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:02,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:06,771 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:06,771 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:06,773 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:06,775 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:06,775 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:06,776 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:06,778 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:06,778 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:06,780 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:06,781 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:06,782 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:06,783 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:46:12,701 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:12,701 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:12,703 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:12,704 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:12,704 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:12,705 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:46:12,708 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:46:12,709 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:46:12,711 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:46:12,713 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:46:12,713 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:46:12,714 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:28,649 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:28,650 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:28,651 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:28,652 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:28,654 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:28,658 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:28,659 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:28,660 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:28,660 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:28,663 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:28,663 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:28,665 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:48:28,667 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:28,668 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:28,670 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:28,671 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:28,672 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:28,674 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:28,676 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:28,677 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:28,678 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:28,680 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:28,681 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:28,682 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,656 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,657 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,659 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,660 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,661 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,661 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,664 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,665 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,666 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,667 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,667 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,668 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,669 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,670 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,671 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,671 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,671 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,672 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,674 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,675 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,676 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,676 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,677 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,678 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,679 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,680 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,680 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,680 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,681 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,682 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,683 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,684 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,685 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,685 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,686 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,687 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,688 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,688 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:48:37,689 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,689 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,690 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,691 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:48:37,693 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:48:37,693 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,694 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:48:37,696 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:48:37,696 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:48:37,696 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:49:05,994 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:05,995 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:05,996 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:05,997 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:05,997 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:05,998 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:49:06,000 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:06,001 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:06,002 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:06,005 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:06,006 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:06,008 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:49:07,593 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:07,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:07,595 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:07,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:07,597 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:07,597 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:49:08,083 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:08,085 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:08,087 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:08,090 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:08,091 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:08,092 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:49:08,104 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:08,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:08,111 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:08,115 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:08,115 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:08,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:49:13,633 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:13,633 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:13,635 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:13,636 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:13,636 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:13,637 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:49:14,105 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:14,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,110 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:14,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:14,114 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:49:14,126 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:14,128 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,132 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:14,136 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:14,137 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,141 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:49:14,561 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:14,562 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,563 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:14,565 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:14,565 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:14,565 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:49:15,112 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:15,115 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:15,119 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:15,124 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:15,127 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:15,128 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:49:15,133 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:49:15,136 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:49:15,140 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:49:15,148 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:49:15,149 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:49:15,151 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:50:46,833 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-10 17:50:46,833 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-10 17:54:59,327 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:54:59,328 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:54:59,329 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:54:59,332 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:54:59,332 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:54:59,333 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:54:59,336 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:54:59,337 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:54:59,338 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:54:59,341 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:54:59,342 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:54:59,343 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:55:02,289 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:55:02,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:55:02,291 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:55:02,293 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:55:02,293 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:55:02,293 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 17:55:03,005 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:55:03,008 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:55:03,011 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:55:03,018 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:55:03,018 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:55:03,020 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:55:03,030 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:55:03,033 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:55:03,037 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:55:03,042 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:55:03,043 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:55:03,045 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,298 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:30,301 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:30,302 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:30,303 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:30,305 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,310 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,314 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,316 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,319 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:30,320 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,323 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:30,329 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:30,330 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,331 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,334 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:30,335 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,336 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:30,340 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:30,341 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,346 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,349 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:30,349 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,351 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:30,353 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:30,353 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,354 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:30,360 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:30,364 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,365 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:30,368 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:30,368 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:57:30,369 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,561 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:44,563 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:44,564 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:44,565 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 17:57:44,566 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,569 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,572 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,576 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,583 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:44,586 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,589 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:44,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:44,597 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,599 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:57:44,607 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:44,608 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,614 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:44,618 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:44,618 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,624 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:44,629 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,632 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:44,634 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:44,635 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,636 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:44,643 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:57:44,646 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,648 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:57:44,650 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:57:44,650 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 17:57:44,651 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:57:56,524 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-10 17:57:56,524 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-10 17:57:56,527 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 17:57:56,620 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 17:57:56,621 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 17:57:56,621 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 17:57:56,621 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 17:57:56,624 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 17:57:56,625 - app.api.routes - INFO - ‚úÖ User 6939983dfe49b4482890eb8b can perform comparison
2025-12-10 17:57:56,626 - app.api.routes - INFO -    - Remaining comparisons: 249
2025-12-10 17:57:56,626 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-10 17:57:56,627 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-10 17:57:56,627 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765389476_2ef7b3170dee
2025-12-10 17:57:56,627 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_82727c5ca4a6 (3 files)
2025-12-10 17:57:56,628 - app.api.routes - INFO - üìä Initialized progress tracking: job_82727c5ca4a6
2025-12-10 17:57:56,629 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:57:56,629 - app.api.routes - INFO - üìÑ Processing: Q# 309003 EAR.pdf
2025-12-10 17:57:56,629 - app.api.routes - INFO - ======================================================================
2025-12-10 17:57:56,629 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:57:56,630 - app.api.routes - INFO - üìÑ Processing: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:57:56,630 - app.api.routes - INFO - ======================================================================
2025-12-10 17:57:56,631 - app.api.routes - INFO - üíæ Saved file: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí e7b002cd3c904473880f4811b45036cb.pdf (290798 bytes)
2025-12-10 17:57:56,631 - app.api.routes - INFO - üìñ Extracting text from: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:57:56,632 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:57:56,632 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\e7b002cd3c904473880f4811b45036cb.pdf
2025-12-10 17:57:56,634 - app.api.routes - INFO - üìÑ Processing: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:57:56,634 - app.api.routes - INFO - ======================================================================
2025-12-10 17:57:56,697 - app.services.pdf_extractor - INFO - Successfully extracted 15546 characters from 7 pages
2025-12-10 17:57:56,697 - app.api.routes - INFO - üíæ Saved file: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí b4399a89b0e24a7e8a199fb7944ec67d.pdf (843321 bytes)
2025-12-10 17:57:56,698 - app.api.routes - INFO - üìñ Extracting text from: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:57:56,698 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\b4399a89b0e24a7e8a199fb7944ec67d.pdf
2025-12-10 17:57:56,699 - app.api.routes - INFO - ü§ñ Parsing with AI: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:57:56,736 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:57:56,761 - app.services.pdf_extractor - INFO - Successfully extracted 7736 characters from 4 pages
2025-12-10 17:57:56,762 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-10 17:57:56,764 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-10 17:57:56,764 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-10 17:57:56,764 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 17:57:56,765 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-10 17:57:56,765 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Format/Company mismatch: Format=LIVA, Company=Al Rajhi Takaful
2025-12-10 17:57:56,765 - app.services.ai_parser - INFO - üîß Overriding company name to: Liva Insurance (based on document format)
2025-12-10 17:57:56,847 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-10 17:57:56,848 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 17:57:56,852 - app.api.routes - INFO - ü§ñ Parsing with AI: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:57:56,852 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:57:56,853 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-10 17:57:56,853 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-10 17:57:56,854 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Development Company is a one-
2025-12-10 17:57:56,854 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 17:57:56,854 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 17:57:56,918 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-10 17:57:56,918 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 17:57:56,938 - app.api.routes - INFO - üíæ Saved file: Q# 309003 EAR.pdf ‚Üí 192df981a87c432f9c03354d275b2370.pdf (2329624 bytes)
2025-12-10 17:57:56,938 - app.api.routes - INFO - üìñ Extracting text from: Q# 309003 EAR.pdf
2025-12-10 17:57:56,939 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\192df981a87c432f9c03354d275b2370.pdf
2025-12-10 17:57:57,083 - app.services.pdf_extractor - INFO - Successfully extracted 12629 characters from 8 pages
2025-12-10 17:57:57,084 - app.api.routes - INFO - ü§ñ Parsing with AI: Q# 309003 EAR.pdf
2025-12-10 17:57:57,084 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q# 309003 EAR.pdf
2025-12-10 17:57:57,084 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Tawuniya
2025-12-10 17:57:57,085 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-10 17:57:57,085 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/S AL SHARIF CONTRACTING AND COMMERCIAL DEV. CO.
2025-12-10 17:57:57,085 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 17:57:57,085 - app.services.ai_parser - INFO - üìã Detected format: TAWUNIYA
2025-12-10 17:57:57,137 - app.services.ai_parser - INFO - üéØ Pre-extracted 11 sublimits
2025-12-10 17:57:57,137 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 17:58:25,282 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:25,291 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 17:58:25,292 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 17:58:25,293 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 17:58:25,293 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 17:58:25,298 - app.services.ai_parser - INFO - üìã Fallback extracted 23 benefits from patterns
2025-12-10 17:58:25,299 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 23 total
2025-12-10 17:58:25,300 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 17:58:25,334 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:25,603 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 17:58:25,604 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 17:58:25,604 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 17:58:25,605 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 3 benefits, using fallback...
2025-12-10 17:58:25,619 - app.services.ai_parser - INFO - üìã Fallback extracted 3 benefits from patterns
2025-12-10 17:58:25,620 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 6 total
2025-12-10 17:58:25,620 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 17:58:31,201 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:31,202 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 17:58:31,203 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 17:58:31,203 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 342,311.60 @ 0.38‚Ä∞' ‚Üí '0.38‚Ä∞'
2025-12-10 17:58:31,203 - app.services.ai_parser - INFO - üí∞ Calculated: 123344454204.80 from SI: 360328000.0 √ó Rate: SR 342,311.60 @ 0.38‚Ä∞
2025-12-10 17:58:31,204 - app.services.ai_parser - INFO - ‚úì Deductible tier: 100-500M applies (SI: 360.3M)
2025-12-10 17:58:31,204 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 500,000 | Nat Cat: 5%, min SR 1,000,000
2025-12-10 17:58:31,204 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 17:58:31,205 - app.services.ai_parser - INFO - üìä Counts: 6 benefits, 20 exclusions, 6 warranties, 5 extensions
2025-12-10 17:58:31,448 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:32,361 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 17:58:32,361 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 17:58:32,361 - app.services.ai_parser - INFO - üîÑ Rate: '1.1‚Ä∞' ‚Üí '1.1‚Ä∞'
2025-12-10 17:58:32,362 - app.services.ai_parser - INFO - üí∞ Calculated: 609853.20 from SI: 554412000.0 √ó Rate: 1.1‚Ä∞
2025-12-10 17:58:32,362 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount, min SR 1,000,000 | BI: 10% of Claim amount, min SR 10,000
2025-12-10 17:58:32,362 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 17:58:32,362 - app.services.ai_parser - INFO - üìä Counts: 23 benefits, 29 exclusions, 6 warranties, 0 extensions
2025-12-10 17:58:37,040 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:37,044 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:37,054 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 17:58:37,055 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 17:58:37,056 - app.services.ai_parser - INFO - 
2025-12-10 17:58:37,057 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,057 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:58:37,058 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,058 - app.services.ai_parser - INFO - üè¢ Insurer: Al Rajhi Takaful
2025-12-10 17:58:37,059 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Development Company is a one-
2025-12-10 17:58:37,059 - app.services.ai_parser - INFO - üí∞ Premium: SAR 609,853.20
2025-12-10 17:58:37,060 - app.services.ai_parser - INFO - üìä Rate: 1.1‚Ä∞
2025-12-10 17:58:37,060 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 17:58:37,060 - app.services.ai_parser - INFO - üìè Quality: 99.3/100
2025-12-10 17:58:37,060 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount, min SR 1,000,000 | BI: 10% of Claim amount, min SR 10,000
2025-12-10 17:58:37,060 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 17:58:37,061 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 17:58:37,061 - app.services.ai_parser - INFO - 
2025-12-10 17:58:37,061 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 17:58:37,061 - app.services.ai_parser - INFO -    ‚úì Benefits: 23
2025-12-10 17:58:37,062 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-10 17:58:37,062 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 17:58:37,062 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 17:58:37,062 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 17:58:37,063 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,064 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: b4399a89b0e24a7e8a199fb7944ec67d.pdf ‚Üí 6939b4cdef7fa63f88950a92
2025-12-10 17:58:37,064 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b4cdef7fa63f88950a92
2025-12-10 17:58:37,069 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 6939b4cdef7fa63f88950a93 (843321 bytes)
2025-12-10 17:58:37,069 - app.api.routes - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 6939b4cdef7fa63f88950a93
2025-12-10 17:58:37,069 - app.api.routes - INFO - ‚úÖ Successfully processed: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 17:58:37,290 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 17:58:37,290 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 17:58:37,291 - app.services.ai_parser - INFO - 
2025-12-10 17:58:37,292 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,292 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q# 309003 EAR.pdf
2025-12-10 17:58:37,293 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,293 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-10 17:58:37,294 - app.services.ai_parser - INFO - üë§ Insured: M/S AL SHARIF CONTRACTING AND COMMERCIAL DEV. CO.
2025-12-10 17:58:37,294 - app.services.ai_parser - INFO - üí∞ Premium: SAR 342,311.60
2025-12-10 17:58:37,295 - app.services.ai_parser - INFO - üìä Rate: 0.38‚Ä∞
2025-12-10 17:58:37,295 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 17:58:37,296 - app.services.ai_parser - INFO - üìè Quality: 90.7/100
2025-12-10 17:58:37,297 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 500,000 | Nat Cat: 5%, min SR 1,000,000
2025-12-10 17:58:37,297 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 17:58:37,298 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 17:58:37,298 - app.services.ai_parser - INFO - 
2025-12-10 17:58:37,299 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 17:58:37,299 - app.services.ai_parser - INFO -    ‚úì Benefits: 6
2025-12-10 17:58:37,300 - app.services.ai_parser - INFO -    ‚úì Exclusions: 20
2025-12-10 17:58:37,300 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 17:58:37,300 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-10 17:58:37,301 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 17:58:37,301 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:58:37,303 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 192df981a87c432f9c03354d275b2370.pdf ‚Üí 6939b4cdef7fa63f88950a94
2025-12-10 17:58:37,304 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b4cdef7fa63f88950a94
2025-12-10 17:58:37,317 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q# 309003 EAR.pdf ‚Üí 6939b4cdef7fa63f88950a95 (2329624 bytes)
2025-12-10 17:58:37,317 - app.api.routes - INFO - ‚úÖ Saved user document: Q# 309003 EAR.pdf ‚Üí 6939b4cdef7fa63f88950a95
2025-12-10 17:58:37,317 - app.api.routes - INFO - ‚úÖ Successfully processed: Q# 309003 EAR.pdf
2025-12-10 17:58:53,828 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:55,178 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 17:58:55,178 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 17:58:55,179 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 17:58:55,179 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 17:58:55,181 - app.services.ai_parser - INFO - üìã Fallback extracted 37 benefits from patterns
2025-12-10 17:58:55,182 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 34 total
2025-12-10 17:58:55,182 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 17:58:57,988 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:58:57,996 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 17:58:57,996 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 17:58:57,996 - app.services.ai_parser - INFO - üîÑ Rate: '0.95%o on total sum insured of SAR 350,328,000/-' ‚Üí '0.95‚Ä∞'
2025-12-10 17:58:57,997 - app.services.ai_parser - INFO - üí∞ Calculated: 332811.60 from SI: 350328000.0 √ó Rate: 0.95%o on total sum insured of SAR 350,328,000/-
2025-12-10 17:58:57,997 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1%, min SAR 1,000,000
2025-12-10 17:58:57,997 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 17:58:57,997 - app.services.ai_parser - INFO - üìä Counts: 34 benefits, 42 exclusions, 6 warranties, 0 extensions
2025-12-10 17:59:05,318 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:59:05,320 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 17:59:05,320 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 17:59:05,320 - app.services.ai_parser - INFO - 
2025-12-10 17:59:05,321 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:59:05,321 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:59:05,322 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:59:05,322 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-10 17:59:05,323 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-10 17:59:05,323 - app.services.ai_parser - INFO - üí∞ Premium: SAR 322,811.60
2025-12-10 17:59:05,324 - app.services.ai_parser - INFO - üìä Rate: 0.95‚Ä∞
2025-12-10 17:59:05,324 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 17:59:05,325 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-10 17:59:05,325 - app.services.ai_parser - INFO - üîß Deductible: MD: 1%, min SAR 1,000,000
2025-12-10 17:59:05,326 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 17:59:05,326 - app.services.ai_parser - INFO - üíº Brokerage: N/A
2025-12-10 17:59:05,326 - app.services.ai_parser - INFO - 
2025-12-10 17:59:05,327 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 17:59:05,328 - app.services.ai_parser - INFO -    ‚úì Benefits: 34
2025-12-10 17:59:05,328 - app.services.ai_parser - INFO -    ‚úì Exclusions: 42
2025-12-10 17:59:05,328 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 17:59:05,329 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 17:59:05,329 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 0
2025-12-10 17:59:05,329 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 17:59:05,330 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: e7b002cd3c904473880f4811b45036cb.pdf ‚Üí 6939b4e9ef7fa63f88950a96
2025-12-10 17:59:05,331 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b4e9ef7fa63f88950a96
2025-12-10 17:59:05,332 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 6939b4e9ef7fa63f88950a97 (290798 bytes)
2025-12-10 17:59:05,333 - app.api.routes - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 6939b4e9ef7fa63f88950a97
2025-12-10 17:59:05,333 - app.api.routes - INFO - ‚úÖ Successfully processed: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 17:59:05,333 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-10 17:59:05,334 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:59:05,334 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-10 17:59:05,334 - app.api.routes - INFO - ======================================================================
2025-12-10 17:59:05,334 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-10 17:59:05,335 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-10 17:59:05,335 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-10 17:59:05,335 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 17:59:05,335 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-10 17:59:05,336 - app.services.ai_ranker - INFO - ================================================================================
2025-12-10 17:59:05,336 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 17:59:05,336 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Al Rajhi Takaful
2025-12-10 17:59:05,336 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 17:59:05,336 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 17:59:05,337 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:59:05,337 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 17:59:05,337 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 17:59:05,337 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 17:59:05,338 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 17:59:05,338 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 17:59:05,338 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 17:59:05,339 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 17:59:05,339 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 544,412,000",
    "business_interruption": "SAR 10,000,000",
    "total_sum_insured_numeric": 554412000,
    "total_sum_insured": "SR 554,412,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 1,000,000",
        "deductible": "1% of the claim amount, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "natural catastrophe risks",
        "deductible": "1% of the claim amount, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 10,000,000",
        "deductible": "10% of Claim amount, min SR 10,000",
        "applies_to": "third_party_liability"
      }
    ],
    "applicable_md_tier": {
      "range": "up to SR 1,000,000",
      "deductible": "1% of the claim amount
2025-12-10 17:59:05,341 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 17:59:05,341 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 17:59:05,341 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 17:59:05,342 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,343 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 17:59:05,343 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 17:59:05,343 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,343 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 17:59:05,344 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 17:59:05,344 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 17:59:05,344 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 17:59:05,344 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 17:59:05,344 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 17:59:05,345 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Al Rajhi Takaful
2025-12-10 17:59:05,345 - app.services.ai_ranker - INFO - 
üìä Al Rajhi Takaful:
2025-12-10 17:59:05,345 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 17:59:05,345 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 17:59:05,345 - app.services.ai_ranker - INFO -    Exclusions: 29
2025-12-10 17:59:05,346 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 17:59:05,346 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 17:59:05,346 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Tawuniya
2025-12-10 17:59:05,346 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 17:59:05,346 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 17:59:05,347 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:59:05,347 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 17:59:05,347 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 17:59:05,347 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 17:59:05,347 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 17:59:05,348 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 17:59:05,348 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 17:59:05,348 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 17:59:05,348 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "TAWUNIYA",
  "sum_insured_breakdown": {
    "material_damage": "SR 360,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 360328000,
    "total_sum_insured": "SR 360,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "5%, min SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "5%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [
      {
        "range": "all",
        "deductible": "5%, min SR 1,000,000"
      }
    ],
    "applicable_md_tier": {
      "range": "SR 100M to SR 500M",
      "deduc
2025-12-10 17:59:05,351 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 17:59:05,351 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 17:59:05,351 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 17:59:05,351 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,352 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 17:59:05,353 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 17:59:05,354 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 17:59:05,354 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 17:59:05,354 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Tawuniya
2025-12-10 17:59:05,354 - app.services.ai_ranker - INFO - 
üìä Tawuniya:
2025-12-10 17:59:05,355 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 17:59:05,355 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-10 17:59:05,355 - app.services.ai_ranker - INFO -    Exclusions: 20
2025-12-10 17:59:05,355 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 17:59:05,355 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 17:59:05,356 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-10 17:59:05,356 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 17:59:05,356 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 17:59:05,356 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:59:05,356 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 17:59:05,357 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 17:59:05,357 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': [], 'conditions_precedent': ['No deterioration in loss record'], 'documentation_required': []}
2025-12-10 17:59:05,357 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 17:59:05,357 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 17:59:05,358 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 17:59:05,358 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 17:59:05,358 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 350328000,
    "total_sum_insured": "SAR 350,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "All other losses",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "NATCAT",
      "deductible": "1%, min SAR 1,000,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SAR 5,000,000/-",
    "srcc_malicious_damag
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'binding_requirements': []
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'conditions_precedent': ['No deterioration in loss record']
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'documentation_required': []
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 17:59:05,360 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 17:59:05,361 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 1
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['No deterioration in loss record']
2025-12-10 17:59:05,362 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 1 subjectivities for Liva Insurance
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO -    Exclusions: 42
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO -    Subjectivities: 1
2025-12-10 17:59:05,363 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Al Rajhi Takaful
2025-12-10 17:59:05,740 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-10 17:59:05,740 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 17:59:05,741 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 17:59:05,741 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 17:59:05,741 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Tawuniya
2025-12-10 17:59:06,009 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-10 17:59:06,009 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 5
2025-12-10 17:59:06,009 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 17:59:06,010 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 17:59:06,010 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-10 17:59:06,378 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-10 17:59:06,378 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 17:59:06,379 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 17:59:06,379 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 17:59:06,379 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 17:59:06,380 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted adhering to all the Saudi Arabian Building Standards & Protocols
2025-12-10 17:59:06,380 - app.services.ai_ranker - INFO -       ‚Ä¢ Tandem Lift Provision Warranty
2025-12-10 17:59:06,380 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 17:59:06,380 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-10 17:59:06,380 - app.services.ai_ranker - INFO - ================================================================================

2025-12-10 17:59:06,381 - app.services.ai_ranker - INFO - üìä Al Rajhi Takaful: Hakim Score=80.0 (Baseline), Weighted Score=64.81
2025-12-10 17:59:06,381 - app.services.ai_ranker - INFO - üìä Tawuniya: Hakim Score=96.0 (Premium), Weighted Score=81.28
2025-12-10 17:59:06,382 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=76.91
2025-12-10 17:59:06,382 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-10 17:59:06,382 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-10 17:59:15,362 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:59:15,371 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-10 17:59:15,372 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-10 17:59:15,373 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-10 17:59:25,646 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 17:59:26,391 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Tawuniya: Tawuniya stands out as the best insurance provider due to its top rank of #1 with a score of 81.3/10...
2025-12-10 17:59:26,410 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-10 17:59:26,425 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49
2025-12-10 17:59:26,436 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-10 17:59:26,437 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765389476_2ef7b3170dee
2025-12-10 17:59:26,437 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-10 17:59:26,446 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-10 17:59:26,459 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-10 17:59:26,469 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Al Rajhi Takaful
2025-12-10 17:59:26,471 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 17:59:26,474 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 17:59:26,475 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 17:59:26,475 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 17:59:26,475 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 17:59:26,477 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 17:59:26,477 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Tawuniya
2025-12-10 17:59:26,477 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 17:59:26,478 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 17:59:26,478 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 17:59:26,478 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 17:59:26,478 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 17:59:26,479 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 17:59:26,481 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-10 17:59:26,481 - app.services.mongodb_service_enhanced - INFO -    Summary: 4,336 bytes
2025-12-10 17:59:26,481 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 27,935 bytes
2025-12-10 17:59:26,482 - app.services.mongodb_service_enhanced - INFO -    Data table: 12,520 bytes
2025-12-10 17:59:26,482 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,698 bytes
2025-12-10 17:59:26,482 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 41,310 bytes
2025-12-10 17:59:26,482 - app.services.mongodb_service_enhanced - INFO -    Total document: 184,446 bytes
2025-12-10 17:59:26,482 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-10 17:59:26,483 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-10 17:59:26,483 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-10 17:59:26,483 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-10 17:59:26,483 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-10 17:59:26,484 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-10 17:59:26,485 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-10 17:59:26,486 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 17:59:26,486 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:59:26,486 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-10 17:59:26,491 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765389476_2ef7b3170dee
2025-12-10 17:59:26,491 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 6939b4fe5a37704a1c0a83e5
2025-12-10 17:59:26,493 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-10 17:59:26,495 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-10 17:59:26,495 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-10 17:59:26,495 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-10 17:59:26,495 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-10 17:59:26,495 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-10 17:59:26,496 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-10 17:59:26,496 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-10 17:59:26,496 - app.services.mongodb_service_enhanced - INFO -    - First row keys (27): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-10 17:59:26,496 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-10 17:59:26,496 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-10 17:59:26,497 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-10 17:59:26,497 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 17:59:26,497 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-10 17:59:26,498 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-10 17:59:26,498 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-10 17:59:26,498 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-10 17:59:26,498 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-10 17:59:26,499 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 17:59:26,499 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 6939b4fe5a37704a1c0a83e5
2025-12-10 17:59:26,499 - app.api.routes - INFO -    Database: hakemAI
2025-12-10 17:59:26,499 - app.api.routes - INFO -    Collection: comparisons
2025-12-10 17:59:26,500 - app.api.routes - INFO -    Comparison ID: cmp_1765389476_2ef7b3170dee
2025-12-10 17:59:26,500 - app.api.routes - INFO -    User ID: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,500 - app.api.routes - INFO -    Company ID: 69399d1513c530e734f1ae49
2025-12-10 17:59:26,503 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,503 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,503 - app.api.routes - INFO - 
======================================================================
2025-12-10 17:59:26,503 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-10 17:59:26,504 - app.api.routes - INFO - ======================================================================
2025-12-10 17:59:26,504 - app.api.routes - INFO - üìä Comparison ID: cmp_1765389476_2ef7b3170dee
2025-12-10 17:59:26,504 - app.api.routes - INFO - üë§ User ID: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,504 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-10 17:59:26,504 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-10 17:59:26,505 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,505 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 17:59:26,505 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 17:59:26,506 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 17:59:26,508 - app.api.routes - INFO - üìä Remaining comparisons: 248
2025-12-10 17:59:26,508 - app.api.routes - INFO - ======================================================================

2025-12-10 17:59:26,508 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_82727c5ca4a6 ‚Üí comparison_id: cmp_1765389476_2ef7b3170dee
2025-12-10 17:59:26,511 - main - INFO - üì§ POST /api/compare-quotes - 200 - 89.98s
2025-12-10 17:59:26,767 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:26,768 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,771 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:26,780 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:26,782 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,788 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:59:26,795 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:26,796 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,802 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:26,808 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:26,809 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,812 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:59:26,818 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:26,819 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,821 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:26,826 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:26,826 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,833 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 17:59:26,837 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:26,838 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,840 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:26,846 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:26,847 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:26,850 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:59:52,445 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:52,445 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:52,446 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:52,449 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:52,449 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:52,451 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:59:52,453 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:52,454 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:52,455 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:52,459 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:52,459 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:52,461 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:59:53,078 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:53,079 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:53,080 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:53,083 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:53,083 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:53,085 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 17:59:53,087 - main - INFO - üì• GET /api/comparisons
2025-12-10 17:59:53,088 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 17:59:53,090 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 17:59:53,094 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 17:59:53,095 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 17:59:53,099 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:01,011 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:01,012 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,015 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:01,021 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:01,022 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,026 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:00:01,029 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:01,030 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,032 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:01,034 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:01,034 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,036 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:01,669 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:01,670 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,671 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:01,674 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:01,675 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,677 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:01,679 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:01,679 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,681 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:01,684 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:01,684 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:01,687 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:04,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:04,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:04,404 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:04,407 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:04,408 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:04,410 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:04,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:04,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:04,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:04,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:04,418 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:04,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:07,603 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:07,604 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:07,605 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:07,608 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:07,609 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:07,611 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:07,613 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:07,613 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:07,615 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:07,617 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:07,618 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:07,620 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:09,928 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:09,930 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:09,933 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:09,938 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:09,939 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:09,944 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:00:09,952 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:09,954 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:09,959 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:09,963 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:09,964 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:09,966 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:12,324 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:12,324 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:12,326 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:12,328 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:12,328 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:12,330 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:12,332 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:12,333 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:12,334 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:12,337 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:12,337 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:12,339 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:13,597 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:13,598 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:13,599 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:13,602 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:13,603 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:13,605 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:13,608 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:13,609 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:13,611 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:13,614 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:13,615 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:13,617 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:15,605 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:15,606 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:15,608 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:15,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:15,610 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:15,612 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:15,614 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:15,615 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:15,617 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:15,620 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:15,621 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:15,624 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:18,235 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:18,236 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:18,237 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:18,240 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:18,240 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:18,242 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:00:18,244 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:00:18,245 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:00:18,247 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:00:18,249 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:00:18,249 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:00:18,251 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:02:33,281 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:02:33,281 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:02:33,282 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:02:33,283 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:02:33,283 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:02:33,284 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:02:33,286 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:02:33,288 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:02:33,290 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:02:33,290 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:02:33,292 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:02:33,293 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:04:58,897 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:04:58,898 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:04:58,901 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:04:58,908 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:04:58,909 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:04:58,914 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:05:00,270 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:00,282 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:05:00,286 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:00,297 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:00,301 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:05:00,307 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:05:00,316 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:00,318 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:05:00,328 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:00,334 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:00,364 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:05:00,370 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:05:30,584 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:30,584 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:05:30,585 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:30,588 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:30,588 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:05:30,590 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:05:34,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:34,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:05:34,416 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:34,423 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:34,426 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:05:34,433 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:05:34,470 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:34,474 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:05:34,476 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:34,484 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:34,514 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:05:34,529 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-10 18:05:46,844 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-10 18:05:46,844 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-10 18:05:55,075 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:55,076 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,078 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:55,082 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:55,083 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,086 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:05:55,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:55,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,100 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:55,105 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:55,107 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:05:55,116 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:55,118 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,121 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:55,130 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:55,131 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,137 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:05:55,147 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:05:55,148 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,151 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:05:55,155 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:05:55,157 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:05:55,161 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:06:08,850 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:06:08,852 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,854 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:06:08,864 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:06:08,865 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,871 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:06:08,882 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:06:08,884 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,886 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:06:08,891 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:06:08,892 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,895 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:06:08,900 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:06:08,901 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,903 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:06:08,907 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:06:08,908 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,911 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:06:08,915 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:06:08,916 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,917 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:06:08,921 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:06:08,922 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:06:08,925 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:06:28,116 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 18:06:28,137 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 18:06:28,137 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:06:28,137 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:06:28,138 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:06:28,140 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:06:28,141 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 6939983dfe49b4482890eb8b: Maximum 3 quotes per case allowed for your plan. You uploaded 4 files.
2025-12-10 18:06:28,142 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.03s
2025-12-10 18:06:33,642 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 18:06:33,648 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 18:06:33,648 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:06:33,649 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:06:33,649 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:06:33,650 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:06:33,651 - app.api.routes - INFO - ‚úÖ User 6939983dfe49b4482890eb8b can perform comparison
2025-12-10 18:06:33,651 - app.api.routes - INFO -    - Remaining comparisons: 248
2025-12-10 18:06:33,652 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-10 18:06:33,652 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-10 18:06:33,652 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765389993_e73ab5a94748
2025-12-10 18:06:33,652 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_f2523d3e8328 (3 files)
2025-12-10 18:06:33,653 - app.api.routes - INFO - üìä Initialized progress tracking: job_f2523d3e8328
2025-12-10 18:06:33,653 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:06:33,654 - app.api.routes - INFO - üìÑ Processing: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:06:33,654 - app.api.routes - INFO - ======================================================================
2025-12-10 18:06:33,656 - app.api.routes - INFO - üíæ Saved file: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí e282fac6c5d24427b97b24eb74266c94.pdf (309991 bytes)
2025-12-10 18:06:33,657 - app.api.routes - INFO - üìñ Extracting text from: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:06:33,658 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:06:33,658 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\e282fac6c5d24427b97b24eb74266c94.pdf
2025-12-10 18:06:33,658 - app.api.routes - INFO - üìÑ Processing: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:06:33,659 - app.api.routes - INFO - ======================================================================
2025-12-10 18:06:33,713 - app.services.pdf_extractor - INFO - Successfully extracted 12679 characters from 5 pages
2025-12-10 18:06:33,713 - app.api.routes - INFO - üíæ Saved file: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 4dd1a3e7729d4b4c81cd11822631abde.pdf (290798 bytes)
2025-12-10 18:06:33,714 - app.api.routes - INFO - üìñ Extracting text from: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:06:33,715 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:06:33,715 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\4dd1a3e7729d4b4c81cd11822631abde.pdf
2025-12-10 18:06:33,716 - app.api.routes - INFO - üìÑ Processing: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:06:33,716 - app.api.routes - INFO - ======================================================================
2025-12-10 18:06:33,769 - app.services.pdf_extractor - INFO - Successfully extracted 15546 characters from 7 pages
2025-12-10 18:06:33,770 - app.api.routes - INFO - üíæ Saved file: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí ec544d66af484e0288d41c0e0335c23b.pdf (843321 bytes)
2025-12-10 18:06:33,770 - app.api.routes - INFO - üìñ Extracting text from: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:06:33,770 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\ec544d66af484e0288d41c0e0335c23b.pdf
2025-12-10 18:06:33,770 - app.api.routes - INFO - ü§ñ Parsing with AI: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:06:33,788 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:06:33,820 - app.services.pdf_extractor - INFO - Successfully extracted 7736 characters from 4 pages
2025-12-10 18:06:33,821 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Wataniya Insurance
2025-12-10 18:06:33,821 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Wataniya Insurance
2025-12-10 18:06:33,821 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Dev. Co.
2025-12-10 18:06:33,822 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:06:33,822 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 18:06:33,900 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-10 18:06:33,900 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:06:33,902 - app.api.routes - INFO - ü§ñ Parsing with AI: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:06:33,902 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:06:33,903 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-10 18:06:33,904 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-10 18:06:33,904 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-10 18:06:33,906 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:06:33,907 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-10 18:06:33,908 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Format/Company mismatch: Format=LIVA, Company=Al Rajhi Takaful
2025-12-10 18:06:33,908 - app.services.ai_parser - INFO - üîß Overriding company name to: Liva Insurance (based on document format)
2025-12-10 18:06:33,990 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-10 18:06:33,991 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:06:33,994 - app.api.routes - INFO - ü§ñ Parsing with AI: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:06:33,995 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:06:33,996 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-10 18:06:33,997 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-10 18:06:33,997 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Development Company is a one-
2025-12-10 18:06:33,997 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:06:33,998 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 18:06:34,065 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-10 18:06:34,066 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:06:39,090 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:06:39,090 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:06:39,092 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:06:39,096 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:06:39,097 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:06:39,099 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:06:55,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:06:55,383 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:06:55,383 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:06:55,384 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:06:55,384 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 18:06:55,389 - app.services.ai_parser - INFO - üìã Fallback extracted 23 benefits from patterns
2025-12-10 18:06:55,389 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 23 total
2025-12-10 18:06:55,390 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:07:09,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:09,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:09,101 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:09,103 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:09,103 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:09,105 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:29,995 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:29,995 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:29,997 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:29,999 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:29,999 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:30,000 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:30,571 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:30,573 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:30,577 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:30,585 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:30,587 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:30,600 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:07:30,616 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:30,623 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:30,626 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:30,635 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:30,635 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:30,640 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:07:35,131 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:35,132 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:35,133 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:35,135 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:35,135 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:35,137 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:35,140 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:35,141 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:35,143 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:35,146 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:35,147 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:35,149 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:37,279 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:37,284 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,287 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:37,296 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:37,297 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,301 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:07:37,316 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:37,320 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,325 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:37,334 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:37,335 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,340 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:07:37,344 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:37,345 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,348 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:37,357 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:37,360 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,367 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:07:37,371 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:37,375 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,378 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:37,388 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:37,390 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:37,394 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:07:38,773 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:38,774 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:38,776 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:38,778 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:38,778 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:38,780 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:38,782 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:07:38,783 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:07:38,785 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:07:38,788 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:07:38,789 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:07:38,792 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:07:46,360 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:07:47,410 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:07:47,411 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:07:47,411 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:07:47,411 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 18:07:47,413 - app.services.ai_parser - INFO - üìã Fallback extracted 37 benefits from patterns
2025-12-10 18:07:47,414 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 34 total
2025-12-10 18:07:47,414 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:07:49,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:07:49,168 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:07:49,169 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:07:49,170 - app.services.ai_parser - INFO - üîÑ Rate: '1.1‚Ä∞' ‚Üí '1.1‚Ä∞'
2025-12-10 18:07:49,170 - app.services.ai_parser - INFO - üí∞ Calculated: 609853.20 from SI: 554412000.0 √ó Rate: 1.1‚Ä∞
2025-12-10 18:07:49,171 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 554.4M)
2025-12-10 18:07:49,172 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1%, min SR 1,000,000 | BI: 10%, min SR 10,000
2025-12-10 18:07:49,173 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:07:49,174 - app.services.ai_parser - INFO - üìä Counts: 23 benefits, 29 exclusions, 6 warranties, 0 extensions
2025-12-10 18:07:50,577 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:07:50,582 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:07:50,583 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:07:50,584 - app.services.ai_parser - INFO - üîÑ Rate: '0.95%o on total sum insured of SAR 350,328,000/-' ‚Üí '0.95‚Ä∞'
2025-12-10 18:07:50,585 - app.services.ai_parser - INFO - üí∞ Calculated: 332811.60 from SI: 350328000.0 √ó Rate: 0.95%o on total sum insured of SAR 350,328,000/-
2025-12-10 18:07:50,586 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1%, min SAR 1,000,000
2025-12-10 18:07:50,587 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:07:50,587 - app.services.ai_parser - INFO - üìä Counts: 34 benefits, 42 exclusions, 6 warranties, 0 extensions
2025-12-10 18:07:55,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:07:55,522 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 18:07:55,522 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:07:55,523 - app.services.ai_parser - INFO - 
2025-12-10 18:07:55,524 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:55,524 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:07:55,525 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:55,526 - app.services.ai_parser - INFO - üè¢ Insurer: Al Rajhi Takaful
2025-12-10 18:07:55,526 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Development Company is a one-
2025-12-10 18:07:55,527 - app.services.ai_parser - INFO - üí∞ Premium: SAR 609,853.20
2025-12-10 18:07:55,528 - app.services.ai_parser - INFO - üìä Rate: 1.1‚Ä∞
2025-12-10 18:07:55,528 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 18:07:55,529 - app.services.ai_parser - INFO - üìè Quality: 99.3/100
2025-12-10 18:07:55,530 - app.services.ai_parser - INFO - üîß Deductible: MD: 1%, min SR 1,000,000 | BI: 10%, min SR 10,000
2025-12-10 18:07:55,530 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:07:55,531 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:07:55,531 - app.services.ai_parser - INFO - 
2025-12-10 18:07:55,532 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:07:55,532 - app.services.ai_parser - INFO -    ‚úì Benefits: 23
2025-12-10 18:07:55,533 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-10 18:07:55,534 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 18:07:55,534 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 18:07:55,535 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:07:55,535 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:55,538 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: ec544d66af484e0288d41c0e0335c23b.pdf ‚Üí 6939b6fbef7fa63f88950a98
2025-12-10 18:07:55,538 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b6fbef7fa63f88950a98
2025-12-10 18:07:55,545 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 6939b6fbef7fa63f88950a99 (843321 bytes)
2025-12-10 18:07:55,546 - app.api.routes - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 6939b6fbef7fa63f88950a99
2025-12-10 18:07:55,547 - app.api.routes - INFO - ‚úÖ Successfully processed: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-10 18:07:56,750 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:07:56,757 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 18:07:56,757 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:07:56,758 - app.services.ai_parser - INFO - 
2025-12-10 18:07:56,758 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:56,758 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:07:56,758 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:56,759 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-10 18:07:56,759 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-10 18:07:56,759 - app.services.ai_parser - INFO - üí∞ Premium: SAR 322,811.60
2025-12-10 18:07:56,759 - app.services.ai_parser - INFO - üìä Rate: 0.95‚Ä∞
2025-12-10 18:07:56,759 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - üîß Deductible: MD: 1%, min SAR 1,000,000
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - üíº Brokerage: N/A
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - 
2025-12-10 18:07:56,760 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO -    ‚úì Benefits: 34
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO -    ‚úì Exclusions: 42
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 0
2025-12-10 18:07:56,761 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:07:56,763 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 4dd1a3e7729d4b4c81cd11822631abde.pdf ‚Üí 6939b6fcef7fa63f88950a9a
2025-12-10 18:07:56,763 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b6fcef7fa63f88950a9a
2025-12-10 18:07:56,765 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 6939b6fcef7fa63f88950a9b (290798 bytes)
2025-12-10 18:07:56,766 - app.api.routes - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 6939b6fcef7fa63f88950a9b
2025-12-10 18:07:56,766 - app.api.routes - INFO - ‚úÖ Successfully processed: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-10 18:08:08,413 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:08:08,414 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:08:08,422 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:08:08,423 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:08:08,426 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:08:08,431 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:08:08,432 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:08:08,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:08:33,189 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:08:38,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:08:38,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:08:38,111 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:08:38,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:08:38,117 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:08:38,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:09:06,206 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:09:06,206 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:09:06,206 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:09:06,207 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-10 18:09:06,209 - app.services.ai_parser - INFO - üìã Fallback extracted 20 benefits from patterns
2025-12-10 18:09:06,209 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 25 total
2025-12-10 18:09:06,209 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:09:07,572 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:07,575 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:09:07,579 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:07,585 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:07,586 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:09:07,592 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:09:12,326 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:09:12,648 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:09:12,649 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:09:12,649 - app.services.ai_parser - INFO - üîÑ Rate: '1.00‚Ä∞' ‚Üí '1.00‚Ä∞'
2025-12-10 18:09:12,649 - app.services.ai_parser - INFO - üí∞ Calculated: 365000.00 from SI: 365000000.0 √ó Rate: 1.00‚Ä∞
2025-12-10 18:09:12,649 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000
2025-12-10 18:09:12,650 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:09:12,650 - app.services.ai_parser - INFO - üìä Counts: 25 benefits, 28 exclusions, 5 warranties, 9 extensions
2025-12-10 18:09:18,375 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:09:18,379 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 18:09:18,379 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:09:18,380 - app.services.ai_parser - INFO - 
2025-12-10 18:09:18,380 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:09:18,380 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:09:18,381 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:09:18,381 - app.services.ai_parser - INFO - üè¢ Insurer: Wataniya Insurance
2025-12-10 18:09:18,381 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Dev. Co.
2025-12-10 18:09:18,382 - app.services.ai_parser - INFO - üí∞ Premium: SAR 365,000.00
2025-12-10 18:09:18,382 - app.services.ai_parser - INFO - üìä Rate: 1.00‚Ä∞
2025-12-10 18:09:18,382 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 18:09:18,383 - app.services.ai_parser - INFO - üìè Quality: 99.3/100
2025-12-10 18:09:18,383 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000
2025-12-10 18:09:18,383 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:09:18,384 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:09:18,384 - app.services.ai_parser - INFO - 
2025-12-10 18:09:18,384 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:09:18,384 - app.services.ai_parser - INFO -    ‚úì Benefits: 25
2025-12-10 18:09:18,385 - app.services.ai_parser - INFO -    ‚úì Exclusions: 28
2025-12-10 18:09:18,385 - app.services.ai_parser - INFO -    ‚úì Warranties: 5
2025-12-10 18:09:18,385 - app.services.ai_parser - INFO -    ‚úì Extensions: 9
2025-12-10 18:09:18,386 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:09:18,386 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:09:18,388 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: e282fac6c5d24427b97b24eb74266c94.pdf ‚Üí 6939b74eef7fa63f88950a9c
2025-12-10 18:09:18,389 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b74eef7fa63f88950a9c
2025-12-10 18:09:18,391 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 6939b74eef7fa63f88950a9d (309991 bytes)
2025-12-10 18:09:18,391 - app.api.routes - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 6939b74eef7fa63f88950a9d
2025-12-10 18:09:18,392 - app.api.routes - INFO - ‚úÖ Successfully processed: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-10 18:09:18,392 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-10 18:09:18,392 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:09:18,393 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-10 18:09:18,393 - app.api.routes - INFO - ======================================================================
2025-12-10 18:09:18,393 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-10 18:09:18,394 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-10 18:09:18,394 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-10 18:09:18,394 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:09:18,395 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-10 18:09:18,395 - app.services.ai_ranker - INFO - ================================================================================
2025-12-10 18:09:18,395 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:09:18,395 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Al Rajhi Takaful
2025-12-10 18:09:18,396 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:09:18,396 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:09:18,396 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:09:18,396 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:09:18,396 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:09:18,397 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:09:18,397 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:09:18,397 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:09:18,398 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:09:18,398 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:09:18,398 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 544,412,000",
    "business_interruption": "SAR 10,000,000",
    "total_sum_insured_numeric": 554412000,
    "total_sum_insured": "SR 554,412,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 10M",
        "deductible": "10%, min SR 10,000",
        "applies_to": "business_interruption"
      }
    ],
    "applicable_md_tier": {
      "range": "abo
2025-12-10 18:09:18,402 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:09:18,403 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:09:18,404 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:09:18,404 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:09:18,405 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:09:18,405 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:09:18,405 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:09:18,405 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:09:18,406 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,406 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:09:18,406 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:09:18,406 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,407 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:09:18,407 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:09:18,407 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:09:18,407 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:09:18,408 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:09:18,408 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:09:18,408 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Al Rajhi Takaful
2025-12-10 18:09:18,408 - app.services.ai_ranker - INFO - 
üìä Al Rajhi Takaful:
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO -    Exclusions: 29
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:09:18,409 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-10 18:09:18,410 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:09:18,410 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:09:18,410 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:09:18,410 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:09:18,411 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:09:18,411 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': [], 'conditions_precedent': ['No deterioration in loss record'], 'documentation_required': []}
2025-12-10 18:09:18,411 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:09:18,411 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:09:18,412 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:09:18,412 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:09:18,412 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 350328000,
    "total_sum_insured": "SAR 350,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "All other losses",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "NATCAT",
      "deductible": "1%, min SAR 1,000,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SAR 5,000,000/-",
    "srcc_malicious_damag
2025-12-10 18:09:18,416 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'binding_requirements': []
2025-12-10 18:09:18,417 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'conditions_precedent': ['No deterioration in loss record']
2025-12-10 18:09:18,418 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'documentation_required': []
2025-12-10 18:09:18,419 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:09:18,419 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:09:18,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:09:18,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:09:18,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:09:18,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:09:18,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:09:18,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:09:18,422 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:09:18,422 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:09:18,422 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:09:18,422 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 1
2025-12-10 18:09:18,423 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['No deterioration in loss record']
2025-12-10 18:09:18,423 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 1 subjectivities for Liva Insurance
2025-12-10 18:09:18,423 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-10 18:09:18,424 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 18:09:18,424 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 18:09:18,424 - app.services.ai_ranker - INFO -    Exclusions: 42
2025-12-10 18:09:18,424 - app.services.ai_ranker - INFO -    Subjectivities: 1
2025-12-10 18:09:18,424 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:09:18,425 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Wataniya Insurance
2025-12-10 18:09:18,425 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:09:18,425 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:09:18,425 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:09:18,426 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:09:18,426 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:09:18,426 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:09:18,427 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:09:18,427 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:09:18,427 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:09:18,427 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:09:18,428 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 365,000,000.00",
    "business_interruption": null,
    "total_sum_insured_numeric": 365000000,
    "total_sum_insured": "SAR 365,000,000.00"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "all losses",
        "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "all losses",
      "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": null,
    "srcc_malicious_damage": null
  },
  "exclusions_complete": {
    "all_exclusions
2025-12-10 18:09:18,429 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:09:18,430 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:09:18,430 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:09:18,430 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:09:18,430 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:09:18,431 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:09:18,431 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:09:18,431 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:09:18,432 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,432 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:09:18,432 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:09:18,432 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:09:18,433 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:09:18,433 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:09:18,433 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:09:18,433 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:09:18,433 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:09:18,434 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:09:18,434 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Wataniya Insurance
2025-12-10 18:09:18,434 - app.services.ai_ranker - INFO - 
üìä Wataniya Insurance:
2025-12-10 18:09:18,435 - app.services.ai_ranker - INFO -    Warranties: 5
2025-12-10 18:09:18,435 - app.services.ai_ranker - INFO -    Extensions: 9
2025-12-10 18:09:18,435 - app.services.ai_ranker - INFO -    Exclusions: 28
2025-12-10 18:09:18,436 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:09:18,436 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Al Rajhi Takaful
2025-12-10 18:09:18,813 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-10 18:09:18,814 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 18:09:18,814 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:09:18,814 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:09:18,814 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:09:18,815 - app.services.ai_ranker - INFO -       ‚Ä¢ Fire equipment maintenance warranty
2025-12-10 18:09:18,815 - app.services.ai_ranker - INFO -       ‚Ä¢ Sprinkler maintenance warranty
2025-12-10 18:09:18,815 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-10 18:09:19,312 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-10 18:09:19,313 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 18:09:19,313 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:09:19,313 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:09:19,314 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:09:19,314 - app.services.ai_ranker - INFO -       ‚Ä¢ Tandem Lift Provision Warranty
2025-12-10 18:09:19,314 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Wataniya Insurance
2025-12-10 18:09:19,707 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-10 18:09:19,708 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 9
2025-12-10 18:09:19,708 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:09:19,708 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:09:19,708 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:09:19,709 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted no known or reported losses for the last five years & latest 5 project...
2025-12-10 18:09:19,709 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that Reasonable Precautions to be taken during the project period
2025-12-10 18:09:19,709 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:09:19,710 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-10 18:09:19,710 - app.services.ai_ranker - INFO - ================================================================================

2025-12-10 18:09:19,711 - app.services.ai_ranker - INFO - üìä Al Rajhi Takaful: Hakim Score=80.0 (Baseline), Weighted Score=68.23
2025-12-10 18:09:19,711 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=81.91
2025-12-10 18:09:19,711 - app.services.ai_ranker - INFO - üìä Wataniya Insurance: Hakim Score=88.0 (Strong), Weighted Score=82.60
2025-12-10 18:09:19,711 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-10 18:09:19,712 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-10 18:09:30,344 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:09:30,348 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-10 18:09:30,349 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-10 18:09:30,350 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-10 18:09:33,902 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:09:33,915 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Wataniya Insurance: Wataniya Insurance is the best recommended provider due to its top rank of #1 with a score of 82.6/1...
2025-12-10 18:09:33,916 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-10 18:09:33,918 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49
2025-12-10 18:09:33,918 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-10 18:09:33,919 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765389993_e73ab5a94748
2025-12-10 18:09:33,919 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-10 18:09:33,919 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-10 18:09:33,920 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-10 18:09:33,920 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Al Rajhi Takaful
2025-12-10 18:09:33,921 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:09:33,921 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:09:33,921 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:09:33,922 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:09:33,922 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:09:33,923 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:09:33,923 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Liva Insurance
2025-12-10 18:09:33,924 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:09:33,924 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:09:33,925 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:09:33,925 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:09:33,926 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:09:33,926 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:09:33,930 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-10 18:09:33,930 - app.services.mongodb_service_enhanced - INFO -    Summary: 4,344 bytes
2025-12-10 18:09:33,931 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 35,012 bytes
2025-12-10 18:09:33,932 - app.services.mongodb_service_enhanced - INFO -    Data table: 15,446 bytes
2025-12-10 18:09:33,933 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,747 bytes
2025-12-10 18:09:33,934 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 44,034 bytes
2025-12-10 18:09:33,934 - app.services.mongodb_service_enhanced - INFO -    Total document: 210,003 bytes
2025-12-10 18:09:33,934 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-10 18:09:33,935 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-10 18:09:33,935 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-10 18:09:33,935 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-10 18:09:33,935 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-10 18:09:33,935 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-10 18:09:33,936 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-10 18:09:33,936 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-10 18:09:33,936 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-10 18:09:33,936 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-10 18:09:33,936 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-10 18:09:33,937 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-10 18:09:33,937 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-10 18:09:33,937 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-10 18:09:33,937 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-10 18:09:33,938 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-10 18:09:33,938 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-10 18:09:33,938 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:09:33,939 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:09:33,940 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-10 18:09:33,946 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765389993_e73ab5a94748
2025-12-10 18:09:33,947 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 6939b75d5a37704a1c0a83e6
2025-12-10 18:09:33,952 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-10 18:09:33,952 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-10 18:09:33,952 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-10 18:09:33,952 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-10 18:09:33,953 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-10 18:09:33,953 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-10 18:09:33,953 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-10 18:09:33,954 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-10 18:09:33,954 - app.services.mongodb_service_enhanced - INFO -    - First row keys (27): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-10 18:09:33,954 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-10 18:09:33,955 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-10 18:09:33,955 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-10 18:09:33,955 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:09:33,956 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-10 18:09:33,957 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-10 18:09:33,957 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-10 18:09:33,957 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-10 18:09:33,958 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-10 18:09:33,958 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:09:33,958 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 6939b75d5a37704a1c0a83e6
2025-12-10 18:09:33,959 - app.api.routes - INFO -    Database: hakemAI
2025-12-10 18:09:33,959 - app.api.routes - INFO -    Collection: comparisons
2025-12-10 18:09:33,959 - app.api.routes - INFO -    Comparison ID: cmp_1765389993_e73ab5a94748
2025-12-10 18:09:33,960 - app.api.routes - INFO -    User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:09:33,960 - app.api.routes - INFO -    Company ID: 69399d1513c530e734f1ae49
2025-12-10 18:09:33,965 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:33,967 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:33,967 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:09:33,968 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-10 18:09:33,968 - app.api.routes - INFO - ======================================================================
2025-12-10 18:09:33,968 - app.api.routes - INFO - üìä Comparison ID: cmp_1765389993_e73ab5a94748
2025-12-10 18:09:33,969 - app.api.routes - INFO - üë§ User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:09:33,969 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-10 18:09:33,969 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-10 18:09:33,970 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:09:33,970 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:09:33,970 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:09:33,972 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:09:33,975 - app.api.routes - INFO - üìä Remaining comparisons: 247
2025-12-10 18:09:33,975 - app.api.routes - INFO - ======================================================================

2025-12-10 18:09:33,975 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_f2523d3e8328 ‚Üí comparison_id: cmp_1765389993_e73ab5a94748
2025-12-10 18:09:33,978 - main - INFO - üì§ POST /api/compare-quotes - 200 - 180.34s
2025-12-10 18:09:34,173 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:09:34,174 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:09:34,176 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:09:34,177 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:09:34,178 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:09:34,179 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:09:34,180 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:09:34,180 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:09:34,182 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:34,182 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,183 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:34,187 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:34,188 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,191 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:09:34,197 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:34,197 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,198 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:34,202 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:34,202 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,205 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:09:34,209 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:34,210 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,216 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:34,221 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:34,222 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,227 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:09:34,234 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:34,235 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,236 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:34,239 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:34,240 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:09:34,248 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:09:38,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:38,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:09:38,102 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:38,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:38,107 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:09:38,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:09:53,257 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:53,259 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,262 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:53,270 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:53,271 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,280 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:09:53,853 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:53,855 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,859 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:53,866 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:53,866 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,875 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:09:53,882 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:09:53,884 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,886 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:09:53,896 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:09:53,901 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:09:53,914 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:10:04,177 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:10:04,178 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:10:04,179 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:10:04,184 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:10:04,185 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:10:04,191 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:10:24,356 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:10:24,356 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:10:24,357 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:10:24,360 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:10:24,361 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:10:24,364 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:10:35,409 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:10:35,409 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:10:35,411 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:10:35,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:10:35,414 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:10:35,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:10:54,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:10:54,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:10:54,098 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:10:54,101 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:10:54,102 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:10:54,105 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:11:05,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:11:05,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:11:05,102 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:11:05,105 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:11:05,105 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:11:05,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:11:24,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:11:24,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:11:24,413 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:11:24,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:11:24,416 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:11:24,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:11:35,406 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:11:35,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:11:35,408 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:11:35,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:11:35,411 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:11:35,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:11:59,549 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:11:59,550 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:11:59,553 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:11:59,562 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:11:59,563 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:11:59,568 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:11:59,577 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:11:59,578 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:11:59,580 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:11:59,585 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:11:59,586 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:11:59,591 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:12:30,092 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:12:30,093 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:12:30,094 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:12:30,098 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:12:30,099 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:12:30,104 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:13:06,276 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-10 18:13:06,278 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-10 18:13:06,287 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 18:13:06,326 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 18:13:06,326 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:13:06,326 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:13:06,326 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:13:06,328 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:13:06,331 - app.api.routes - INFO - ‚úÖ User 6939983dfe49b4482890eb8b can perform comparison
2025-12-10 18:13:06,332 - app.api.routes - INFO -    - Remaining comparisons: 247
2025-12-10 18:13:06,332 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-10 18:13:06,332 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-10 18:13:06,332 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765390386_282ca8ec21af
2025-12-10 18:13:06,333 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_1d0f21bfb66d (3 files)
2025-12-10 18:13:06,333 - app.api.routes - INFO - üìä Initialized progress tracking: job_1d0f21bfb66d
2025-12-10 18:13:06,333 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:13:06,334 - app.api.routes - INFO - üìÑ Processing: Malath.pdf
2025-12-10 18:13:06,334 - app.api.routes - INFO - ======================================================================
2025-12-10 18:13:06,335 - app.api.routes - INFO - üíæ Saved file: Malath.pdf ‚Üí bfe4d27cfd2d413c9519d0d6a36f0383.pdf (203279 bytes)
2025-12-10 18:13:06,335 - app.api.routes - INFO - üìñ Extracting text from: Malath.pdf
2025-12-10 18:13:06,335 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:13:06,335 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\bfe4d27cfd2d413c9519d0d6a36f0383.pdf
2025-12-10 18:13:06,336 - app.api.routes - INFO - üìÑ Processing: GIG.pdf
2025-12-10 18:13:06,336 - app.api.routes - INFO - ======================================================================
2025-12-10 18:13:06,374 - app.services.pdf_extractor - INFO - Successfully extracted 6578 characters from 3 pages
2025-12-10 18:13:06,376 - app.api.routes - INFO - üíæ Saved file: GIG.pdf ‚Üí d600aec6fb7c4fada50dc570f49be0e7.pdf (478025 bytes)
2025-12-10 18:13:06,376 - app.api.routes - INFO - üìñ Extracting text from: GIG.pdf
2025-12-10 18:13:06,377 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:13:06,377 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\d600aec6fb7c4fada50dc570f49be0e7.pdf
2025-12-10 18:13:06,377 - app.api.routes - INFO - üìÑ Processing: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:13:06,378 - app.api.routes - INFO - ======================================================================
2025-12-10 18:13:06,535 - app.services.pdf_extractor - INFO - Successfully extracted 6549 characters from 3 pages
2025-12-10 18:13:06,535 - app.api.routes - INFO - üíæ Saved file: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf ‚Üí c7dd4162eb0b46f680f5f6be7fea22ca.pdf (273210 bytes)
2025-12-10 18:13:06,536 - app.api.routes - INFO - üìñ Extracting text from: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:13:06,536 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\c7dd4162eb0b46f680f5f6be7fea22ca.pdf
2025-12-10 18:13:06,536 - app.api.routes - INFO - ü§ñ Parsing with AI: Malath.pdf
2025-12-10 18:13:06,583 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Malath.pdf
2025-12-10 18:13:06,585 - app.services.pdf_extractor - INFO - Successfully extracted 3016 characters from 1 pages
2025-12-10 18:13:06,585 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Malath Insurance (pattern: \bmalath\b)
2025-12-10 18:13:06,585 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Malath Insurance
2025-12-10 18:13:06,585 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/S. Saudi Amana Contracting Co.
2025-12-10 18:13:06,586 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:13:06,586 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 18:13:06,620 - app.services.ai_parser - INFO - üéØ Pre-extracted 2 sublimits
2025-12-10 18:13:06,620 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:13:06,625 - app.api.routes - INFO - ü§ñ Parsing with AI: GIG.pdf
2025-12-10 18:13:06,625 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for GIG.pdf
2025-12-10 18:13:06,626 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Gulf Insurance Group (GIG) (pattern: \bgig\b)
2025-12-10 18:13:06,626 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Gulf Insurance Group (GIG)
2025-12-10 18:13:06,626 - app.services.ai_parser - INFO - üë§ Insured (Customer): Saudi Amana Contracting Co. L.L.C
2025-12-10 18:13:06,627 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:13:06,627 - app.services.ai_parser - INFO - üìã Detected format: GIG
2025-12-10 18:13:06,668 - app.services.ai_parser - INFO - üéØ Pre-extracted 4 sublimits
2025-12-10 18:13:06,669 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:13:06,717 - app.api.routes - INFO - ü§ñ Parsing with AI: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:13:06,718 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:13:06,718 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Arabian Shield Cooperative Insurance Company
2025-12-10 18:13:06,719 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Arabian Shield Cooperative Insurance Company
2025-12-10 18:13:06,719 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-10 18:13:06,719 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:13:06,719 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 18:13:06,734 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-10 18:13:06,735 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:13:31,759 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:31,799 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:13:31,799 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:13:31,799 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:13:31,799 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 4 benefits, using fallback...
2025-12-10 18:13:31,801 - app.services.ai_parser - INFO - üìã Fallback extracted 28 benefits from patterns
2025-12-10 18:13:31,801 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 29 total
2025-12-10 18:13:31,802 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:13:36,339 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:36,344 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:13:36,345 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:13:36,346 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:13:36,346 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 4 warranties, using fallback...
2025-12-10 18:13:36,351 - app.services.ai_parser - INFO - ‚ö†Ô∏è Fallback extracted 6 warranties from patterns
2025-12-10 18:13:36,352 - app.services.ai_parser - INFO - ‚úÖ Enhanced warranties: 7 total
2025-12-10 18:13:36,352 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 18:13:36,357 - app.services.ai_parser - INFO - üìã Fallback extracted 10 benefits from patterns
2025-12-10 18:13:36,358 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 10 total
2025-12-10 18:13:36,359 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:13:39,206 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:39,207 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:13:39,207 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:13:39,207 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 69,602 @ 0.2%' ‚Üí '0.2%'
2025-12-10 18:13:39,208 - app.services.ai_parser - INFO - üí∞ Calculated: 28590992628.64 from SI: 41077832.0 √ó Rate: SR 69,602 @ 0.2%
2025-12-10 18:13:39,208 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 10,000
2025-12-10 18:13:39,208 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:13:39,208 - app.services.ai_parser - INFO - üìä Counts: 29 benefits, 25 exclusions, 6 warranties, 2 extensions
2025-12-10 18:13:44,030 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:44,032 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:13:44,033 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:13:44,033 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 169,122.3 @ 0.30%' ‚Üí '0.30%'
2025-12-10 18:13:44,033 - app.services.ai_parser - INFO - üí∞ Calculated: 69471773000.12 from SI: 41077831.25 √ó Rate: SR 169,122.3 @ 0.30%
2025-12-10 18:13:44,034 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 10,000
2025-12-10 18:13:44,034 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:13:44,034 - app.services.ai_parser - INFO - üìä Counts: 10 benefits, 37 exclusions, 7 warranties, 0 extensions
2025-12-10 18:13:45,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:45,163 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-10 18:13:45,164 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:13:45,164 - app.services.ai_parser - INFO - 
2025-12-10 18:13:45,164 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:45,164 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - GIG.pdf
2025-12-10 18:13:45,165 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:45,165 - app.services.ai_parser - INFO - üè¢ Insurer: Gulf Insurance Group (GIG)
2025-12-10 18:13:45,165 - app.services.ai_parser - INFO - üë§ Insured: Saudi Amana Contracting Co. L.L.C
2025-12-10 18:13:45,166 - app.services.ai_parser - INFO - üí∞ Premium: SAR 69,602.00
2025-12-10 18:13:45,167 - app.services.ai_parser - INFO - üìä Rate: 0.2%
2025-12-10 18:13:45,167 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-10 18:13:45,168 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-10 18:13:45,168 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 10,000
2025-12-10 18:13:45,169 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:13:45,169 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:13:45,170 - app.services.ai_parser - INFO - 
2025-12-10 18:13:45,170 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:13:45,170 - app.services.ai_parser - INFO -    ‚úì Benefits: 29
2025-12-10 18:13:45,171 - app.services.ai_parser - INFO -    ‚úì Exclusions: 25
2025-12-10 18:13:45,171 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 18:13:45,172 - app.services.ai_parser - INFO -    ‚úì Extensions: 2
2025-12-10 18:13:45,173 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:13:45,174 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:45,177 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: d600aec6fb7c4fada50dc570f49be0e7.pdf ‚Üí 6939b859ef7fa63f88950a9e
2025-12-10 18:13:45,177 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b859ef7fa63f88950a9e
2025-12-10 18:13:45,182 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: GIG.pdf ‚Üí 6939b859ef7fa63f88950a9f (478025 bytes)
2025-12-10 18:13:45,183 - app.api.routes - INFO - ‚úÖ Saved user document: GIG.pdf ‚Üí 6939b859ef7fa63f88950a9f
2025-12-10 18:13:45,184 - app.api.routes - INFO - ‚úÖ Successfully processed: GIG.pdf
2025-12-10 18:13:49,898 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:13:49,906 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-10 18:13:49,907 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:13:49,908 - app.services.ai_parser - INFO - 
2025-12-10 18:13:49,908 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:49,909 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Malath.pdf
2025-12-10 18:13:49,909 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:49,910 - app.services.ai_parser - INFO - üè¢ Insurer: Malath Insurance
2025-12-10 18:13:49,910 - app.services.ai_parser - INFO - üë§ Insured: M/S. Saudi Amana Contracting Co.
2025-12-10 18:13:49,911 - app.services.ai_parser - INFO - üí∞ Premium: SAR 169,122.30
2025-12-10 18:13:49,911 - app.services.ai_parser - INFO - üìä Rate: 0.30%
2025-12-10 18:13:49,912 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-10 18:13:49,912 - app.services.ai_parser - INFO - üìè Quality: 98.0/100
2025-12-10 18:13:49,913 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 10,000
2025-12-10 18:13:49,913 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:13:49,914 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:13:49,915 - app.services.ai_parser - INFO - 
2025-12-10 18:13:49,915 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:13:49,916 - app.services.ai_parser - INFO -    ‚úì Benefits: 10
2025-12-10 18:13:49,916 - app.services.ai_parser - INFO -    ‚úì Exclusions: 37
2025-12-10 18:13:49,917 - app.services.ai_parser - INFO -    ‚úì Warranties: 7
2025-12-10 18:13:49,917 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 18:13:49,918 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:13:49,918 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:13:49,920 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: bfe4d27cfd2d413c9519d0d6a36f0383.pdf ‚Üí 6939b85def7fa63f88950aa0
2025-12-10 18:13:49,921 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b85def7fa63f88950aa0
2025-12-10 18:13:49,924 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 6939b85def7fa63f88950aa1 (203279 bytes)
2025-12-10 18:13:49,924 - app.api.routes - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 6939b85def7fa63f88950aa1
2025-12-10 18:13:49,925 - app.api.routes - INFO - ‚úÖ Successfully processed: Malath.pdf
2025-12-10 18:14:54,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:14:54,754 - app.services.ai_parser - ERROR - ‚ùå JSON parsing failed: Expecting property name enclosed in double quotes: line 34 column 3686 (char 4902)
2025-12-10 18:14:54,756 - app.services.ai_parser - ERROR - ‚ùå JSON parsing failed after cleanup: Expecting ',' delimiter: line 1 column 1105 (char 1104)
2025-12-10 18:14:54,757 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Proceeding with minimal empty extraction due to JSON errors
2025-12-10 18:14:54,757 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:14:54,757 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:14:54,758 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Deductible missing/invalid, using fallback...
2025-12-10 18:14:54,760 - app.services.ai_parser - INFO - ‚úÖ Extracted deductible: MD: As per expiring policy
2025-12-10 18:14:54,760 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 warranties, using fallback...
2025-12-10 18:14:54,760 - app.services.ai_parser - INFO - ‚ö†Ô∏è Fallback extracted 0 warranties from patterns
2025-12-10 18:14:54,761 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 exclusions, using fallback...
2025-12-10 18:14:54,763 - app.services.ai_parser - INFO - üö´ Fallback extracted 0 exclusions from patterns
2025-12-10 18:14:54,763 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 18:14:54,764 - app.services.ai_parser - INFO - üìã Fallback extracted 0 benefits from patterns
2025-12-10 18:14:54,764 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:15:00,247 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:15:00,486 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:15:00,487 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:15:00,487 - app.services.ai_parser - INFO - üîÑ Rate: '' ‚Üí 'N/A'
2025-12-10 18:15:00,487 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles (fallback): MD: As per expiring policy
2025-12-10 18:15:00,487 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:15:00,488 - app.services.ai_parser - INFO - üìä Counts: 0 benefits, 0 exclusions, 0 warranties, 0 extensions
2025-12-10 18:15:06,395 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:15:06,645 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 0.0
2025-12-10 18:15:06,646 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:15:06,647 - app.services.ai_parser - INFO - 
2025-12-10 18:15:06,647 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:15:06,648 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:15:06,649 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:15:06,649 - app.services.ai_parser - INFO - üè¢ Insurer: Arabian Shield Cooperative Insurance Company
2025-12-10 18:15:06,650 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-10 18:15:06,650 - app.services.ai_parser - INFO - üí∞ Premium: N/A
2025-12-10 18:15:06,651 - app.services.ai_parser - INFO - üìä Rate: N/A
2025-12-10 18:15:06,652 - app.services.ai_parser - INFO - üéØ Score: 0.0/100
2025-12-10 18:15:06,652 - app.services.ai_parser - INFO - üìè Quality: 60.0/100
2025-12-10 18:15:06,653 - app.services.ai_parser - INFO - üîß Deductible: MD: As per expiring policy
2025-12-10 18:15:06,653 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:15:06,654 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:15:06,655 - app.services.ai_parser - INFO - 
2025-12-10 18:15:06,655 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:15:06,656 - app.services.ai_parser - INFO -    ‚úì Benefits: 0
2025-12-10 18:15:06,656 - app.services.ai_parser - INFO -    ‚úì Exclusions: 0
2025-12-10 18:15:06,657 - app.services.ai_parser - INFO -    ‚úì Warranties: 0
2025-12-10 18:15:06,658 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 18:15:06,658 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:15:06,659 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:15:06,663 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: c7dd4162eb0b46f680f5f6be7fea22ca.pdf ‚Üí 6939b8aaef7fa63f88950aa2
2025-12-10 18:15:06,663 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939b8aaef7fa63f88950aa2
2025-12-10 18:15:06,667 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf ‚Üí 6939b8aaef7fa63f88950aa3 (273210 bytes)
2025-12-10 18:15:06,668 - app.api.routes - INFO - ‚úÖ Saved user document: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf ‚Üí 6939b8aaef7fa63f88950aa3
2025-12-10 18:15:06,668 - app.api.routes - INFO - ‚úÖ Successfully processed: 00002P - V2 - Saudi Amana Contracting Co. - PE - Renewal Notice.pdf
2025-12-10 18:15:06,669 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-10 18:15:06,670 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:15:06,672 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-10 18:15:06,673 - app.api.routes - INFO - ======================================================================
2025-12-10 18:15:06,674 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-10 18:15:06,674 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-10 18:15:06,674 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-10 18:15:06,675 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:15:06,675 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-10 18:15:06,675 - app.services.ai_ranker - INFO - ================================================================================
2025-12-10 18:15:06,676 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:15:06,676 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Gulf Insurance Group (GIG)
2025-12-10 18:15:06,676 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:15:06,677 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:15:06,677 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:15:06,678 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:15:06,678 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:15:06,678 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:15:06,679 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:15:06,679 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:15:06,680 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:15:06,680 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:15:06,682 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GIG",
  "sum_insured_breakdown": {
    "material_damage": "SAR 41,077,832",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 41077832,
    "total_sum_insured": "SAR 41,077,832"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 500,000",
        "deductible": "5%, min SR 10,000",
        "applies_to": "material_damage"
      },
      {
        "range": "up to SR 1,000,000",
        "deductible": "5%, min SR 25,000",
        "applies_to": "material_damage"
      },
      {
        "range": "up to SR 2,000,000",
        "deductible": "5%, min SR 50,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 2,000,000",
        "deductible": "5%, min SR 75,000",
        "applies_to": "material_damage"
      },
      {
        "range": "Gantry Crane",
        "deductible": "10%, min SR 50,000",
        "applies_to": "materi
2025-12-10 18:15:06,685 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,685 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:15:06,686 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:15:06,686 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:15:06,686 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:15:06,686 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:15:06,687 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:15:06,687 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:15:06,687 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,687 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:15:06,688 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:15:06,688 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,688 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:15:06,688 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:15:06,689 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:15:06,689 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:15:06,689 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:15:06,690 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,690 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Gulf Insurance Group (GIG)
2025-12-10 18:15:06,690 - app.services.ai_ranker - INFO - 
üìä Gulf Insurance Group (GIG):
2025-12-10 18:15:06,691 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 18:15:06,691 - app.services.ai_ranker - INFO -    Extensions: 2
2025-12-10 18:15:06,691 - app.services.ai_ranker - INFO -    Exclusions: 25
2025-12-10 18:15:06,691 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:15:06,692 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:15:06,692 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Malath Insurance
2025-12-10 18:15:06,692 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:15:06,692 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:15:06,693 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:15:06,693 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:15:06,693 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:15:06,693 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:15:06,694 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:15:06,694 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:15:06,694 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:15:06,694 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:15:06,695 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SR 41,077,831.25",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 41077831.25,
    "total_sum_insured": "SR 41,077,831.25"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 100,000",
        "deductible": "5%, min SR 10,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100,000 to SR 500,000",
        "deductible": "10%, min SR 25,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500,000",
        "deductible": "10%, min SR 75,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "up to SR 100,000",
      "deductible": "5%, min SR 10,000",
      "applies_to": "material_damage"
    },
    "
2025-12-10 18:15:06,698 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,699 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:15:06,699 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:15:06,699 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:15:06,699 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:15:06,699 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:15:06,700 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:15:06,700 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:15:06,700 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,700 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:15:06,700 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:15:06,701 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,701 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:15:06,701 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:15:06,701 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:15:06,701 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:15:06,702 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:15:06,702 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,702 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Malath Insurance
2025-12-10 18:15:06,702 - app.services.ai_ranker - INFO - 
üìä Malath Insurance:
2025-12-10 18:15:06,703 - app.services.ai_ranker - INFO -    Warranties: 7
2025-12-10 18:15:06,703 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 18:15:06,703 - app.services.ai_ranker - INFO -    Exclusions: 37
2025-12-10 18:15:06,703 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:15:06,703 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:15:06,704 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Arabian Shield Cooperative Insurance Company
2025-12-10 18:15:06,704 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:15:06,704 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:15:06,704 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:15:06,704 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:15:06,705 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:15:06,705 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:15:06,705 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:15:06,706 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:15:06,706 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:15:06,707 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:15:06,707 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {},
  "deductibles_complete": {
    "fallback_summary": "MD: As per expiring policy",
    "applicable_md_tier": {},
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {},
  "exclusions_complete": {},
  "warranties_actual": {},
  "extensions_and_conditions": {},
  "coverage_details": {},
  "subjectivities": {
    "binding_requirements": [
      "Risk survey within 30 days",
      "Civil Defense certificate required",
      "KYC/AML clearance",
      "... all requirements"
    ],
    "conditions_precedent": [
      "No deterioration of loss record",
      "Survey and fulfillment of recommendations",
      "... all conditions"
    ],
    "documentation_required": [
      "Signed proposal form",
      "GPS coordinates",
      "Photographs of property",
      "Civil Defense License",
      "... all documents"
    ]
  },
  "operational_details": {
    "validity_period": "15 days from date s
2025-12-10 18:15:06,710 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,710 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:15:06,710 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:15:06,711 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:15:06,711 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:15:06,712 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:15:06,712 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:15:06,712 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:15:06,713 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,713 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:15:06,714 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:15:06,714 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:15:06,714 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:15:06,714 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:15:06,715 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:15:06,715 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:15:06,715 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:15:06,715 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:15:06,715 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Arabian Shield Cooperative Insurance Company
2025-12-10 18:15:06,716 - app.services.ai_ranker - INFO - 
üìä Arabian Shield Cooperative Insurance Company:
2025-12-10 18:15:06,716 - app.services.ai_ranker - INFO -    Warranties: 0
2025-12-10 18:15:06,716 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 18:15:06,716 - app.services.ai_ranker - INFO -    Exclusions: 0
2025-12-10 18:15:06,716 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:15:06,717 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Gulf Insurance Group (GIG)
2025-12-10 18:15:06,898 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 6
2025-12-10 18:15:06,899 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 2
2025-12-10 18:15:06,899 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:15:06,899 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:15:06,899 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:15:06,900 - app.services.ai_ranker - INFO -       ‚Ä¢ Hot works Warranty
2025-12-10 18:15:06,900 - app.services.ai_ranker - INFO -       ‚Ä¢ No smoking Warranty
2025-12-10 18:15:06,900 - app.services.ai_ranker - INFO -       ‚Ä¢ Housekeeping Warranty
2025-12-10 18:15:06,900 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Malath Insurance
2025-12-10 18:15:07,092 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 7
2025-12-10 18:15:07,092 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 18:15:07,092 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:15:07,093 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:15:07,093 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:15:07,093 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that all plant and equipment is operated and maintained in accordance ...
2025-12-10 18:15:07,093 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that All operators of the equipment must be licensed to operate such p...
2025-12-10 18:15:07,094 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that all equipment is fitted with operational overload alarms.
2025-12-10 18:15:07,094 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Arabian Shield Cooperative Insurance Company
2025-12-10 18:15:07,100 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-10 18:15:07,100 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 18:15:07,100 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 0
2025-12-10 18:15:07,101 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:15:07,101 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:15:07,101 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-10 18:15:07,101 - app.services.ai_ranker - INFO - ================================================================================

2025-12-10 18:15:07,102 - app.services.ai_ranker - INFO - üìä Gulf Insurance Group (GIG): Hakim Score=88.0 (Strong), Weighted Score=87.59
2025-12-10 18:15:07,102 - app.services.ai_ranker - INFO - üìä Malath Insurance: Hakim Score=75.0 (Standard), Weighted Score=58.45
2025-12-10 18:15:07,103 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è Arabian Shield Cooperative Insurance Company: Invalid premium (0), applying penalty score
2025-12-10 18:15:07,103 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è Arabian Shield Cooperative Insurance Company: Invalid rate (0.0), applying penalty score
2025-12-10 18:15:07,103 - app.services.ai_ranker - INFO - üìä Arabian Shield Cooperative Insurance Company: Hakim Score=80.0 (Baseline), Weighted Score=46.50
2025-12-10 18:15:07,103 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-10 18:15:07,104 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-10 18:15:18,252 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:15:18,270 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-10 18:15:18,271 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-10 18:15:18,272 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-10 18:15:22,051 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:15:22,062 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Gulf Insurance Group (GIG): Gulf Insurance Group (GIG) stands out as the best insurance provider due to its exceptional score of...
2025-12-10 18:15:22,063 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-10 18:15:22,065 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49
2025-12-10 18:15:22,066 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-10 18:15:22,067 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765390386_282ca8ec21af
2025-12-10 18:15:22,067 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-10 18:15:22,067 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-10 18:15:22,068 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-10 18:15:22,068 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Gulf Insurance Group (GIG)
2025-12-10 18:15:22,068 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:15:22,068 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:15:22,069 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:15:22,069 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:15:22,069 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:15:22,069 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:15:22,070 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Malath Insurance
2025-12-10 18:15:22,070 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:15:22,070 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:15:22,070 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:15:22,071 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:15:22,071 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:15:22,071 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:15:22,073 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-10 18:15:22,073 - app.services.mongodb_service_enhanced - INFO -    Summary: 4,074 bytes
2025-12-10 18:15:22,073 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 23,478 bytes
2025-12-10 18:15:22,074 - app.services.mongodb_service_enhanced - INFO -    Data table: 10,229 bytes
2025-12-10 18:15:22,074 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,891 bytes
2025-12-10 18:15:22,074 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 28,830 bytes
2025-12-10 18:15:22,074 - app.services.mongodb_service_enhanced - INFO -    Total document: 145,226 bytes
2025-12-10 18:15:22,075 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-10 18:15:22,075 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-10 18:15:22,075 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-10 18:15:22,076 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-10 18:15:22,076 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-10 18:15:22,077 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-10 18:15:22,077 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-10 18:15:22,078 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-10 18:15:22,078 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-10 18:15:22,079 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-10 18:15:22,080 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-10 18:15:22,081 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-10 18:15:22,082 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-10 18:15:22,082 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-10 18:15:22,082 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-10 18:15:22,083 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-10 18:15:22,083 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-10 18:15:22,083 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:15:22,084 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:15:22,084 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-10 18:15:22,087 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765390386_282ca8ec21af
2025-12-10 18:15:22,088 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 6939b8ba5a37704a1c0a83e7
2025-12-10 18:15:22,090 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-10 18:15:22,090 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-10 18:15:22,091 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-10 18:15:22,091 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-10 18:15:22,092 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-10 18:15:22,092 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-10 18:15:22,093 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-10 18:15:22,093 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-10 18:15:22,093 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-10 18:15:22,094 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-10 18:15:22,094 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-10 18:15:22,094 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-10 18:15:22,095 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:15:22,095 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-10 18:15:22,095 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-10 18:15:22,095 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-10 18:15:22,096 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-10 18:15:22,096 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-10 18:15:22,096 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:15:22,097 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 6939b8ba5a37704a1c0a83e7
2025-12-10 18:15:22,097 - app.api.routes - INFO -    Database: hakemAI
2025-12-10 18:15:22,097 - app.api.routes - INFO -    Collection: comparisons
2025-12-10 18:15:22,098 - app.api.routes - INFO -    Comparison ID: cmp_1765390386_282ca8ec21af
2025-12-10 18:15:22,098 - app.api.routes - INFO -    User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,098 - app.api.routes - INFO -    Company ID: 69399d1513c530e734f1ae49
2025-12-10 18:15:22,100 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,100 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,100 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:15:22,101 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-10 18:15:22,101 - app.api.routes - INFO - ======================================================================
2025-12-10 18:15:22,101 - app.api.routes - INFO - üìä Comparison ID: cmp_1765390386_282ca8ec21af
2025-12-10 18:15:22,102 - app.api.routes - INFO - üë§ User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,102 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-10 18:15:22,103 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-10 18:15:22,103 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,103 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:15:22,104 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:15:22,106 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:15:22,109 - app.api.routes - INFO - üìä Remaining comparisons: 246
2025-12-10 18:15:22,110 - app.api.routes - INFO - ======================================================================

2025-12-10 18:15:22,110 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_1d0f21bfb66d ‚Üí comparison_id: cmp_1765390386_282ca8ec21af
2025-12-10 18:15:22,112 - main - INFO - üì§ POST /api/compare-quotes - 200 - 135.82s
2025-12-10 18:15:22,302 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:15:22,304 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,306 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:15:22,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:15:22,412 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.11s
2025-12-10 18:15:22,419 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:15:22,420 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,421 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:15:22,432 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:15:22,432 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,438 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:15:22,443 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:15:22,445 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,452 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:15:22,459 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:15:22,460 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,467 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:15:22,470 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:15:22,471 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,473 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:15:22,483 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:15:22,483 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:22,490 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:15:46,858 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-10 18:15:46,858 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-10 18:15:53,097 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:15:53,098 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:15:53,099 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:15:53,102 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:15:53,103 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:15:53,107 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:16:03,884 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:03,886 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,890 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:03,903 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:03,904 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,923 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:16:03,930 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:03,932 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,936 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:03,949 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:03,950 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,959 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:16:03,966 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:03,967 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,969 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:03,975 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:03,976 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,983 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:16:03,986 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:03,987 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:03,989 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:03,999 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:04,000 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:04,007 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:16:05,249 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:05,250 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,251 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:05,256 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:05,257 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,263 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:16:05,810 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:05,811 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,813 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:05,827 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:05,827 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,836 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:16:05,851 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:05,853 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,863 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:05,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:05,887 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:05,926 - main - INFO - üì§ GET /api/comparisons - 200 - 0.07s
2025-12-10 18:16:13,939 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:13,940 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:13,941 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:13,945 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:13,946 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:13,951 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:16:14,439 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:14,440 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:14,443 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:14,452 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:14,453 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:14,462 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:16:14,473 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:14,475 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:14,478 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:14,495 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:14,500 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:14,515 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:16:23,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:23,402 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:16:23,404 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:23,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:23,408 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:16:23,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:16:45,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:45,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:16:45,103 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:45,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:45,112 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:16:45,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:16:53,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:16:53,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:16:53,109 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:16:53,118 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:16:53,119 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:16:53,122 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:17:15,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:15,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:15,416 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:15,428 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:15,429 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:15,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:17:23,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:23,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:17:23,414 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:23,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:23,418 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:17:23,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:17:44,429 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:44,430 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,431 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:44,434 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:44,435 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,439 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:17:44,498 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:44,498 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,500 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:44,504 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:44,504 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,511 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:17:44,682 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:44,683 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,685 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:44,692 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:44,693 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:44,698 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:17:45,326 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:45,327 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:45,331 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:45,346 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:45,353 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:45,373 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:17:45,387 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:45,394 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:45,412 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:45,429 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:45,430 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:45,446 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-10 18:17:52,225 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:52,226 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,227 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:52,231 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:52,231 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,237 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:17:52,754 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:52,756 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,761 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:52,775 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:52,808 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,825 - main - INFO - üì§ GET /api/comparisons - 200 - 0.07s
2025-12-10 18:17:52,887 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:52,891 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,894 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:52,911 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:52,912 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:17:52,928 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:17:53,092 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:17:53,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:17:53,097 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:17:53,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:17:53,110 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:17:53,125 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:18:23,102 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:18:23,103 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:18:23,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:18:23,109 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:18:23,111 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:18:23,119 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:18:23,119 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:18:23,126 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:18:23,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:18:23,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:18:23,416 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:18:23,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:18:23,421 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:18:23,429 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:18:53,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:18:53,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:18:53,104 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:18:53,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:18:53,111 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:18:53,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:18:53,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:18:53,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:18:53,409 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:18:53,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:18:53,415 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:18:53,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:19:23,093 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:19:23,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:19:23,095 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:19:23,099 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:19:23,099 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:19:23,103 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:19:25,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:19:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:19:25,417 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:19:25,421 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:19:25,421 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:19:25,427 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:19:53,100 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:19:53,101 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:19:53,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:19:53,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:19:53,105 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:19:53,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:19:53,111 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:19:53,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:19:53,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:19:53,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:19:53,405 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:19:53,410 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:19:53,410 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:19:53,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:20:23,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:20:23,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:20:23,107 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:20:23,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:20:23,117 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:20:23,123 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:20:23,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:20:23,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:20:23,409 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:20:23,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:20:23,413 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:20:23,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:20:46,871 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-10 18:20:46,872 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-10 18:20:53,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:20:53,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:20:53,417 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:20:53,428 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:20:53,429 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:20:53,437 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:21:02,253 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:02,254 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:02,260 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:02,271 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:02,274 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:02,289 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:21:02,311 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:02,312 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:02,318 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:02,343 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:02,345 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:02,360 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:21:06,866 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:06,866 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:06,867 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:06,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:06,872 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:06,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:21:07,388 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:07,390 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:07,395 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:07,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:07,409 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:07,423 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:21:07,430 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:07,432 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:07,439 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:07,454 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:07,464 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:07,479 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:21:24,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:24,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:21:24,414 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:24,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:24,419 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:21:24,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:21:38,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:21:38,404 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:21:38,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:21:38,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:21:38,415 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:21:38,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:22:08,098 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:22:08,099 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:22:08,101 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:22:08,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:22:08,109 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:22:08,116 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:22:25,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:22:25,404 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:22:25,406 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:22:25,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:22:25,412 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:22:25,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:22:38,401 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:22:38,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:22:38,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:22:38,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:22:38,418 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:22:38,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:22:53,094 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:22:53,095 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:22:53,096 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:22:53,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:22:53,100 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:22:53,104 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:23:08,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:23:08,105 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:23:08,108 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:23:08,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:23:08,117 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:23:08,121 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:23:23,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:23:23,417 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:23:23,420 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:23:23,430 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:23:23,431 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:23:23,441 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:23:38,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:23:38,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:23:38,416 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:23:38,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:23:38,421 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:23:38,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:24:08,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:24:08,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:24:08,111 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:24:08,123 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:24:08,124 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:24:08,133 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:24:24,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:24:24,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:24:24,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:24:24,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:24:24,419 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:24:24,423 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:24:38,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:24:38,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:24:38,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:24:38,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:24:38,417 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:24:38,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:25:25,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:25:25,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:25:25,104 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:25:25,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:25:25,110 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:25:25,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:25:25,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:25:25,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:25:25,413 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:25:25,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:25:25,420 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:25:25,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:26:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:26:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:26:25,417 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:26:25,417 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:26:25,418 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:26:25,419 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:26:25,427 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:26:25,434 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:26:25,448 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:26:25,450 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:26:25,460 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:26:25,462 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:26:53,097 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:26:53,098 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:26:53,101 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:26:53,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:26:53,114 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:26:53,124 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:27:23,390 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:27:23,392 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:27:23,394 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:27:23,403 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:27:23,404 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:27:23,410 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:27:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:27:25,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:27:25,105 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:27:25,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:27:25,109 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:27:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:28:19,377 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:19,378 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:19,379 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:19,383 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:19,383 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:19,387 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:28:24,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:24,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:28:24,409 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:24,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:24,415 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:28:24,423 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:28:25,686 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:28:25,687 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:28:25,694 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:28:25,696 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:28:25,710 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:25,712 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:25,716 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:25,742 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:25,743 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:25,751 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:28:25,761 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:25,762 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:25,765 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:25,842 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:25,846 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:25,859 - main - INFO - üì§ GET /api/comparisons - 200 - 0.10s
2025-12-10 18:28:51,347 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:51,350 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,356 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:51,368 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:51,381 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,400 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:28:51,420 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:51,424 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,428 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:51,447 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:51,449 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,462 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:28:51,465 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:51,467 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,470 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:51,482 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:51,483 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,492 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:28:51,495 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:51,496 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,498 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:51,508 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:51,509 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:28:51,515 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:28:52,596 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:28:52,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:28:52,600 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:28:52,609 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:28:52,610 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:28:52,615 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:29:03,305 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-10 18:29:03,307 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-10 18:29:03,312 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 18:29:03,318 - app.api.routes - INFO - üîç Checking user subscription for user: 6939983dfe49b4482890eb8b
2025-12-10 18:29:03,318 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:29:03,318 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:29:03,319 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:29:03,320 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:29:03,322 - app.api.routes - INFO - ‚úÖ User 6939983dfe49b4482890eb8b can perform comparison
2025-12-10 18:29:03,322 - app.api.routes - INFO -    - Remaining comparisons: 246
2025-12-10 18:29:03,323 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-10 18:29:03,324 - app.api.routes - INFO -    - Files uploaded: 2
2025-12-10 18:29:03,324 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765391343_642e61035e3a
2025-12-10 18:29:03,324 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_39fcba0f6e5a (2 files)
2025-12-10 18:29:03,324 - app.api.routes - INFO - üìä Initialized progress tracking: job_39fcba0f6e5a
2025-12-10 18:29:03,325 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:29:03,326 - app.api.routes - INFO - üìÑ Processing: Malath.pdf
2025-12-10 18:29:03,327 - app.api.routes - INFO - ======================================================================
2025-12-10 18:29:03,329 - app.api.routes - INFO - üíæ Saved file: Malath.pdf ‚Üí c9f62b8214f249c79a83f9ee66ffd751.pdf (203279 bytes)
2025-12-10 18:29:03,329 - app.api.routes - INFO - üìñ Extracting text from: Malath.pdf
2025-12-10 18:29:03,330 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:29:03,330 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\c9f62b8214f249c79a83f9ee66ffd751.pdf
2025-12-10 18:29:03,330 - app.api.routes - INFO - üìÑ Processing: GIG.pdf
2025-12-10 18:29:03,331 - app.api.routes - INFO - ======================================================================
2025-12-10 18:29:03,383 - app.services.pdf_extractor - INFO - Successfully extracted 6578 characters from 3 pages
2025-12-10 18:29:03,383 - app.api.routes - INFO - üíæ Saved file: GIG.pdf ‚Üí bd507c1855e147d883b60bef429b4c5e.pdf (478025 bytes)
2025-12-10 18:29:03,384 - app.api.routes - INFO - üìñ Extracting text from: GIG.pdf
2025-12-10 18:29:03,384 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\bd507c1855e147d883b60bef429b4c5e.pdf
2025-12-10 18:29:03,384 - app.api.routes - INFO - ü§ñ Parsing with AI: Malath.pdf
2025-12-10 18:29:03,384 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Malath.pdf
2025-12-10 18:29:03,501 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Malath Insurance (pattern: \bmalath\b)
2025-12-10 18:29:03,522 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Malath Insurance
2025-12-10 18:29:03,531 - app.services.pdf_extractor - INFO - Successfully extracted 6549 characters from 3 pages
2025-12-10 18:29:03,531 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/S. Saudi Amana Contracting Co.
2025-12-10 18:29:03,532 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:29:03,534 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-10 18:29:03,570 - app.services.ai_parser - INFO - üéØ Pre-extracted 2 sublimits
2025-12-10 18:29:03,570 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:29:03,574 - app.api.routes - INFO - ü§ñ Parsing with AI: GIG.pdf
2025-12-10 18:29:03,575 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for GIG.pdf
2025-12-10 18:29:03,577 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Gulf Insurance Group (GIG) (pattern: \bgig\b)
2025-12-10 18:29:03,578 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Gulf Insurance Group (GIG)
2025-12-10 18:29:03,578 - app.services.ai_parser - INFO - üë§ Insured (Customer): Saudi Amana Contracting Co. L.L.C
2025-12-10 18:29:03,579 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-10 18:29:03,579 - app.services.ai_parser - INFO - üìã Detected format: GIG
2025-12-10 18:29:03,626 - app.services.ai_parser - INFO - üéØ Pre-extracted 4 sublimits
2025-12-10 18:29:03,627 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-10 18:29:22,109 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:29:22,110 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:29:22,112 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:29:22,119 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:29:22,119 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:29:22,125 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:29:34,054 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:34,067 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:29:34,068 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:29:34,069 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:29:34,069 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 4 warranties, using fallback...
2025-12-10 18:29:34,071 - app.services.ai_parser - INFO - ‚ö†Ô∏è Fallback extracted 6 warranties from patterns
2025-12-10 18:29:34,072 - app.services.ai_parser - INFO - ‚úÖ Enhanced warranties: 7 total
2025-12-10 18:29:34,073 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-10 18:29:34,076 - app.services.ai_parser - INFO - üìã Fallback extracted 10 benefits from patterns
2025-12-10 18:29:34,077 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 10 total
2025-12-10 18:29:34,078 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:29:36,634 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:36,638 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-10 18:29:36,638 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-10 18:29:36,639 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-10 18:29:36,640 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 4 benefits, using fallback...
2025-12-10 18:29:36,645 - app.services.ai_parser - INFO - üìã Fallback extracted 28 benefits from patterns
2025-12-10 18:29:36,645 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 29 total
2025-12-10 18:29:36,646 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-10 18:29:40,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:40,815 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:29:40,816 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:29:40,817 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 169,122.3 @ 0.30%' ‚Üí '0.30%'
2025-12-10 18:29:40,818 - app.services.ai_parser - INFO - üí∞ Calculated: 69471773000.12 from SI: 41077831.25 √ó Rate: SR 169,122.3 @ 0.30%
2025-12-10 18:29:40,818 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5% of the claim amount, min. SR 10,000
2025-12-10 18:29:40,819 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:29:40,819 - app.services.ai_parser - INFO - üìä Counts: 10 benefits, 37 exclusions, 7 warranties, 0 extensions
2025-12-10 18:29:44,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:44,041 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-10 18:29:44,042 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-10 18:29:44,042 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 69,602 @ 0.2%' ‚Üí '0.2%'
2025-12-10 18:29:44,043 - app.services.ai_parser - INFO - üí∞ Calculated: 28590992628.64 from SI: 41077832.0 √ó Rate: SR 69,602 @ 0.2%
2025-12-10 18:29:44,044 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 10,000
2025-12-10 18:29:44,044 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-10 18:29:44,045 - app.services.ai_parser - INFO - üìä Counts: 29 benefits, 27 exclusions, 6 warranties, 3 extensions
2025-12-10 18:29:46,553 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:46,559 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 75.0
2025-12-10 18:29:46,559 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:29:46,560 - app.services.ai_parser - INFO - 
2025-12-10 18:29:46,560 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:46,560 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Malath.pdf
2025-12-10 18:29:46,560 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:46,561 - app.services.ai_parser - INFO - üè¢ Insurer: Malath Insurance
2025-12-10 18:29:46,561 - app.services.ai_parser - INFO - üë§ Insured: M/S. Saudi Amana Contracting Co.
2025-12-10 18:29:46,561 - app.services.ai_parser - INFO - üí∞ Premium: SAR 169,122.30
2025-12-10 18:29:46,562 - app.services.ai_parser - INFO - üìä Rate: 0.30%
2025-12-10 18:29:46,562 - app.services.ai_parser - INFO - üéØ Score: 75.0/100
2025-12-10 18:29:46,562 - app.services.ai_parser - INFO - üìè Quality: 98.0/100
2025-12-10 18:29:46,562 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of the claim amount, min. SR 10,000
2025-12-10 18:29:46,563 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:29:46,563 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:29:46,563 - app.services.ai_parser - INFO - 
2025-12-10 18:29:46,563 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:29:46,563 - app.services.ai_parser - INFO -    ‚úì Benefits: 10
2025-12-10 18:29:46,564 - app.services.ai_parser - INFO -    ‚úì Exclusions: 37
2025-12-10 18:29:46,564 - app.services.ai_parser - INFO -    ‚úì Warranties: 7
2025-12-10 18:29:46,564 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-10 18:29:46,564 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:29:46,565 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:46,567 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: c9f62b8214f249c79a83f9ee66ffd751.pdf ‚Üí 6939bc1aef7fa63f88950aa4
2025-12-10 18:29:46,567 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939bc1aef7fa63f88950aa4
2025-12-10 18:29:46,569 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 6939bc1aef7fa63f88950aa5 (203279 bytes)
2025-12-10 18:29:46,570 - app.api.routes - INFO - ‚úÖ Saved user document: Malath.pdf ‚Üí 6939bc1aef7fa63f88950aa5
2025-12-10 18:29:46,570 - app.api.routes - INFO - ‚úÖ Successfully processed: Malath.pdf
2025-12-10 18:29:51,190 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:51,360 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-10 18:29:51,361 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-10 18:29:51,361 - app.services.ai_parser - INFO - 
2025-12-10 18:29:51,361 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:51,362 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - GIG.pdf
2025-12-10 18:29:51,362 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:51,362 - app.services.ai_parser - INFO - üè¢ Insurer: Gulf Insurance Group (GIG)
2025-12-10 18:29:51,362 - app.services.ai_parser - INFO - üë§ Insured: Saudi Amana Contracting Co. L.L.C
2025-12-10 18:29:51,363 - app.services.ai_parser - INFO - üí∞ Premium: SAR 69,602.00
2025-12-10 18:29:51,363 - app.services.ai_parser - INFO - üìä Rate: 0.2%
2025-12-10 18:29:51,363 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-10 18:29:51,364 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-10 18:29:51,364 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 10,000
2025-12-10 18:29:51,364 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-10 18:29:51,364 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-10 18:29:51,364 - app.services.ai_parser - INFO - 
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO -    ‚úì Benefits: 29
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO -    ‚úì Exclusions: 27
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO -    ‚úì Extensions: 3
2025-12-10 18:29:51,365 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-10 18:29:51,366 - app.services.ai_parser - INFO - ======================================================================
2025-12-10 18:29:51,367 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: bd507c1855e147d883b60bef429b4c5e.pdf ‚Üí 6939bc1fef7fa63f88950aa6
2025-12-10 18:29:51,367 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6939bc1fef7fa63f88950aa6
2025-12-10 18:29:51,369 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: GIG.pdf ‚Üí 6939bc1fef7fa63f88950aa7 (478025 bytes)
2025-12-10 18:29:51,369 - app.api.routes - INFO - ‚úÖ Saved user document: GIG.pdf ‚Üí 6939bc1fef7fa63f88950aa7
2025-12-10 18:29:51,369 - app.api.routes - INFO - ‚úÖ Successfully processed: GIG.pdf
2025-12-10 18:29:51,370 - app.api.routes - INFO - 
‚úÖ Successfully extracted 2 quotes
2025-12-10 18:29:51,370 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:29:51,370 - app.api.routes - INFO - üîÄ Generating comparison for 2 quotes
2025-12-10 18:29:51,370 - app.api.routes - INFO - ======================================================================
2025-12-10 18:29:51,370 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 2 quotes
2025-12-10 18:29:51,370 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-10 18:29:51,371 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-10 18:29:51,371 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:29:51,371 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-10 18:29:51,371 - app.services.ai_ranker - INFO - ================================================================================
2025-12-10 18:29:51,372 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:29:51,372 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Malath Insurance
2025-12-10 18:29:51,372 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:29:51,372 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:29:51,372 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:29:51,373 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:29:51,373 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:29:51,373 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:29:51,373 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:29:51,374 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:29:51,374 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:29:51,374 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:29:51,374 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SR 41,077,831.25",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 41077831.25,
    "total_sum_insured": "SR 41,077,831.25"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 100,000",
        "deductible": "5% of the claim amount, min. SR 10,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100,000 to SR 500,000",
        "deductible": "10% of claim amount, min. SR 25,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500,000",
        "deductible": "10% of the claim amount, min. SR 75,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "up to SR 100,000",
      "deductible": "5% of the c
2025-12-10 18:29:51,375 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:29:51,375 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:29:51,376 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:29:51,377 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Malath Insurance
2025-12-10 18:29:51,378 - app.services.ai_ranker - INFO - 
üìä Malath Insurance:
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO -    Warranties: 7
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO -    Exclusions: 37
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO - 
============================================================
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Gulf Insurance Group (GIG)
2025-12-10 18:29:51,379 - app.services.ai_ranker - INFO - ============================================================
2025-12-10 18:29:51,380 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-10 18:29:51,380 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:29:51,380 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-10 18:29:51,380 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-10 18:29:51,380 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-10 18:29:51,381 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-10 18:29:51,381 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-10 18:29:51,381 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-10 18:29:51,381 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-10 18:29:51,381 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GIG",
  "sum_insured_breakdown": {
    "material_damage": "SR 41,077,832",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 41077832,
    "total_sum_insured": "SR 41,077,832"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 500,000",
        "deductible": "5%, min SR 10,000",
        "applies_to": "material_damage"
      },
      {
        "range": "up to SR 1,000,000",
        "deductible": "5%, min SR 25,000",
        "applies_to": "material_damage"
      },
      {
        "range": "up to SR 2,000,000",
        "deductible": "5%, min SR 50,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 2,000,000",
        "deductible": "5%, min SR 75,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      
2025-12-10 18:29:51,383 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:29:51,383 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-10 18:29:51,383 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-10 18:29:51,383 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-10 18:29:51,383 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-10 18:29:51,384 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-10 18:29:51,385 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-10 18:29:51,385 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-10 18:29:51,385 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-10 18:29:51,385 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-10 18:29:51,385 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Gulf Insurance Group (GIG)
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO - 
üìä Gulf Insurance Group (GIG):
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    Extensions: 3
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    Exclusions: 27
2025-12-10 18:29:51,386 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-10 18:29:51,387 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Malath Insurance
2025-12-10 18:29:51,588 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 7
2025-12-10 18:29:51,588 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-10 18:29:51,589 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:29:51,589 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:29:51,589 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:29:51,589 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that all plant and equipment is operated and maintained in accordance ...
2025-12-10 18:29:51,589 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that All operators of the equipment must be licensed to operate such p...
2025-12-10 18:29:51,590 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that all equipment is fitted with operational overload alarms.
2025-12-10 18:29:51,590 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Gulf Insurance Group (GIG)
2025-12-10 18:29:51,759 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 6
2025-12-10 18:29:51,760 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 3
2025-12-10 18:29:51,760 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-10 18:29:51,760 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-10 18:29:51,760 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-10 18:29:51,761 - app.services.ai_ranker - INFO -       ‚Ä¢ Hot works Warranty
2025-12-10 18:29:51,761 - app.services.ai_ranker - INFO -       ‚Ä¢ No smoking Warranty
2025-12-10 18:29:51,761 - app.services.ai_ranker - INFO -       ‚Ä¢ Housekeeping Warranty
2025-12-10 18:29:51,761 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-10 18:29:51,762 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-10 18:29:51,762 - app.services.ai_ranker - INFO - ================================================================================

2025-12-10 18:29:51,762 - app.services.ai_ranker - INFO - üìä Malath Insurance: Hakim Score=75.0 (Standard), Weighted Score=58.45
2025-12-10 18:29:51,763 - app.services.ai_ranker - INFO - üìä Gulf Insurance Group (GIG): Hakim Score=88.0 (Strong), Weighted Score=87.32
2025-12-10 18:29:51,763 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-10 18:29:51,763 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-10 18:29:52,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:29:52,402 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:29:52,403 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:29:52,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:29:52,408 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:29:52,412 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:29:58,327 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:29:58,329 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-10 18:29:58,329 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-10 18:29:58,329 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-10 18:30:00,989 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 18:30:00,997 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Gulf Insurance Group (GIG): Gulf Insurance Group (GIG) stands out as the best insurance provider due to its exceptional score of...
2025-12-10 18:30:00,997 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-10 18:30:00,998 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49
2025-12-10 18:30:00,999 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-10 18:30:00,999 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765391343_642e61035e3a
2025-12-10 18:30:00,999 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 2
2025-12-10 18:30:00,999 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-10 18:30:01,000 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 2
2025-12-10 18:30:01,000 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Malath Insurance
2025-12-10 18:30:01,000 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:30:01,000 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:30:01,001 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:30:01,001 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:30:01,001 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:30:01,001 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:30:01,002 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Gulf Insurance Group (GIG)
2025-12-10 18:30:01,002 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-10 18:30:01,002 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-10 18:30:01,002 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-10 18:30:01,002 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-10 18:30:01,003 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-10 18:30:01,003 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-10 18:30:01,005 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-10 18:30:01,005 - app.services.mongodb_service_enhanced - INFO -    Summary: 3,631 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 22,482 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Data table: 9,802 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,500 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 26,186 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Total document: 133,961 bytes
2025-12-10 18:30:01,006 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-10 18:30:01,007 - app.services.mongodb_service_enhanced - INFO -       premium: 2 items
2025-12-10 18:30:01,007 - app.services.mongodb_service_enhanced - INFO -       rate: 2 items
2025-12-10 18:30:01,007 - app.services.mongodb_service_enhanced - INFO -       score: 2 items
2025-12-10 18:30:01,007 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 2 items
2025-12-10 18:30:01,007 - app.services.mongodb_service_enhanced - INFO -       deductible: 2 items
2025-12-10 18:30:01,008 - app.services.mongodb_service_enhanced - INFO -       coverage: 2 items
2025-12-10 18:30:01,008 - app.services.mongodb_service_enhanced - INFO -       benefits: 2 items
2025-12-10 18:30:01,008 - app.services.mongodb_service_enhanced - INFO -       exclusions: 2 items
2025-12-10 18:30:01,008 - app.services.mongodb_service_enhanced - INFO -       warranties: 2 items
2025-12-10 18:30:01,008 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 2 items
2025-12-10 18:30:01,009 - app.services.mongodb_service_enhanced - INFO -       conditions: 2 items
2025-12-10 18:30:01,009 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 2 items
2025-12-10 18:30:01,009 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 2 items
2025-12-10 18:30:01,009 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 2 items
2025-12-10 18:30:01,009 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-10 18:30:01,010 - app.services.mongodb_service_enhanced - INFO -       - Count: 2
2025-12-10 18:30:01,010 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:30:01,010 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:30:01,010 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-10 18:30:01,013 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765391343_642e61035e3a
2025-12-10 18:30:01,013 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 6939bc295a37704a1c0a83e8
2025-12-10 18:30:01,015 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-10 18:30:01,016 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-10 18:30:01,017 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 2
2025-12-10 18:30:01,017 - app.services.mongodb_service_enhanced - INFO -    - First row keys (27): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-10 18:30:01,017 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 2
2025-12-10 18:30:01,017 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-10 18:30:01,017 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 2
2025-12-10 18:30:01,018 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-10 18:30:01,018 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-10 18:30:01,018 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-10 18:30:01,018 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-10 18:30:01,018 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-10 18:30:01,019 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-10 18:30:01,019 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-10 18:30:01,019 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 6939bc295a37704a1c0a83e8
2025-12-10 18:30:01,019 - app.api.routes - INFO -    Database: hakemAI
2025-12-10 18:30:01,019 - app.api.routes - INFO -    Collection: comparisons
2025-12-10 18:30:01,020 - app.api.routes - INFO -    Comparison ID: cmp_1765391343_642e61035e3a
2025-12-10 18:30:01,020 - app.api.routes - INFO -    User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,020 - app.api.routes - INFO -    Company ID: 69399d1513c530e734f1ae49
2025-12-10 18:30:01,022 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,022 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,022 - app.api.routes - INFO - 
======================================================================
2025-12-10 18:30:01,022 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-10 18:30:01,023 - app.api.routes - INFO - ======================================================================
2025-12-10 18:30:01,023 - app.api.routes - INFO - üìä Comparison ID: cmp_1765391343_642e61035e3a
2025-12-10 18:30:01,023 - app.api.routes - INFO - üë§ User ID: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,023 - app.api.routes - INFO - üìÑ Files Processed: 2/2
2025-12-10 18:30:01,023 - app.api.routes - INFO - üíæ Saved to MongoDB: 2 PDFs + 1 comparison
2025-12-10 18:30:01,023 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,023 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:30:01,024 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:30:01,025 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneeba (muneebanwar2005@gmail.com)
2025-12-10 18:30:01,026 - app.api.routes - INFO - üìä Remaining comparisons: 245
2025-12-10 18:30:01,027 - app.api.routes - INFO - ======================================================================

2025-12-10 18:30:01,027 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_39fcba0f6e5a ‚Üí comparison_id: cmp_1765391343_642e61035e3a
2025-12-10 18:30:01,028 - main - INFO - üì§ POST /api/compare-quotes - 200 - 57.72s
2025-12-10 18:30:01,270 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:30:01,277 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:30:01,277 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-10 18:30:01,279 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:30:01,284 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:30:01,286 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:30:01,286 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:30:01,288 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:30:01,293 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:01,297 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,301 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:01,315 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:01,316 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,325 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:30:01,330 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:01,332 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,334 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:01,342 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:01,342 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,351 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:30:01,354 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:01,356 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,359 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:01,375 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:01,376 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,383 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:30:01,386 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:01,390 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,393 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:01,400 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:01,401 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:01,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:30:05,726 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:05,728 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:30:05,732 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:05,747 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:05,750 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:30:05,762 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:30:05,786 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:05,798 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:30:05,806 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:05,820 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:05,821 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:30:05,834 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:30:32,098 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:32,099 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:30:32,100 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:32,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:32,106 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:30:32,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:30:36,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:30:36,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:30:36,101 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:30:36,107 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:30:36,108 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:30:36,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:31:02,404 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:31:02,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:31:02,406 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:31:02,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:31:02,411 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:31:02,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:31:06,459 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:31:06,459 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:31:06,461 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:31:06,470 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:31:06,472 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:31:06,481 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:31:32,089 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:31:32,090 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:31:32,091 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:31:32,096 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:31:32,097 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:31:32,101 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:31:36,104 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:31:36,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:31:36,106 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:31:36,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:31:36,111 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:31:36,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:32:02,397 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:32:02,398 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:32:02,399 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:32:02,406 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:32:02,407 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:32:02,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:32:06,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:32:06,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:32:06,408 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:32:06,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:32:06,413 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:32:06,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:32:32,090 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:32:32,091 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:32:32,093 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:32:32,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:32:32,101 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:32:32,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:32:36,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:32:36,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:32:36,105 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:32:36,116 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:32:36,117 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:32:36,126 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:33:02,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:33:02,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:33:02,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:33:02,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:33:02,420 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:33:02,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:33:06,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:33:06,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:33:06,414 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:33:06,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:33:06,419 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:33:06,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:33:32,087 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:33:32,088 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:33:32,091 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:33:32,097 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:33:32,098 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:33:32,102 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:33:36,089 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:33:36,091 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:33:36,093 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:33:36,099 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:33:36,100 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:33:36,109 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:34:25,401 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:34:25,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:34:25,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:34:25,404 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:34:25,405 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:34:25,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:34:25,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:34:25,427 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:34:25,435 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:34:25,436 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:34:25,443 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:34:25,445 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:35:25,101 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:35:25,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:35:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:35:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:35:25,105 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:35:25,107 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:35:25,115 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:35:25,120 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:35:25,127 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:35:25,128 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:35:25,132 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:35:25,134 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:35:46,886 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-10 18:35:46,886 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-10 18:36:02,416 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:36:02,417 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:36:02,420 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:36:02,428 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:36:02,429 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:36:02,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:36:05,717 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:36:05,718 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:36:05,719 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:36:05,724 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:36:05,724 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:36:05,728 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:36:25,400 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:36:25,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:36:25,402 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:36:25,410 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:36:25,410 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:36:25,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:36:34,465 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:36:34,469 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:36:34,486 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:36:34,501 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:36:34,501 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:36:34,515 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:36:35,727 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:36:35,728 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:36:35,731 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:36:35,740 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:36:35,740 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:36:35,745 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:37:02,409 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:02,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:37:02,416 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:02,434 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:02,435 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:37:02,452 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:37:06,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:06,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:37:06,410 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:06,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:06,420 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:37:06,424 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:37:28,586 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:28,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:37:28,604 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:28,618 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:28,620 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:37:28,629 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:37:28,647 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:28,649 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:37:28,653 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:28,666 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:28,668 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:37:28,678 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:37:32,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:32,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:37:32,097 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:32,102 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:32,102 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:37:32,107 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:37:59,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:37:59,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:37:59,106 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:37:59,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:37:59,114 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:37:59,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:38:24,790 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:38:24,793 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:38:24,797 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:38:24,807 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:38:24,807 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:38:24,812 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:38:28,902 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:38:28,902 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:38:28,906 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:38:28,907 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:38:28,909 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:38:28,915 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:38:28,916 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:38:28,920 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:38:32,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:38:32,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:38:32,102 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:38:32,107 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:38:32,108 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:38:32,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:38:59,101 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:38:59,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:38:59,103 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:38:59,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:38:59,110 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:38:59,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:39:02,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:39:02,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:39:02,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:39:02,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:39:02,420 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:39:02,428 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:39:28,903 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:39:28,904 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:39:28,905 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:39:28,910 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:39:28,911 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:39:28,917 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:39:58,588 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:39:58,588 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:39:58,590 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:39:58,594 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:39:58,595 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:39:58,602 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:40:03,402 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:40:03,402 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:40:03,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:40:03,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:40:03,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:40:03,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:40:03,415 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:40:03,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:40:29,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:40:29,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:40:29,409 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:40:29,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:40:29,418 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:40:29,428 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:40:58,594 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:40:58,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:40:58,596 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:40:58,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:40:58,602 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:40:58,607 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:41:04,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:41:04,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:41:04,414 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:41:04,424 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:41:04,424 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:41:04,431 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:41:28,911 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:41:28,913 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:41:28,916 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:41:28,930 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:41:28,931 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:41:28,941 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:41:58,593 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:41:58,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:41:58,595 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:41:58,600 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:41:58,600 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:41:58,606 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:42:05,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:05,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:42:05,418 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:05,432 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:05,433 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:42:05,445 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:42:29,409 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:29,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:42:29,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:29,425 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:29,426 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:42:29,436 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:42:50,228 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:50,229 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:42:50,232 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:50,245 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:50,246 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:42:50,256 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:42:54,039 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:54,093 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:42:54,179 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:54,208 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:54,209 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:42:54,219 - main - INFO - üì§ GET /api/comparisons - 200 - 0.18s
2025-12-10 18:42:54,289 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:54,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:42:54,292 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:54,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:54,307 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:42:54,316 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:42:58,245 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:58,247 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:42:58,249 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:58,261 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:58,263 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:42:58,278 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:42:58,287 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:42:58,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:42:58,293 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:42:58,312 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:42:58,328 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:42:58,351 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-10 18:43:02,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:43:02,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:43:02,418 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:43:02,429 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:43:02,430 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:43:02,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:43:28,570 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:43:28,571 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:43:28,573 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:43:28,578 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:43:28,578 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:43:28,583 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:43:31,275 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:43:31,276 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:43:31,277 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:43:31,290 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:43:31,291 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:43:31,298 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:43:59,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:43:59,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:43:59,104 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:43:59,115 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:43:59,116 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:43:59,120 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:44:02,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:44:02,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:44:02,415 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:44:02,463 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:44:02,463 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:44:02,468 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-10 18:44:23,306 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:44:23,310 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:44:23,312 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:44:23,320 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:44:23,321 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:44:23,328 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:44:23,335 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:44:23,336 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:44:23,339 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:44:23,352 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:44:23,353 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:44:23,375 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:44:53,136 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:44:53,138 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:44:53,144 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:44:53,160 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:44:53,161 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:44:53,172 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:45:03,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:45:03,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:45:03,414 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:45:03,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:45:03,420 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:45:03,428 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:45:23,096 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:45:23,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:45:23,099 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:45:23,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:45:23,111 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:45:23,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:45:53,365 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:45:53,366 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:45:53,367 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:45:53,374 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:45:53,374 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:45:53,379 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:46:04,404 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:46:04,404 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:46:04,407 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:46:04,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:46:04,415 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:46:04,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:46:23,129 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:46:23,137 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:46:23,146 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:46:23,162 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:46:23,164 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:46:23,174 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:46:53,427 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:46:53,432 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:46:53,456 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:46:53,469 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:46:53,469 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:46:53,478 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:47:05,431 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:47:05,437 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:47:05,466 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:47:05,492 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:47:05,501 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:47:05,517 - main - INFO - üì§ GET /api/comparisons - 200 - 0.09s
2025-12-10 18:47:23,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:47:23,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:47:23,104 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:47:23,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:47:23,111 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:47:23,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:47:53,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:47:53,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:47:53,418 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:47:53,431 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:47:53,432 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:47:53,442 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:48:02,245 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:48:02,253 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:48:02,261 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:48:02,284 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:48:02,285 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:48:02,298 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:48:08,389 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:48:08,391 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:48:08,395 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:48:08,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:48:08,412 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:48:08,423 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:48:08,430 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:48:08,432 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:48:08,435 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:48:08,446 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:48:08,447 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:48:08,457 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:48:32,396 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:48:32,396 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:48:32,398 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:48:32,402 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:48:32,403 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:48:32,408 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:48:39,090 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:48:39,091 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:48:39,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:48:39,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:48:39,098 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:48:39,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:48:39,108 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:48:39,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:02,101 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:02,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:49:02,103 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:02,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:02,113 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:49:02,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:08,578 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:08,579 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:49:08,580 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:08,586 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:08,586 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:49:08,595 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:08,600 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:08,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:49:08,602 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:08,617 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:08,618 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:49:08,626 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:49:09,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:09,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:09,405 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:09,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:09,415 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:09,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:15,157 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:15,159 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,163 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:15,169 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:15,170 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,179 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:15,184 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:15,185 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,187 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:15,201 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:15,202 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,215 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:49:15,815 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:15,816 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,818 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:15,830 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:15,831 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,845 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:49:15,853 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:15,855 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,860 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:15,882 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:15,883 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:15,900 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:49:32,098 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:32,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 6939983dfe49b4482890eb8b
2025-12-10 18:49:32,102 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:32,114 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 6939983dfe49b4482890eb8b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:32,114 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 6939983dfe49b4482890eb8b
2025-12-10 18:49:32,120 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:49:36,930 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-10 18:49:36,931 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-10 18:49:36,936 - main - INFO - üì• POST /api/compare-quotes
2025-12-10 18:49:36,943 - app.api.routes - INFO - üîç Checking user subscription for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:36,943 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69399a08fe49b4482890ec0b
2025-12-10 18:49:36,943 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-10 18:49:36,944 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-10 18:49:36,948 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneebanwarr (muneebanwar5002@gmail.com)
2025-12-10 18:49:36,948 - app.services.user_subscription_service - WARNING - üö´ User 69399a08fe49b4482890ec0b is a sub-user (view-only). Cannot generate comparisons.
2025-12-10 18:49:36,949 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 69399a08fe49b4482890ec0b: You are a team member with view-only access. Only the main company account can generate comparisons.
2025-12-10 18:49:36,952 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.02s
2025-12-10 18:49:42,908 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:42,910 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:42,916 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:42,930 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:42,931 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:42,937 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-10 18:49:42,950 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:42,952 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:42,954 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:42,971 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:42,972 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:42,986 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-10 18:49:42,997 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:43,000 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:43,006 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:43,028 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:43,035 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:43,050 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:49:43,067 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:49:43,069 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:49:43,073 - app.api.routes - INFO - üè¢ User belongs to company: 69399d1513c530e734f1ae49 - will include shared comparisons
2025-12-10 18:49:43,101 - app.services.mongodb_service_enhanced - INFO - üìä Found 5 comparisons for user 69399a08fe49b4482890ec0b (company: 69399d1513c530e734f1ae49)
2025-12-10 18:49:43,102 - app.api.routes - INFO - ‚úÖ Found 5 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:49:43,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 18:53:57,433 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:53:57,435 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,438 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:53:57,442 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:53:57,443 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,444 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:53:57,451 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:53:57,453 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,457 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:53:57,461 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:53:57,463 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,464 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:53:57,471 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:53:57,475 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,480 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:53:57,484 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:53:57,485 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,486 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:53:57,494 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:53:57,496 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,499 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:53:57,502 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:53:57,504 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:53:57,506 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:54:00,325 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:00,326 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:00,329 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:00,333 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:00,335 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:00,336 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:54:00,342 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:00,345 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:00,348 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:00,354 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:00,356 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:00,358 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 18:54:03,666 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:03,667 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:03,668 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:03,669 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:03,669 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:03,670 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 18:54:04,187 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:04,189 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:04,192 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:04,197 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:04,197 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:04,198 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:54:04,201 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:04,202 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:04,205 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:04,210 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:04,211 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:04,213 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:54:35,091 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:54:35,092 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:54:35,093 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:54:35,095 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:54:35,096 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:54:35,096 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:55:05,400 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:55:05,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:55:05,402 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:55:05,404 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:55:05,404 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:55:05,404 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 18:55:32,648 - main - INFO - 
2025-12-10 18:55:32,649 - main - INFO - ================================================================================
2025-12-10 18:55:32,650 - main - INFO -   üõë Shutting down application...
2025-12-10 18:55:32,652 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-10 18:55:32,652 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-10 18:55:32,654 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-10 18:55:32,656 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-10 18:55:32,659 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-10 18:55:32,659 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-10 18:55:32,671 - main - INFO -   ‚úÖ Cleaned up 12 temporary files
2025-12-10 18:55:32,672 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-10 18:55:32,673 - main - INFO - ================================================================================
2025-12-10 18:55:32,674 - main - INFO - 
2025-12-10 18:55:36,577 - main - INFO - 
2025-12-10 18:55:36,577 - main - INFO - ================================================================================
2025-12-10 18:55:36,577 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-10 18:55:36,577 - main - INFO -   Production-Ready Complete Integration
2025-12-10 18:55:36,577 - main - INFO - ================================================================================
2025-12-10 18:55:36,578 - main - INFO -   AI Model: gpt-4o-mini
2025-12-10 18:55:36,578 - main - INFO -   Upload Directory: uploads
2025-12-10 18:55:36,578 - main - INFO -   Max File Size: 20MB
2025-12-10 18:55:36,578 - main - INFO - ================================================================================
2025-12-10 18:55:36,579 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-10 18:55:36,579 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-10 18:55:36,579 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-10 18:55:36,619 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-10 18:55:36,625 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-10 18:55:36,625 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-10 18:55:36,625 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-10 18:55:36,626 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-10 18:55:36,626 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-10 18:55:36,637 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-10 18:55:36,643 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-10 18:55:36,645 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companies', 'user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users', 'companyusers']
2025-12-10 18:55:36,650 - app.services.user_subscription_service - INFO - üìä Users collection has 9 documents
2025-12-10 18:55:36,650 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-10 18:55:36,651 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-10 18:55:36,651 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-10 18:55:36,651 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-10 18:55:36,665 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-10 18:55:36,665 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-10 18:55:36,665 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-10 18:55:36,665 - main - INFO - 
2025-12-10 18:55:36,666 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-10 18:55:36,666 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-10 18:55:36,666 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-10 18:55:36,666 - main - INFO -        - Separates warranties from extensions
2025-12-10 18:55:36,666 - main - INFO -        - Extracts subjectivities & operational details
2025-12-10 18:55:36,666 - main - INFO -        - Correct deductible tier detection
2025-12-10 18:55:36,667 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-10 18:55:36,667 - main - INFO - 
2025-12-10 18:55:36,667 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-10 18:55:36,667 - main - INFO -        - Generates ALL sections comprehensively
2025-12-10 18:55:36,667 - main - INFO -        - Identifies unique items per provider
2025-12-10 18:55:36,667 - main - INFO -        - Transparent scoring methodology
2025-12-10 18:55:36,668 - main - INFO -        - Uses full _extended_data from parser
2025-12-10 18:55:36,668 - main - INFO - 
2025-12-10 18:55:36,668 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-10 18:55:36,668 - main - INFO -        - Single endpoint auto-populates everything
2025-12-10 18:55:36,668 - main - INFO -        - No manual section generation
2025-12-10 18:55:36,668 - main - INFO -        - Complete MongoDB integration
2025-12-10 18:55:36,668 - main - INFO - 
2025-12-10 18:55:36,669 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-10 18:55:36,669 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-10 18:55:36,669 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-10 18:55:36,669 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-10 18:55:36,669 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-10 18:55:36,669 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-10 18:55:36,670 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-10 18:55:36,670 - main - INFO - 
2025-12-10 18:55:36,670 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-10 18:55:36,670 - main - INFO -      Main:
2025-12-10 18:55:36,670 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-10 18:55:36,670 - main - INFO - 
2025-12-10 18:55:36,671 - main - INFO -      Retrieval:
2025-12-10 18:55:36,671 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-10 18:55:36,672 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-10 18:55:36,672 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-10 18:55:36,672 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-10 18:55:36,673 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-10 18:55:36,674 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-10 18:55:36,674 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-10 18:55:36,674 - main - INFO - 
2025-12-10 18:55:36,674 - main - INFO -      Management:
2025-12-10 18:55:36,674 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-10 18:55:36,675 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-10 18:55:36,675 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-10 18:55:36,676 - main - INFO - 
2025-12-10 18:55:36,676 - main - INFO -      Documents (MongoDB):
2025-12-10 18:55:36,677 - main - INFO -        GET  /api/documents                All documents
2025-12-10 18:55:36,678 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-10 18:55:36,679 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-10 18:55:36,680 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-10 18:55:36,680 - main - INFO - 
2025-12-10 18:55:36,681 - main - INFO -      Diagnostics & Health:
2025-12-10 18:55:36,681 - main - INFO -        GET  /api/health                   System health
2025-12-10 18:55:36,681 - main - INFO -        GET  /api/status                   Detailed status
2025-12-10 18:55:36,681 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-10 18:55:36,682 - main - INFO - 
2025-12-10 18:55:36,682 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-10 18:55:36,682 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-10 18:55:36,682 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-10 18:55:36,682 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-10 18:55:36,683 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-10 18:55:36,683 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-10 18:55:36,683 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-10 18:55:36,683 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-10 18:55:36,684 - main - INFO - 
2025-12-10 18:55:36,684 - main - INFO -   üéØ WORKFLOW:
2025-12-10 18:55:36,684 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-10 18:55:36,684 - main - INFO -      2. Receive comparison_id + complete data
2025-12-10 18:55:36,685 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-10 18:55:36,685 - main - INFO -      4. No re-upload needed!
2025-12-10 18:55:36,685 - main - INFO - 
2025-12-10 18:55:36,685 - main - INFO - ================================================================================
2025-12-10 18:55:36,685 - main - INFO -   ‚úÖ Application started successfully!
2025-12-10 18:55:36,686 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-10 18:55:36,686 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-10 18:55:36,686 - main - INFO - ================================================================================
2025-12-10 18:55:36,687 - main - INFO - 
2025-12-10 18:55:36,687 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-10 18:55:36,750 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:55:36,752 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:55:36,753 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:55:36,755 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:55:36,755 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:55:36,757 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:56:05,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:56:05,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:56:05,101 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:56:05,103 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:56:05,104 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:56:05,104 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:56:35,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:56:35,410 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:56:35,411 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:56:35,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:56:35,413 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:56:35,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 18:57:05,105 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:57:05,106 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:57:05,108 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:57:05,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:57:05,112 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:57:05,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:57:35,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:57:35,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:57:35,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:57:35,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:57:35,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:57:35,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:58:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:58:25,109 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:58:25,112 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:58:25,120 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:58:25,121 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:58:25,122 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 18:59:25,416 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 18:59:25,418 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 18:59:25,425 - main - INFO - üì• GET /api/comparisons
2025-12-10 18:59:25,426 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 18:59:25,429 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 18:59:25,432 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 18:59:25,432 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 18:59:25,433 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:00:25,097 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:00:25,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:00:25,104 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:00:25,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:00:25,111 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:00:25,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 19:01:25,398 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:01:25,400 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:01:25,402 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:01:25,406 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:01:25,407 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:01:25,408 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:02:25,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:02:25,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:02:25,102 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:02:25,104 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:02:25,104 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:02:25,105 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:03:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:03:25,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:03:25,418 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:03:25,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:03:25,421 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:03:25,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:04:12,925 - main - INFO - 
2025-12-10 19:04:12,926 - main - INFO - ================================================================================
2025-12-10 19:04:12,926 - main - INFO -   üõë Shutting down application...
2025-12-10 19:04:12,927 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-10 19:04:12,927 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-10 19:04:12,928 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-10 19:04:12,928 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-10 19:04:12,929 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-10 19:04:12,930 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-10 19:04:12,930 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-10 19:04:12,930 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-10 19:04:12,931 - main - INFO - ================================================================================
2025-12-10 19:04:12,931 - main - INFO - 
2025-12-10 19:04:20,116 - main - INFO - 
2025-12-10 19:04:20,117 - main - INFO - ================================================================================
2025-12-10 19:04:20,120 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-10 19:04:20,124 - main - INFO -   Production-Ready Complete Integration
2025-12-10 19:04:20,134 - main - INFO - ================================================================================
2025-12-10 19:04:20,136 - main - INFO -   AI Model: gpt-4o-mini
2025-12-10 19:04:20,146 - main - INFO -   Upload Directory: uploads
2025-12-10 19:04:20,148 - main - INFO -   Max File Size: 20MB
2025-12-10 19:04:20,152 - main - INFO - ================================================================================
2025-12-10 19:04:20,159 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-10 19:04:20,162 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-10 19:04:20,164 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-10 19:04:20,230 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-10 19:04:20,245 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-10 19:04:20,246 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-10 19:04:20,246 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-10 19:04:20,247 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-10 19:04:20,248 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-10 19:04:20,284 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-10 19:04:20,285 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-10 19:04:20,287 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companies', 'user_documents', 'admins', 'individual_pdf_extractions', 'comparisons', 'users', 'companyusers']
2025-12-10 19:04:20,294 - app.services.user_subscription_service - INFO - üìä Users collection has 9 documents
2025-12-10 19:04:20,295 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-10 19:04:20,296 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-10 19:04:20,297 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-10 19:04:20,297 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-10 19:04:20,331 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-10 19:04:20,332 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-10 19:04:20,332 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-10 19:04:20,333 - main - INFO - 
2025-12-10 19:04:20,333 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-10 19:04:20,333 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-10 19:04:20,334 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-10 19:04:20,334 - main - INFO -        - Separates warranties from extensions
2025-12-10 19:04:20,335 - main - INFO -        - Extracts subjectivities & operational details
2025-12-10 19:04:20,335 - main - INFO -        - Correct deductible tier detection
2025-12-10 19:04:20,336 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-10 19:04:20,337 - main - INFO - 
2025-12-10 19:04:20,346 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-10 19:04:20,346 - main - INFO -        - Generates ALL sections comprehensively
2025-12-10 19:04:20,349 - main - INFO -        - Identifies unique items per provider
2025-12-10 19:04:20,420 - main - INFO -        - Transparent scoring methodology
2025-12-10 19:04:20,429 - main - INFO -        - Uses full _extended_data from parser
2025-12-10 19:04:20,433 - main - INFO - 
2025-12-10 19:04:20,434 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-10 19:04:20,444 - main - INFO -        - Single endpoint auto-populates everything
2025-12-10 19:04:20,445 - main - INFO -        - No manual section generation
2025-12-10 19:04:20,446 - main - INFO -        - Complete MongoDB integration
2025-12-10 19:04:20,468 - main - INFO - 
2025-12-10 19:04:20,475 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-10 19:04:20,478 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-10 19:04:20,480 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-10 19:04:20,480 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-10 19:04:20,482 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-10 19:04:20,491 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-10 19:04:20,496 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-10 19:04:20,502 - main - INFO - 
2025-12-10 19:04:20,503 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-10 19:04:20,509 - main - INFO -      Main:
2025-12-10 19:04:20,511 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-10 19:04:20,512 - main - INFO - 
2025-12-10 19:04:20,516 - main - INFO -      Retrieval:
2025-12-10 19:04:20,518 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-10 19:04:20,530 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-10 19:04:20,533 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-10 19:04:20,533 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-10 19:04:20,536 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-10 19:04:20,540 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-10 19:04:20,542 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-10 19:04:20,544 - main - INFO - 
2025-12-10 19:04:20,545 - main - INFO -      Management:
2025-12-10 19:04:20,545 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-10 19:04:20,546 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-10 19:04:20,546 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-10 19:04:20,547 - main - INFO - 
2025-12-10 19:04:20,547 - main - INFO -      Documents (MongoDB):
2025-12-10 19:04:20,548 - main - INFO -        GET  /api/documents                All documents
2025-12-10 19:04:20,549 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-10 19:04:20,550 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-10 19:04:20,551 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-10 19:04:20,552 - main - INFO - 
2025-12-10 19:04:20,560 - main - INFO -      Diagnostics & Health:
2025-12-10 19:04:20,566 - main - INFO -        GET  /api/health                   System health
2025-12-10 19:04:20,566 - main - INFO -        GET  /api/status                   Detailed status
2025-12-10 19:04:20,567 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-10 19:04:20,568 - main - INFO - 
2025-12-10 19:04:20,568 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-10 19:04:20,569 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-10 19:04:20,569 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-10 19:04:20,570 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-10 19:04:20,576 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-10 19:04:20,577 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-10 19:04:20,578 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-10 19:04:20,578 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-10 19:04:20,578 - main - INFO - 
2025-12-10 19:04:20,578 - main - INFO -   üéØ WORKFLOW:
2025-12-10 19:04:20,579 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-10 19:04:20,579 - main - INFO -      2. Receive comparison_id + complete data
2025-12-10 19:04:20,579 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-10 19:04:20,579 - main - INFO -      4. No re-upload needed!
2025-12-10 19:04:20,580 - main - INFO - 
2025-12-10 19:04:20,580 - main - INFO - ================================================================================
2025-12-10 19:04:20,580 - main - INFO -   ‚úÖ Application started successfully!
2025-12-10 19:04:20,580 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-10 19:04:20,581 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-10 19:04:20,581 - main - INFO - ================================================================================
2025-12-10 19:04:20,581 - main - INFO - 
2025-12-10 19:04:20,582 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-10 19:04:25,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:04:25,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:04:25,414 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:04:25,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:04:25,416 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:04:25,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:05:25,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:05:25,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:05:25,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:05:25,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:05:25,412 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:05:25,412 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:06:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:06:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:06:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:06:25,107 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:06:25,107 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:06:25,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:07:25,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:07:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:07:25,416 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:07:25,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:07:25,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:07:25,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:08:25,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:08:25,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:08:25,098 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:08:25,099 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:08:25,100 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:08:25,100 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:09:25,426 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:09:25,428 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:09:25,431 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:09:25,434 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:09:25,434 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:09:25,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:10:25,098 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 19:10:25,099 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 19:10:25,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:10:25,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:10:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:10:25,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:10:25,109 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:10:25,110 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:11:25,399 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:11:25,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:11:25,404 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:11:25,405 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:11:25,406 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:11:25,406 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:12:25,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:12:25,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:12:25,098 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:12:25,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:12:25,100 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:12:25,101 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:13:25,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:13:25,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:13:25,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:13:25,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:13:25,412 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:13:25,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:14:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:14:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:14:25,114 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:14:25,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:14:25,118 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:14:25,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:15:25,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:15:25,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:15:25,417 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:15:25,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:15:25,420 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:15:25,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:16:25,105 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:16:25,106 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:16:25,107 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:16:25,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:16:25,109 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:16:25,109 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:17:25,418 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:17:25,418 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:17:25,420 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:17:25,422 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:17:25,422 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:17:25,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:18:25,095 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:18:25,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:18:25,099 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:18:25,102 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:18:25,102 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:18:25,103 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:19:25,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:19:25,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:19:25,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:19:25,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:19:25,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:19:25,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:20:25,093 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:20:25,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:20:25,095 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:20:25,097 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:20:25,097 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:20:25,098 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:21:25,397 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 19:21:25,399 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 19:21:25,404 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:21:25,406 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:21:25,409 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:21:25,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:21:25,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:21:25,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:22:25,097 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:22:25,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:22:25,099 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:22:25,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:22:25,101 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:22:25,101 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:23:25,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:23:25,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:23:25,406 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:23:25,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:23:25,408 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:23:25,408 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:24:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:24:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:24:25,110 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:24:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:24:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:24:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:25:25,418 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:25:25,419 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:25:25,421 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:25:25,423 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:25:25,424 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:25:25,424 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:26:25,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:26:25,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:26:25,409 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:26:25,410 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:26:25,410 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:26:25,411 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:27:25,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:27:25,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:27:25,104 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:27:25,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:27:25,106 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:27:25,106 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:28:25,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:28:25,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:28:25,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:28:25,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:28:25,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:28:25,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:29:25,109 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:29:25,110 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:29:25,113 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:29:25,115 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:29:25,116 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:29:25,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:30:25,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:30:25,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:30:25,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:30:25,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:30:25,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:30:25,415 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:31:25,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:31:25,106 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:31:25,108 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:31:25,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:31:25,110 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:31:25,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:32:25,403 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 19:32:25,404 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 19:32:25,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:32:25,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:32:25,416 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:32:25,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:32:25,421 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:32:25,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:33:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:33:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:33:25,110 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:33:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:33:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:33:25,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:34:25,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:34:25,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:34:25,414 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:34:25,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:34:25,416 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:34:25,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:35:25,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:35:25,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:35:25,104 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:35:25,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:35:25,110 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:35:25,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:36:25,399 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:36:25,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:36:25,404 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:36:25,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:36:25,408 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:36:25,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:37:25,091 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:37:25,092 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:37:25,094 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:37:25,096 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:37:25,097 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:37:25,097 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:38:25,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:38:25,406 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:38:25,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:38:25,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:38:25,415 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:38:25,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:39:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:39:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:39:25,110 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:39:25,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:39:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:39:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:40:25,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:40:25,410 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:40:25,411 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:40:25,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:40:25,413 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:40:25,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:41:25,111 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:41:25,112 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:41:25,113 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:41:25,115 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:41:25,115 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:41:25,116 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:42:25,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:42:25,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:42:25,409 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:42:25,410 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:42:25,411 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:42:25,411 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:43:25,101 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 19:43:25,102 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 19:43:25,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:43:25,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:43:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:43:25,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:43:25,112 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:43:25,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:44:25,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:44:25,409 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:44:25,412 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:44:25,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:44:25,415 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:44:25,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:45:25,098 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:45:25,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:45:25,102 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:45:25,105 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:45:25,106 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:45:25,106 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:46:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:46:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:46:25,416 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:46:25,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:46:25,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:46:25,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 19:47:25,104 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:47:25,105 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:47:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:47:25,116 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:47:25,122 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:47:25,123 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 19:48:25,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:48:25,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:48:25,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:48:25,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:48:25,413 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:48:25,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:49:25,128 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:49:25,129 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:49:25,131 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:49:25,133 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:49:25,134 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:49:25,134 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:50:25,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:50:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:50:25,418 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:50:25,421 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:50:25,421 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:50:25,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:51:25,111 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:51:25,112 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:51:25,114 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:51:25,118 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:51:25,118 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:51:25,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:52:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:52:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:52:25,416 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:52:25,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:52:25,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:52:25,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:53:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:53:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:53:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:53:25,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:53:25,108 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:53:25,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:54:25,413 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 19:54:25,413 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 19:54:25,416 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:54:25,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:54:25,418 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:54:25,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:54:25,420 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:54:25,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:55:25,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:55:25,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:55:25,103 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:55:25,105 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:55:25,105 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:55:25,106 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:56:25,404 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:56:25,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:56:25,406 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:56:25,408 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:56:25,408 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:56:25,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:57:25,091 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:57:25,092 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:57:25,094 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:57:25,096 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:57:25,096 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:57:25,097 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:58:25,431 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:58:25,432 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:58:25,434 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:58:25,437 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:58:25,437 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:58:25,437 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 19:59:25,110 - main - INFO - üì• GET /api/comparisons
2025-12-10 19:59:25,111 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 19:59:25,114 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 19:59:25,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 19:59:25,117 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 19:59:25,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:00:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:00:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:00:25,416 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:00:25,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:00:25,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:00:25,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:01:25,104 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:01:25,106 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:01:25,108 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:01:25,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:01:25,111 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:01:25,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:02:25,397 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:02:25,398 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:02:25,400 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:02:25,402 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:02:25,403 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:02:25,404 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:03:25,102 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:03:25,103 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:03:25,105 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:03:25,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:03:25,108 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:03:25,109 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:04:25,414 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:04:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:04:25,417 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:04:25,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:04:25,421 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:04:25,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:05:25,100 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 20:05:25,100 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 20:05:25,115 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:05:25,116 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:05:25,118 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:05:25,121 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:05:25,121 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:05:25,122 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:05:34,511 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:05:34,513 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:05:34,516 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:05:34,520 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:05:34,521 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:05:34,522 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:06:04,191 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:06:04,192 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:06:04,194 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:06:04,196 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:06:04,197 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:06:04,197 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:06:26,055 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-10 20:06:26,056 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-10 20:06:26,056 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-10 20:06:26,057 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-10 20:06:26,059 - main - INFO - üì• GET /api/my-documents
2025-12-10 20:06:26,059 - app.services.user_documents_service - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:26,060 - app.services.user_documents_service - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:26,061 - app.api.routes - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:26,063 - app.api.routes - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\api\routes.py", line 683, in get_user_documents
    documents = await user_documents_service.get_user_documents(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:26,064 - main - INFO - üì§ GET /api/my-documents - 500 - 0.01s
2025-12-10 20:06:26,067 - main - INFO - üì• GET /api/my-documents
2025-12-10 20:06:26,067 - app.services.user_documents_service - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:26,068 - app.services.user_documents_service - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:26,069 - app.api.routes - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:26,071 - app.api.routes - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\api\routes.py", line 683, in get_user_documents
    documents = await user_documents_service.get_user_documents(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:26,073 - main - INFO - üì§ GET /api/my-documents - 500 - 0.01s
2025-12-10 20:06:30,164 - main - INFO - üì• GET /api/my-documents
2025-12-10 20:06:30,164 - app.services.user_documents_service - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:30,166 - app.services.user_documents_service - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:30,171 - app.api.routes - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:30,173 - app.api.routes - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\api\routes.py", line 683, in get_user_documents
    documents = await user_documents_service.get_user_documents(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:30,174 - main - INFO - üì§ GET /api/my-documents - 500 - 0.01s
2025-12-10 20:06:30,179 - main - INFO - üì• GET /api/my-documents
2025-12-10 20:06:30,180 - app.services.user_documents_service - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:30,181 - app.services.user_documents_service - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:30,182 - app.api.routes - ERROR - ‚ùå Error getting user documents: Invalid user ID format: undefined
2025-12-10 20:06:30,183 - app.api.routes - ERROR - Traceback (most recent call last):
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\api\routes.py", line 683, in get_user_documents
    documents = await user_documents_service.get_user_documents(user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\Music\HakimAI-AIModule\app\services\user_documents_service.py", line 139, in get_user_documents
    raise ValueError(f"Invalid user ID format: {user_id}")
ValueError: Invalid user ID format: undefined

2025-12-10 20:06:30,185 - main - INFO - üì§ GET /api/my-documents - 500 - 0.01s
2025-12-10 20:06:35,412 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:06:35,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:06:35,417 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:06:35,421 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:06:35,422 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:06:35,423 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:07:05,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:07:05,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:07:05,105 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:07:05,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:07:05,107 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:07:05,107 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:07:35,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:07:35,408 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:07:35,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:07:35,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:07:35,412 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:07:35,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:08:25,109 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:08:25,110 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:08:25,112 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:08:25,114 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:08:25,116 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:08:25,117 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:09:25,399 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:09:25,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:09:25,404 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:09:25,407 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:09:25,408 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:09:25,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:10:25,111 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:10:25,113 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:10:25,115 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:10:25,119 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:10:25,120 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:10:25,121 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:11:25,422 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:11:25,423 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:11:25,425 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:11:25,427 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:11:25,427 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:11:25,427 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:12:12,370 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:12:12,373 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:12:12,377 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:12:12,381 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:12:12,381 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:12:12,382 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:12:35,407 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:12:35,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:12:35,409 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:12:35,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:12:35,411 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:12:35,412 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:13:05,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:13:05,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:13:05,102 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:13:05,103 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:13:05,103 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:13:05,104 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:14:06,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:14:06,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:14:06,419 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:14:06,421 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:14:06,421 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:14:06,422 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:15:07,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:15:07,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:15:07,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:15:07,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:15:07,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:15:07,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:16:08,408 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 20:16:08,410 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 20:16:08,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:08,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:08,418 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:08,419 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:08,420 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:08,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:16:20,878 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:20,879 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:20,880 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:20,882 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:20,883 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:20,883 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:16:20,886 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:20,887 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:20,889 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:20,891 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:20,892 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:20,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:16:23,035 - main - INFO - üì• OPTIONS /api/comparison/cmp_1765391343_642e61035e3a/pdf
2025-12-10 20:16:23,036 - main - INFO - üì§ OPTIONS /api/comparison/cmp_1765391343_642e61035e3a/pdf - 200 - 0.00s
2025-12-10 20:16:23,038 - main - INFO - üì• GET /api/comparison/cmp_1765391343_642e61035e3a/pdf
2025-12-10 20:16:23,039 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1765391343_642e61035e3a
2025-12-10 20:16:23,041 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1765391343_642e61035e3a
2025-12-10 20:16:23,041 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-10 20:16:23,041 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-10 20:16:23,043 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-10 20:16:23,044 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-10 20:16:23,047 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-10 20:16:23,048 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-10 20:16:23,055 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-10 20:16:23,055 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-10 20:16:23,061 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-10 20:16:23,062 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-10 20:16:23,063 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-10 20:16:23,063 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-10 20:16:23,064 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-10 20:16:23,064 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-10 20:16:23,065 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-10 20:16:23,690 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1765391343_642e61035e3a
2025-12-10 20:16:23,691 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1765391343_642e61035e3a_20251210_201623.pdf (147990 bytes)
2025-12-10 20:16:23,692 - main - INFO - üì§ GET /api/comparison/cmp_1765391343_642e61035e3a/pdf - 200 - 0.65s
2025-12-10 20:16:24,705 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:24,707 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:24,711 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:24,716 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:24,718 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:24,724 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 20:16:24,740 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:24,745 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:24,749 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:24,752 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:24,754 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:24,755 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 20:16:32,852 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-10 20:16:32,856 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-10 20:16:32,892 - main - INFO - üì• GET /api/my-documents
2025-12-10 20:16:32,920 - app.services.user_documents_service - INFO - üìã Found 12 documents for user 6939983dfe49b4482890eb8b
2025-12-10 20:16:32,921 - main - INFO - üì§ GET /api/my-documents - 200 - 0.03s
2025-12-10 20:16:55,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:16:55,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:16:55,404 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:16:55,405 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:16:55,405 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:16:55,405 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:17:25,100 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:17:25,101 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:17:25,103 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:17:25,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:17:25,107 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:17:25,107 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:17:55,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:17:55,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:17:55,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:17:55,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:17:55,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:17:55,417 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:18:25,093 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:18:25,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:18:25,096 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:18:25,098 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:18:25,098 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:18:25,099 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:18:55,397 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:18:55,398 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:18:55,399 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:18:55,400 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:18:55,400 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:18:55,401 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:19:25,113 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:19:25,116 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:19:25,121 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:19:25,127 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:19:25,129 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:19:25,130 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-10 20:19:55,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:19:55,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:19:55,414 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:19:55,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:19:55,416 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:19:55,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:20:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:20:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:20:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:20:25,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:20:25,112 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:20:25,112 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:21:25,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:21:25,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:21:25,408 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:21:25,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:21:25,412 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:21:25,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:22:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:22:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:22:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:22:25,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:22:25,111 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:22:25,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:23:25,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:23:25,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:23:25,413 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:23:25,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:23:25,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:23:25,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:24:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:24:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:24:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:24:25,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:24:25,108 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:24:25,110 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:25:25,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:25:25,410 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:25:25,413 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:25:25,416 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:25:25,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:25:25,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:26:25,410 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 20:26:25,411 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 20:26:25,416 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:26:25,417 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:26:25,418 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:26:25,420 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:26:25,420 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:26:25,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:26:30,357 - main - INFO - üì• OPTIONS /api/my-documents/6939b8aaef7fa63f88950aa3/download
2025-12-10 20:26:30,358 - main - INFO - üì§ OPTIONS /api/my-documents/6939b8aaef7fa63f88950aa3/download - 200 - 0.00s
2025-12-10 20:26:30,363 - main - INFO - üì• GET /api/my-documents/6939b8aaef7fa63f88950aa3/download
2025-12-10 20:26:30,373 - app.services.user_documents_service - INFO - üìã Found 12 documents for user 6939983dfe49b4482890eb8b
2025-12-10 20:26:30,374 - main - INFO - üì§ GET /api/my-documents/6939b8aaef7fa63f88950aa3/download - 200 - 0.01s
2025-12-10 20:27:25,099 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:27:25,100 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:27:25,102 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:27:25,104 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:27:25,104 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:27:25,105 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:28:25,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:28:25,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:28:25,413 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:28:25,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:28:25,416 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:28:25,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:29:25,105 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:29:25,106 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:29:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:29:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:29:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:29:25,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:30:25,417 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:30:25,434 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:30:25,436 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:30:25,438 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:30:25,438 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:30:25,467 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-10 20:31:17,632 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:31:17,634 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:31:17,635 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:31:17,637 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:31:17,637 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:31:17,638 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:31:25,409 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:31:25,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:31:25,414 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:31:25,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:31:25,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:31:25,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:31:55,101 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:31:55,102 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:31:55,103 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:31:55,105 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:31:55,105 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:31:55,106 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:32:25,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:32:25,417 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:32:25,420 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:32:25,423 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:32:25,423 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:32:25,424 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:33:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:33:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:33:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:33:25,109 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:33:25,110 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:33:25,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:34:25,408 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:34:25,409 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:34:25,411 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:34:25,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:34:25,413 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:34:25,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:35:25,108 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:35:25,109 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:35:25,112 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:35:25,116 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:35:25,116 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:35:25,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:36:25,421 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:36:25,421 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:36:25,423 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:36:25,425 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:36:25,425 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:36:25,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:37:25,101 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 20:37:25,101 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 20:37:25,104 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:37:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:37:25,106 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:37:25,108 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:37:25,108 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:37:25,109 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:38:25,410 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:38:25,411 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:38:25,412 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:38:25,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:38:25,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:38:25,415 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:39:25,108 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:39:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:39:25,110 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:39:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:39:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:39:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:40:25,403 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:40:25,404 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:40:25,407 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:40:25,411 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:40:25,412 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:40:25,413 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:41:25,103 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:41:25,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:41:25,105 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:41:25,107 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:41:25,108 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:41:25,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:41:55,406 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:41:55,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:41:55,410 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:41:55,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:41:55,415 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:41:55,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:42:25,108 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:42:25,109 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:42:25,112 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:42:25,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:42:25,114 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:42:25,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:43:25,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:43:25,415 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:43:25,417 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:43:25,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:43:25,418 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:43:25,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:44:25,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:44:25,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:44:25,108 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:44:25,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:44:25,110 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:44:25,110 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:45:25,406 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:45:25,407 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:45:25,408 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:45:25,409 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:45:25,410 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:45:25,410 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:46:25,109 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:46:25,110 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:46:25,111 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:46:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:46:25,112 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:46:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:47:25,405 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:47:25,406 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:47:25,409 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:47:25,413 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:47:25,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:47:25,415 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:48:25,113 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-10 20:48:25,114 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-10 20:48:25,126 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:48:25,127 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:48:25,128 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:48:25,130 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:48:25,130 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:48:25,131 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:49:25,402 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:49:25,403 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:49:25,404 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:49:25,406 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:49:25,406 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:49:25,406 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:50:25,096 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:50:25,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:50:25,099 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:50:25,101 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:50:25,101 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:50:25,101 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:51:25,415 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:51:25,416 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:51:25,419 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:51:25,423 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:51:25,424 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:51:25,425 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:52:25,107 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:52:25,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:52:25,112 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:52:25,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:52:25,118 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:52:25,120 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:53:25,413 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:53:25,414 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:53:25,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:53:25,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:53:25,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:53:25,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:54:25,109 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:54:25,112 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:54:25,115 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:54:25,118 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:54:25,118 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:54:25,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:55:25,401 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:55:25,402 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:55:25,403 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:55:25,404 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:55:25,404 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:55:25,405 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-10 20:56:25,411 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:56:25,412 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:56:25,415 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:56:25,418 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:56:25,419 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:56:25,420 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:57:25,106 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:57:25,107 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:57:25,109 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:57:25,112 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:57:25,113 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:57:25,113 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-10 20:58:25,422 - main - INFO - üì• GET /api/comparisons
2025-12-10 20:58:25,424 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69399a08fe49b4482890ec0b
2025-12-10 20:58:25,428 - app.api.routes - INFO - üè¢ User belongs to company: 6939c0cc39cfb8629d2e0106 - will include shared comparisons
2025-12-10 20:58:25,433 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69399a08fe49b4482890ec0b (company: 6939c0cc39cfb8629d2e0106)
2025-12-10 20:58:25,434 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69399a08fe49b4482890ec0b
2025-12-10 20:58:25,435 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:05:30,393 - main - INFO - 
2025-12-11 15:05:30,393 - main - INFO - ================================================================================
2025-12-11 15:05:30,394 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-11 15:05:30,394 - main - INFO -   Production-Ready Complete Integration
2025-12-11 15:05:30,394 - main - INFO - ================================================================================
2025-12-11 15:05:30,394 - main - INFO -   AI Model: gpt-4o-mini
2025-12-11 15:05:30,395 - main - INFO -   Upload Directory: uploads
2025-12-11 15:05:30,395 - main - INFO -   Max File Size: 20MB
2025-12-11 15:05:30,395 - main - INFO - ================================================================================
2025-12-11 15:05:30,396 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-11 15:05:30,396 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-11 15:05:30,396 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017
2025-12-11 15:05:30,720 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-11 15:05:30,799 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-11 15:05:30,799 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-11 15:05:30,799 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:05:30,800 - main - ERROR -   ‚ùå User Subscription Service connection failed: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:05:30,800 - main - WARNING -   ‚ö†Ô∏è  Application will continue without user subscription checks
2025-12-11 15:05:30,800 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-11 15:05:30,800 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017
2025-12-11 15:05:30,800 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-11 15:05:30,820 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-11 15:05:30,820 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-11 15:05:30,820 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-11 15:05:30,820 - main - INFO - 
2025-12-11 15:05:30,820 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-11 15:05:30,821 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-11 15:05:30,821 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-11 15:05:30,821 - main - INFO -        - Separates warranties from extensions
2025-12-11 15:05:30,821 - main - INFO -        - Extracts subjectivities & operational details
2025-12-11 15:05:30,822 - main - INFO -        - Correct deductible tier detection
2025-12-11 15:05:30,822 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-11 15:05:30,822 - main - INFO - 
2025-12-11 15:05:30,822 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-11 15:05:30,823 - main - INFO -        - Generates ALL sections comprehensively
2025-12-11 15:05:30,823 - main - INFO -        - Identifies unique items per provider
2025-12-11 15:05:30,823 - main - INFO -        - Transparent scoring methodology
2025-12-11 15:05:30,823 - main - INFO -        - Uses full _extended_data from parser
2025-12-11 15:05:30,823 - main - INFO - 
2025-12-11 15:05:30,823 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-11 15:05:30,824 - main - INFO -        - Single endpoint auto-populates everything
2025-12-11 15:05:30,824 - main - INFO -        - No manual section generation
2025-12-11 15:05:30,824 - main - INFO -        - Complete MongoDB integration
2025-12-11 15:05:30,824 - main - INFO - 
2025-12-11 15:05:30,824 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-11 15:05:30,824 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-11 15:05:30,825 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-11 15:05:30,825 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-11 15:05:30,825 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-11 15:05:30,825 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-11 15:05:30,825 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-11 15:05:30,826 - main - INFO - 
2025-12-11 15:05:30,826 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-11 15:05:30,826 - main - INFO -      Main:
2025-12-11 15:05:30,826 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-11 15:05:30,827 - main - INFO - 
2025-12-11 15:05:30,827 - main - INFO -      Retrieval:
2025-12-11 15:05:30,827 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-11 15:05:30,827 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-11 15:05:30,828 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-11 15:05:30,828 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-11 15:05:30,828 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-11 15:05:30,828 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-11 15:05:30,828 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-11 15:05:30,829 - main - INFO - 
2025-12-11 15:05:30,829 - main - INFO -      Management:
2025-12-11 15:05:30,829 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-11 15:05:30,829 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-11 15:05:30,830 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-11 15:05:30,830 - main - INFO - 
2025-12-11 15:05:30,830 - main - INFO -      Documents (MongoDB):
2025-12-11 15:05:30,830 - main - INFO -        GET  /api/documents                All documents
2025-12-11 15:05:30,830 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-11 15:05:30,831 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-11 15:05:30,831 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-11 15:05:30,831 - main - INFO - 
2025-12-11 15:05:30,831 - main - INFO -      Diagnostics & Health:
2025-12-11 15:05:30,832 - main - INFO -        GET  /api/health                   System health
2025-12-11 15:05:30,832 - main - INFO -        GET  /api/status                   Detailed status
2025-12-11 15:05:30,832 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-11 15:05:30,832 - main - INFO - 
2025-12-11 15:05:30,833 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-11 15:05:30,833 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-11 15:05:30,833 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-11 15:05:30,833 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-11 15:05:30,833 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-11 15:05:30,834 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-11 15:05:30,834 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-11 15:05:30,834 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-11 15:05:30,834 - main - INFO - 
2025-12-11 15:05:30,835 - main - INFO -   üéØ WORKFLOW:
2025-12-11 15:05:30,835 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-11 15:05:30,835 - main - INFO -      2. Receive comparison_id + complete data
2025-12-11 15:05:30,835 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-11 15:05:30,835 - main - INFO -      4. No re-upload needed!
2025-12-11 15:05:30,836 - main - INFO - 
2025-12-11 15:05:30,836 - main - INFO - ================================================================================
2025-12-11 15:05:30,836 - main - INFO -   ‚úÖ Application started successfully!
2025-12-11 15:05:30,836 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-11 15:05:30,837 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-11 15:05:30,837 - main - INFO - ================================================================================
2025-12-11 15:05:30,837 - main - INFO - 
2025-12-11 15:05:30,837 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-11 15:13:18,495 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:13:18,496 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:13:18,497 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:13:18,499 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:13:18,500 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,502 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,504 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,505 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,508 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:13:18,510 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,510 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  MongoDB not connected, attempting to connect...
2025-12-11 15:13:18,510 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,511 - app.services.user_subscription_service - ERROR - ‚ùå Error getting user company ID: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,513 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:13:18,514 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,514 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,518 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:13:18,519 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,519 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  MongoDB not connected, attempting to connect...
2025-12-11 15:13:18,520 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,520 - app.services.user_subscription_service - ERROR - ‚ùå Error getting user company ID: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,522 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:13:18,523 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,523 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,525 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:13:18,526 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,526 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  MongoDB not connected, attempting to connect...
2025-12-11 15:13:18,527 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,527 - app.services.user_subscription_service - ERROR - ‚ùå Error getting user company ID: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,529 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:13:18,530 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,530 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:13:18,533 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:13:18,534 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,535 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  MongoDB not connected, attempting to connect...
2025-12-11 15:13:18,536 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,537 - app.services.user_subscription_service - ERROR - ‚ùå Error getting user company ID: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:13:18,538 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:13:18,539 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:13:18,540 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:17:54,704 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-11 15:17:54,704 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-11 15:17:54,709 - main - INFO - üì• POST /api/compare-quotes
2025-12-11 15:17:54,715 - app.api.routes - INFO - üîç Checking user subscription for user: 693adee9165b8c9e9592cf45
2025-12-11 15:17:54,715 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  MongoDB not connected, attempting to connect...
2025-12-11 15:17:54,716 - app.services.user_subscription_service - ERROR - ‚ùå Failed to connect to MongoDB: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:17:54,717 - app.services.user_subscription_service - ERROR - ‚ùå Error checking user subscription: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:17:54,719 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 693adee9165b8c9e9592cf45: Error checking subscription: MongoDB connection string not found. Please set MONGO_URI or MONGODB_URL environment variable.
2025-12-11 15:17:54,719 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.01s
2025-12-11 15:19:18,222 - main - INFO - 
2025-12-11 15:19:18,223 - main - INFO - ================================================================================
2025-12-11 15:19:18,223 - main - INFO -   üõë Shutting down application...
2025-12-11 15:19:18,226 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-11 15:19:18,226 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-11 15:19:18,227 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-11 15:19:18,229 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-11 15:19:18,230 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-11 15:19:18,231 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-11 15:19:18,232 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-11 15:19:18,232 - main - INFO - ================================================================================
2025-12-11 15:19:18,233 - main - INFO - 
2025-12-11 15:19:30,162 - main - INFO - 
2025-12-11 15:19:30,163 - main - INFO - ================================================================================
2025-12-11 15:19:30,163 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-11 15:19:30,163 - main - INFO -   Production-Ready Complete Integration
2025-12-11 15:19:30,164 - main - INFO - ================================================================================
2025-12-11 15:19:30,164 - main - INFO -   AI Model: gpt-4o-mini
2025-12-11 15:19:30,164 - main - INFO -   Upload Directory: uploads
2025-12-11 15:19:30,164 - main - INFO -   Max File Size: 20MB
2025-12-11 15:19:30,165 - main - INFO - ================================================================================
2025-12-11 15:19:30,165 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-11 15:19:30,166 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-11 15:19:30,166 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-11 15:19:30,517 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-11 15:19:30,521 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-11 15:19:30,521 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-11 15:19:30,521 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-11 15:19:30,522 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-11 15:19:30,522 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-11 15:19:30,564 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-11 15:19:30,566 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-11 15:19:30,568 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companies', 'companyusers', 'comparisons', 'admins', 'users', 'individual_pdf_extractions']
2025-12-11 15:19:30,572 - app.services.user_subscription_service - INFO - üìä Users collection has 2 documents
2025-12-11 15:19:30,573 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-11 15:19:30,574 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-11 15:19:30,574 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-11 15:19:30,575 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-11 15:19:30,624 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-11 15:19:30,624 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-11 15:19:30,624 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-11 15:19:30,624 - main - INFO - 
2025-12-11 15:19:30,624 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-11 15:19:30,625 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-11 15:19:30,625 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-11 15:19:30,625 - main - INFO -        - Separates warranties from extensions
2025-12-11 15:19:30,625 - main - INFO -        - Extracts subjectivities & operational details
2025-12-11 15:19:30,625 - main - INFO -        - Correct deductible tier detection
2025-12-11 15:19:30,626 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-11 15:19:30,626 - main - INFO - 
2025-12-11 15:19:30,626 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-11 15:19:30,626 - main - INFO -        - Generates ALL sections comprehensively
2025-12-11 15:19:30,626 - main - INFO -        - Identifies unique items per provider
2025-12-11 15:19:30,627 - main - INFO -        - Transparent scoring methodology
2025-12-11 15:19:30,627 - main - INFO -        - Uses full _extended_data from parser
2025-12-11 15:19:30,627 - main - INFO - 
2025-12-11 15:19:30,627 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-11 15:19:30,627 - main - INFO -        - Single endpoint auto-populates everything
2025-12-11 15:19:30,627 - main - INFO -        - No manual section generation
2025-12-11 15:19:30,628 - main - INFO -        - Complete MongoDB integration
2025-12-11 15:19:30,628 - main - INFO - 
2025-12-11 15:19:30,628 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-11 15:19:30,628 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-11 15:19:30,628 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-11 15:19:30,628 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-11 15:19:30,629 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-11 15:19:30,629 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-11 15:19:30,629 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-11 15:19:30,629 - main - INFO - 
2025-12-11 15:19:30,629 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-11 15:19:30,629 - main - INFO -      Main:
2025-12-11 15:19:30,630 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-11 15:19:30,630 - main - INFO - 
2025-12-11 15:19:30,630 - main - INFO -      Retrieval:
2025-12-11 15:19:30,630 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-11 15:19:30,630 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-11 15:19:30,630 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-11 15:19:30,631 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-11 15:19:30,631 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-11 15:19:30,631 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-11 15:19:30,631 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-11 15:19:30,631 - main - INFO - 
2025-12-11 15:19:30,632 - main - INFO -      Management:
2025-12-11 15:19:30,632 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-11 15:19:30,632 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-11 15:19:30,632 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-11 15:19:30,632 - main - INFO - 
2025-12-11 15:19:30,632 - main - INFO -      Documents (MongoDB):
2025-12-11 15:19:30,633 - main - INFO -        GET  /api/documents                All documents
2025-12-11 15:19:30,633 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-11 15:19:30,633 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-11 15:19:30,633 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-11 15:19:30,633 - main - INFO - 
2025-12-11 15:19:30,633 - main - INFO -      Diagnostics & Health:
2025-12-11 15:19:30,633 - main - INFO -        GET  /api/health                   System health
2025-12-11 15:19:30,634 - main - INFO -        GET  /api/status                   Detailed status
2025-12-11 15:19:30,634 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-11 15:19:30,634 - main - INFO - 
2025-12-11 15:19:30,634 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-11 15:19:30,634 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-11 15:19:30,634 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-11 15:19:30,635 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-11 15:19:30,635 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-11 15:19:30,635 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-11 15:19:30,635 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-11 15:19:30,635 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-11 15:19:30,635 - main - INFO - 
2025-12-11 15:19:30,636 - main - INFO -   üéØ WORKFLOW:
2025-12-11 15:19:30,636 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-11 15:19:30,636 - main - INFO -      2. Receive comparison_id + complete data
2025-12-11 15:19:30,636 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-11 15:19:30,636 - main - INFO -      4. No re-upload needed!
2025-12-11 15:19:30,636 - main - INFO - 
2025-12-11 15:19:30,637 - main - INFO - ================================================================================
2025-12-11 15:19:30,637 - main - INFO -   ‚úÖ Application started successfully!
2025-12-11 15:19:30,637 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-11 15:19:30,637 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-11 15:19:30,637 - main - INFO - ================================================================================
2025-12-11 15:19:30,638 - main - INFO - 
2025-12-11 15:19:30,638 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-11 15:21:22,996 - main - INFO - üì• POST /api/compare-quotes
2025-12-11 15:21:23,005 - app.api.routes - INFO - üîç Checking user subscription for user: 693adee9165b8c9e9592cf45
2025-12-11 15:21:23,005 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693adee9165b8c9e9592cf45
2025-12-11 15:21:23,006 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:21:23,006 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:21:23,008 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay7757@gmail.com)
2025-12-11 15:21:23,011 - app.api.routes - INFO - ‚úÖ User 693adee9165b8c9e9592cf45 can perform comparison
2025-12-11 15:21:23,011 - app.api.routes - INFO -    - Remaining comparisons: 250
2025-12-11 15:21:23,011 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-11 15:21:23,012 - app.api.routes - INFO -    - Files uploaded: 2
2025-12-11 15:21:23,012 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765466483_0ef572d80a53
2025-12-11 15:21:23,012 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_c5af6d217a64 (2 files)
2025-12-11 15:21:23,012 - app.api.routes - INFO - üìä Initialized progress tracking: job_c5af6d217a64
2025-12-11 15:21:23,013 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:21:23,013 - app.api.routes - INFO - üìÑ Processing: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:21:23,013 - app.api.routes - INFO - ======================================================================
2025-12-11 15:21:23,014 - app.api.routes - INFO - üíæ Saved file: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 450ef52c82cf48b197ac3380ef5a3365.pdf (309991 bytes)
2025-12-11 15:21:23,015 - app.api.routes - INFO - üìñ Extracting text from: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:21:23,017 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\450ef52c82cf48b197ac3380ef5a3365.pdf
2025-12-11 15:21:23,017 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:21:23,021 - app.api.routes - INFO - üìÑ Processing: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:21:23,058 - app.api.routes - INFO - ======================================================================
2025-12-11 15:21:23,124 - app.api.routes - INFO - üíæ Saved file: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 62c9abb4bf1c4de0adb2ad41230420cf.pdf (290798 bytes)
2025-12-11 15:21:23,125 - app.api.routes - INFO - üìñ Extracting text from: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:21:23,127 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\62c9abb4bf1c4de0adb2ad41230420cf.pdf
2025-12-11 15:21:23,184 - app.services.pdf_extractor - INFO - Successfully extracted 12679 characters from 5 pages
2025-12-11 15:21:23,202 - app.services.pdf_extractor - INFO - Successfully extracted 15546 characters from 7 pages
2025-12-11 15:21:23,203 - app.api.routes - INFO - ü§ñ Parsing with AI: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:21:23,204 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:21:23,208 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Wataniya Insurance
2025-12-11 15:21:23,209 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Wataniya Insurance
2025-12-11 15:21:23,211 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:21:23,212 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:21:23,212 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-11 15:21:23,290 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-11 15:21:23,290 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:21:23,993 - app.api.routes - INFO - ü§ñ Parsing with AI: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:21:23,993 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:21:23,994 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-11 15:21:23,996 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-11 15:21:23,996 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-11 15:21:23,996 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:21:23,996 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-11 15:21:23,997 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Format/Company mismatch: Format=LIVA, Company=Al Rajhi Takaful
2025-12-11 15:21:23,997 - app.services.ai_parser - INFO - üîß Overriding company name to: Liva Insurance (based on document format)
2025-12-11 15:21:24,089 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-11 15:21:24,090 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:21:52,144 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:21:52,176 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:21:52,177 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:21:52,179 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:21:52,180 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 2 benefits, using fallback...
2025-12-11 15:21:52,191 - app.services.ai_parser - INFO - üìã Fallback extracted 37 benefits from patterns
2025-12-11 15:21:52,191 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 36 total
2025-12-11 15:21:52,191 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:21:55,488 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:21:55,494 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:21:55,494 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:21:55,494 - app.services.ai_parser - INFO - üîÑ Rate: '0.95%o on total sum insured of SAR 350,328,000/-' ‚Üí '0.95‚Ä∞'
2025-12-11 15:21:55,495 - app.services.ai_parser - INFO - üí∞ Calculated: 332811.60 from SI: 350328000.0 √ó Rate: 0.95%o on total sum insured of SAR 350,328,000/-
2025-12-11 15:21:55,495 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the loss amount minimum SAR 1,000,000 | Nat Cat: 1% of the loss amount minimum SAR 1,000,000
2025-12-11 15:21:55,495 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:21:55,495 - app.services.ai_parser - INFO - üìä Counts: 36 benefits, 42 exclusions, 6 warranties, 3 extensions
2025-12-11 15:22:03,186 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:03,193 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-11 15:22:03,195 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:22:03,196 - app.services.ai_parser - INFO - 
2025-12-11 15:22:03,197 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:03,197 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:22:03,198 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:03,199 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-11 15:22:03,200 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-11 15:22:03,201 - app.services.ai_parser - INFO - üí∞ Premium: SAR 322,811.60
2025-12-11 15:22:03,202 - app.services.ai_parser - INFO - üìä Rate: 0.95‚Ä∞
2025-12-11 15:22:03,203 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-11 15:22:03,204 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-11 15:22:03,205 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the loss amount minimum SAR 1,000,000 | Nat Cat: 1% of the loss amount minimum SAR 1,000,000
2025-12-11 15:22:03,206 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:22:03,206 - app.services.ai_parser - INFO - üíº Brokerage: N/A
2025-12-11 15:22:03,207 - app.services.ai_parser - INFO - 
2025-12-11 15:22:03,207 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:22:03,208 - app.services.ai_parser - INFO -    ‚úì Benefits: 36
2025-12-11 15:22:03,208 - app.services.ai_parser - INFO -    ‚úì Exclusions: 42
2025-12-11 15:22:03,209 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-11 15:22:03,209 - app.services.ai_parser - INFO -    ‚úì Extensions: 3
2025-12-11 15:22:03,209 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 0
2025-12-11 15:22:03,210 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:03,214 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 62c9abb4bf1c4de0adb2ad41230420cf.pdf ‚Üí 693ae19b44950a5a72dacd34
2025-12-11 15:22:03,215 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae19b44950a5a72dacd34
2025-12-11 15:22:03,239 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae19b44950a5a72dacd35 (290798 bytes)
2025-12-11 15:22:03,239 - app.api.routes - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae19b44950a5a72dacd35
2025-12-11 15:22:03,239 - app.api.routes - INFO - ‚úÖ Successfully processed: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:22:05,779 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:05,784 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:22:05,785 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:22:05,786 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:22:05,787 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-11 15:22:05,796 - app.services.ai_parser - INFO - üìã Fallback extracted 20 benefits from patterns
2025-12-11 15:22:05,797 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 25 total
2025-12-11 15:22:05,798 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:22:11,955 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:11,957 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:22:11,958 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:22:11,959 - app.services.ai_parser - INFO - üîÑ Rate: 'SAR 365,000.00 @ 1.00‚Ä∞' ‚Üí '1.00‚Ä∞'
2025-12-11 15:22:11,959 - app.services.ai_parser - INFO - üí∞ Calculated: 133225000000.00 from SI: 365000000.0 √ó Rate: SAR 365,000.00 @ 1.00‚Ä∞
2025-12-11 15:22:11,961 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-11 15:22:11,962 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:22:11,962 - app.services.ai_parser - INFO - üìä Counts: 25 benefits, 28 exclusions, 5 warranties, 8 extensions
2025-12-11 15:22:19,423 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:19,432 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-11 15:22:19,432 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:22:19,434 - app.services.ai_parser - INFO - 
2025-12-11 15:22:19,434 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:19,435 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:22:19,436 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:19,437 - app.services.ai_parser - INFO - üè¢ Insurer: Wataniya Insurance
2025-12-11 15:22:19,438 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:22:19,439 - app.services.ai_parser - INFO - üí∞ Premium: SAR 365,000.00
2025-12-11 15:22:19,440 - app.services.ai_parser - INFO - üìä Rate: 1.00‚Ä∞
2025-12-11 15:22:19,441 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-11 15:22:19,441 - app.services.ai_parser - INFO - üìè Quality: 99.3/100
2025-12-11 15:22:19,442 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-11 15:22:19,442 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:22:19,443 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-11 15:22:19,443 - app.services.ai_parser - INFO - 
2025-12-11 15:22:19,444 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:22:19,445 - app.services.ai_parser - INFO -    ‚úì Benefits: 25
2025-12-11 15:22:19,446 - app.services.ai_parser - INFO -    ‚úì Exclusions: 28
2025-12-11 15:22:19,447 - app.services.ai_parser - INFO -    ‚úì Warranties: 5
2025-12-11 15:22:19,447 - app.services.ai_parser - INFO -    ‚úì Extensions: 8
2025-12-11 15:22:19,448 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-11 15:22:19,448 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:22:19,453 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 450ef52c82cf48b197ac3380ef5a3365.pdf ‚Üí 693ae1ab44950a5a72dacd36
2025-12-11 15:22:19,454 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae1ab44950a5a72dacd36
2025-12-11 15:22:19,461 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae1ab44950a5a72dacd37 (309991 bytes)
2025-12-11 15:22:19,462 - app.api.routes - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae1ab44950a5a72dacd37
2025-12-11 15:22:19,462 - app.api.routes - INFO - ‚úÖ Successfully processed: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:22:19,463 - app.api.routes - INFO - 
‚úÖ Successfully extracted 2 quotes
2025-12-11 15:22:19,463 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:22:19,463 - app.api.routes - INFO - üîÄ Generating comparison for 2 quotes
2025-12-11 15:22:19,464 - app.api.routes - INFO - ======================================================================
2025-12-11 15:22:19,464 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 2 quotes
2025-12-11 15:22:19,464 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-11 15:22:19,464 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-11 15:22:19,465 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:22:19,465 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-11 15:22:19,466 - app.services.ai_ranker - INFO - ================================================================================
2025-12-11 15:22:19,467 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:22:19,468 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-11 15:22:19,468 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:22:19,468 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:22:19,469 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:22:19,470 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:22:19,471 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:22:19,472 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': [], 'conditions_precedent': ['No deterioration of loss record'], 'documentation_required': []}
2025-12-11 15:22:19,473 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:22:19,474 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:22:19,474 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:22:19,474 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:22:19,475 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 350328000,
    "total_sum_insured": "SAR 350,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1% of the loss amount minimum SAR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "All other losses",
        "deductible": "1% of the loss amount minimum SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "N/A",
        "deductible": "N/A",
        "applies_to": "business_interruption"
      }
    ],
    "natural_catastrophe_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1% of the loss amount minimum SAR 1,000,000"
      }
    ],
    "applicable_md_tier": {
  
2025-12-11 15:22:19,479 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'binding_requirements': []
2025-12-11 15:22:19,480 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'conditions_precedent': ['No deterioration of loss record']
2025-12-11 15:22:19,480 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'documentation_required': []
2025-12-11 15:22:19,480 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:22:19,481 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:22:19,481 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:22:19,481 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:22:19,481 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:22:19,482 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:22:19,482 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:22:19,483 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:22:19,484 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:22:19,485 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:22:19,485 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:22:19,486 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:22:19,486 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:22:19,487 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 1
2025-12-11 15:22:19,488 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['No deterioration of loss record']
2025-12-11 15:22:19,488 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 1 subjectivities for Liva Insurance
2025-12-11 15:22:19,488 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-11 15:22:19,489 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-11 15:22:19,489 - app.services.ai_ranker - INFO -    Extensions: 3
2025-12-11 15:22:19,489 - app.services.ai_ranker - INFO -    Exclusions: 42
2025-12-11 15:22:19,489 - app.services.ai_ranker - INFO -    Subjectivities: 1
2025-12-11 15:22:19,490 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:22:19,490 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Wataniya Insurance
2025-12-11 15:22:19,490 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:22:19,490 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:22:19,490 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:22:19,491 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:22:19,491 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:22:19,491 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-11 15:22:19,492 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:22:19,492 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:22:19,492 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:22:19,492 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:22:19,492 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,000,000.00",
    "business_interruption": "SAR 10,000,000.00",
    "total_sum_insured_numeric": 365000000,
    "total_sum_insured": "SAR 365,000,000.00"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "All losses",
        "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "Bodily injury",
        "deductible": "Nil",
        "applies_to": "business_interruption"
      },
      {
        "range": "Property Damage",
        "deductible": "SAR 25,000 for each and every loss",
        "applies_to": "business_interruption"
      },
      {
        "range": "Underground Facilities",
        "deductible": "25% of claim amount subject to SAR 25,000 for each and every loss
2025-12-11 15:22:19,495 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:22:19,496 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-11 15:22:19,496 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-11 15:22:19,496 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:22:19,496 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:22:19,497 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:22:19,497 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:22:19,497 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:22:19,497 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:22:19,497 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:22:19,498 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:22:19,498 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:22:19,498 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:22:19,498 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:22:19,499 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:22:19,499 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:22:19,500 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-11 15:22:19,500 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:22:19,501 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Wataniya Insurance
2025-12-11 15:22:19,501 - app.services.ai_ranker - INFO - 
üìä Wataniya Insurance:
2025-12-11 15:22:19,501 - app.services.ai_ranker - INFO -    Warranties: 5
2025-12-11 15:22:19,502 - app.services.ai_ranker - INFO -    Extensions: 8
2025-12-11 15:22:19,503 - app.services.ai_ranker - INFO -    Exclusions: 28
2025-12-11 15:22:19,503 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-11 15:22:19,504 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-11 15:22:19,911 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 5
2025-12-11 15:22:19,912 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 3
2025-12-11 15:22:19,912 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:22:19,912 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-11 15:22:19,913 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:22:19,913 - app.services.ai_ranker - INFO -       ‚Ä¢ Hot works Warranty
2025-12-11 15:22:19,913 - app.services.ai_ranker - INFO -       ‚Ä¢ No smoking Warranty
2025-12-11 15:22:19,914 - app.services.ai_ranker - INFO -       ‚Ä¢ Housekeeping Warranty
2025-12-11 15:22:19,914 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Wataniya Insurance
2025-12-11 15:22:20,205 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-11 15:22:20,206 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 8
2025-12-11 15:22:20,206 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:22:20,206 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 10
2025-12-11 15:22:20,207 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:22:20,207 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted no known or reported losses for the last five years & latest 5 project...
2025-12-11 15:22:20,207 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that Reasonable Precautions to be taken during the project period
2025-12-11 15:22:20,208 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:22:20,208 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-11 15:22:20,208 - app.services.ai_ranker - INFO - ================================================================================

2025-12-11 15:22:20,208 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=83.41
2025-12-11 15:22:20,209 - app.services.ai_ranker - INFO - üìä Wataniya Insurance: Hakim Score=88.0 (Strong), Weighted Score=82.19
2025-12-11 15:22:20,209 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-11 15:22:20,211 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-11 15:22:31,341 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:31,345 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-11 15:22:31,346 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-11 15:22:31,347 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-11 15:22:36,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:22:36,135 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Liva Insurance: Liva Insurance stands out as the best recommended insurance provider due to its competitive premium ...
2025-12-11 15:22:36,138 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-11 15:22:36,141 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-11 15:22:36,142 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765466483_0ef572d80a53
2025-12-11 15:22:36,142 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 2
2025-12-11 15:22:36,143 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-11 15:22:36,145 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 2
2025-12-11 15:22:36,145 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Liva Insurance
2025-12-11 15:22:36,146 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:22:36,147 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:22:36,147 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:22:36,148 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:22:36,149 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:22:36,150 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:22:36,151 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Wataniya Insurance
2025-12-11 15:22:36,152 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:22:36,153 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:22:36,154 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:22:36,154 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:22:36,155 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:22:36,155 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:22:36,159 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-11 15:22:36,160 - app.services.mongodb_service_enhanced - INFO -    Summary: 3,420 bytes
2025-12-11 15:22:36,160 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 25,558 bytes
2025-12-11 15:22:36,161 - app.services.mongodb_service_enhanced - INFO -    Data table: 11,285 bytes
2025-12-11 15:22:36,162 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,448 bytes
2025-12-11 15:22:36,163 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 28,551 bytes
2025-12-11 15:22:36,163 - app.services.mongodb_service_enhanced - INFO -    Total document: 147,215 bytes
2025-12-11 15:22:36,163 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-11 15:22:36,164 - app.services.mongodb_service_enhanced - INFO -       premium: 2 items
2025-12-11 15:22:36,164 - app.services.mongodb_service_enhanced - INFO -       rate: 2 items
2025-12-11 15:22:36,165 - app.services.mongodb_service_enhanced - INFO -       score: 2 items
2025-12-11 15:22:36,165 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 2 items
2025-12-11 15:22:36,165 - app.services.mongodb_service_enhanced - INFO -       deductible: 2 items
2025-12-11 15:22:36,166 - app.services.mongodb_service_enhanced - INFO -       coverage: 2 items
2025-12-11 15:22:36,166 - app.services.mongodb_service_enhanced - INFO -       benefits: 2 items
2025-12-11 15:22:36,167 - app.services.mongodb_service_enhanced - INFO -       exclusions: 2 items
2025-12-11 15:22:36,167 - app.services.mongodb_service_enhanced - INFO -       warranties: 2 items
2025-12-11 15:22:36,168 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 2 items
2025-12-11 15:22:36,168 - app.services.mongodb_service_enhanced - INFO -       conditions: 2 items
2025-12-11 15:22:36,169 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 2 items
2025-12-11 15:22:36,170 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 2 items
2025-12-11 15:22:36,171 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 2 items
2025-12-11 15:22:36,171 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-11 15:22:36,171 - app.services.mongodb_service_enhanced - INFO -       - Count: 2
2025-12-11 15:22:36,172 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:22:36,173 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:22:36,173 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-11 15:22:36,179 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765466483_0ef572d80a53
2025-12-11 15:22:36,179 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 693ae1bc5a37704a1c0a83e9
2025-12-11 15:22:36,182 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-11 15:22:36,182 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-11 15:22:36,183 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-11 15:22:36,184 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-11 15:22:36,184 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-11 15:22:36,184 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-11 15:22:36,185 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-11 15:22:36,186 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 2
2025-12-11 15:22:36,187 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-11 15:22:36,187 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 2
2025-12-11 15:22:36,188 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-11 15:22:36,188 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 2
2025-12-11 15:22:36,189 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:22:36,189 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-11 15:22:36,189 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-11 15:22:36,190 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-11 15:22:36,190 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-11 15:22:36,190 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-11 15:22:36,190 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:22:36,191 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 693ae1bc5a37704a1c0a83e9
2025-12-11 15:22:36,191 - app.api.routes - INFO -    Database: hakemAI
2025-12-11 15:22:36,191 - app.api.routes - INFO -    Collection: comparisons
2025-12-11 15:22:36,191 - app.api.routes - INFO -    Comparison ID: cmp_1765466483_0ef572d80a53
2025-12-11 15:22:36,192 - app.api.routes - INFO -    User ID: 693adee9165b8c9e9592cf45
2025-12-11 15:22:36,192 - app.api.routes - INFO -    Company ID: None (individual account)
2025-12-11 15:22:36,197 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:36,197 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:36,197 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:22:36,198 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-11 15:22:36,198 - app.api.routes - INFO - ======================================================================
2025-12-11 15:22:36,198 - app.api.routes - INFO - üìä Comparison ID: cmp_1765466483_0ef572d80a53
2025-12-11 15:22:36,199 - app.api.routes - INFO - üë§ User ID: 693adee9165b8c9e9592cf45
2025-12-11 15:22:36,199 - app.api.routes - INFO - üìÑ Files Processed: 2/2
2025-12-11 15:22:36,200 - app.api.routes - INFO - üíæ Saved to MongoDB: 2 PDFs + 1 comparison
2025-12-11 15:22:36,200 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693adee9165b8c9e9592cf45
2025-12-11 15:22:36,201 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:22:36,202 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:22:36,208 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay7757@gmail.com)
2025-12-11 15:22:36,209 - app.api.routes - INFO - üìä Remaining comparisons: 249
2025-12-11 15:22:36,209 - app.api.routes - INFO - ======================================================================

2025-12-11 15:22:36,210 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_c5af6d217a64 ‚Üí comparison_id: cmp_1765466483_0ef572d80a53
2025-12-11 15:22:36,212 - main - INFO - üì§ POST /api/compare-quotes - 200 - 73.22s
2025-12-11 15:22:40,367 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:40,368 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,375 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:22:40,375 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,379 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:40,382 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:40,384 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,392 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:22:40,393 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,395 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:40,397 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:40,398 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,405 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:22:40,405 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,406 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:40,409 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:40,410 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:22:40,416 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:40,419 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:57,310 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:57,311 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,313 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:57,317 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:57,318 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,319 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:57,324 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:57,325 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,327 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:57,334 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:57,335 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,336 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:57,339 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:57,340 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,344 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:57,353 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:57,354 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,357 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:22:57,362 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:57,363 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,365 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:57,371 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:57,372 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:57,377 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:59,535 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:59,535 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:59,537 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:59,539 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:59,539 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:59,540 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:22:59,543 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:22:59,544 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:22:59,546 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:22:59,549 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:22:59,549 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:22:59,551 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:00,241 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:00,241 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:23:00,242 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:23:00,244 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:23:00,245 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:23:00,246 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:00,250 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:00,251 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:23:00,253 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:23:00,257 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:23:00,258 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:23:00,261 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:24,812 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:23:24,813 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:23:24,813 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:23:24,814 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:23:24,815 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:23:24,816 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:23:24,818 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:23:24,819 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:23:24,821 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:24,821 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,823 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:24,824 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:24,824 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,825 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:23:24,827 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:24,828 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,830 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:24,833 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:24,833 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,834 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:24,837 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:24,838 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,841 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:24,844 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:24,845 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,845 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:24,849 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:24,850 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,852 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:24,855 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:24,856 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:24,857 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:27,303 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:27,310 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:27,325 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:27,329 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:27,338 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:27,340 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-11 15:23:27,346 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:27,347 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:27,351 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:27,354 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:27,355 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:27,360 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:27,873 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:23:27,875 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:23:27,879 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:27,880 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:23:27,884 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:23:27,890 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:23:27,891 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:23:27,894 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:23:57,304 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:57,305 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:57,307 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:23:57,308 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:23:57,308 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:23:57,309 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:23:58,178 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:23:58,179 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:23:58,180 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:23:58,182 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:23:58,182 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:23:58,183 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:24:27,868 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:24:27,869 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:24:27,870 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:24:27,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:24:27,872 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:24:27,874 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:24:28,182 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:24:28,183 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:24:28,185 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:24:28,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:24:28,188 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:24:28,189 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:24:57,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:24:57,873 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:24:57,876 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:24:57,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:24:57,880 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:24:57,881 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:24:58,179 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:24:58,180 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:24:58,181 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:24:58,184 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:24:58,184 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:24:58,185 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:25:27,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:25:27,879 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:25:27,882 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:25:27,887 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:25:27,888 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:25:27,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:25:28,184 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:25:28,185 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:25:28,187 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:25:28,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:25:28,188 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:25:28,189 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:25:57,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:25:57,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:25:57,873 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:25:57,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:25:57,875 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:25:57,875 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:25:58,175 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:25:58,176 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:25:58,177 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:25:58,179 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:25:58,179 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:25:58,180 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:26:27,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:26:27,879 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:26:27,881 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:26:27,887 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:26:27,888 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:26:27,890 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:26:28,186 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:26:28,187 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:26:28,188 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:26:28,190 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:26:28,190 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:26:28,190 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:26:57,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:26:57,875 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:26:57,878 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:26:57,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:26:57,885 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:26:57,887 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:27:22,178 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:27:22,179 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:27:22,180 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:27:22,185 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:27:22,186 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:27:22,188 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:27:59,176 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:27:59,176 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:27:59,178 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:27:59,179 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:27:59,180 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:27:59,180 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:28:21,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:28:21,876 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:28:21,879 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:28:21,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:28:21,884 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:28:21,887 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:29:00,176 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:29:00,177 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:29:00,178 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:29:00,179 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:29:00,179 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:29:00,180 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:29:22,180 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:29:22,181 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:29:22,182 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:29:22,184 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:29:22,184 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:29:22,185 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:29:30,651 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-11 15:29:30,651 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-11 15:30:01,181 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:30:01,182 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:30:01,184 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:30:01,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:30:01,186 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:30:01,187 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:30:21,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:30:21,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:30:21,872 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e7 - will include shared comparisons
2025-12-11 15:30:21,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693adee9165b8c9e9592cf45 (company: 693ae1c8c824eca2e1dff9e7)
2025-12-11 15:30:21,874 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:30:21,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:30:27,309 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:30:27,310 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adf3f165b8c9e9592cf4a
2025-12-11 15:30:27,311 - app.api.routes - INFO - üè¢ User belongs to company: 693ae1c8c824eca2e1dff9e5 - will include shared comparisons
2025-12-11 15:30:27,312 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adf3f165b8c9e9592cf4a (company: 693ae1c8c824eca2e1dff9e5)
2025-12-11 15:30:27,312 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adf3f165b8c9e9592cf4a
2025-12-11 15:30:27,313 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:30:33,083 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:30:33,084 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693adee9165b8c9e9592cf45
2025-12-11 15:30:33,087 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693adee9165b8c9e9592cf45 (company: None)
2025-12-11 15:30:33,088 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693adee9165b8c9e9592cf45
2025-12-11 15:30:33,089 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:30:51,467 - main - INFO - 
2025-12-11 15:30:51,467 - main - INFO - ================================================================================
2025-12-11 15:30:51,468 - main - INFO -   üõë Shutting down application...
2025-12-11 15:30:51,469 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-11 15:30:51,469 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-11 15:30:51,471 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-11 15:30:51,471 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-11 15:30:51,473 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-11 15:30:51,473 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-11 15:30:51,475 - main - INFO -   ‚úÖ Cleaned up 2 temporary files
2025-12-11 15:30:51,476 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-11 15:30:51,477 - main - INFO - ================================================================================
2025-12-11 15:30:51,477 - main - INFO - 
2025-12-11 15:31:15,223 - main - INFO - 
2025-12-11 15:31:15,223 - main - INFO - ================================================================================
2025-12-11 15:31:15,223 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-11 15:31:15,224 - main - INFO -   Production-Ready Complete Integration
2025-12-11 15:31:15,224 - main - INFO - ================================================================================
2025-12-11 15:31:15,224 - main - INFO -   AI Model: gpt-4o-mini
2025-12-11 15:31:15,224 - main - INFO -   Upload Directory: uploads
2025-12-11 15:31:15,225 - main - INFO -   Max File Size: 20MB
2025-12-11 15:31:15,225 - main - INFO - ================================================================================
2025-12-11 15:31:15,225 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-11 15:31:15,226 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-11 15:31:15,226 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-11 15:31:15,273 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-11 15:31:15,348 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-11 15:31:15,348 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-11 15:31:15,348 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-11 15:31:15,348 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-11 15:31:15,349 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-11 15:31:15,369 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-11 15:31:15,370 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-11 15:31:15,372 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['individual_pdf_extractions', 'comparisons', 'companies', 'companyusers', 'users', 'admins']
2025-12-11 15:31:15,373 - app.services.user_subscription_service - INFO - üìä Users collection has 0 documents
2025-12-11 15:31:15,373 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-11 15:31:15,374 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-11 15:31:15,374 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-11 15:31:15,374 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-11 15:31:15,401 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-11 15:31:15,402 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-11 15:31:15,402 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-11 15:31:15,402 - main - INFO - 
2025-12-11 15:31:15,402 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-11 15:31:15,402 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-11 15:31:15,403 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-11 15:31:15,403 - main - INFO -        - Separates warranties from extensions
2025-12-11 15:31:15,403 - main - INFO -        - Extracts subjectivities & operational details
2025-12-11 15:31:15,403 - main - INFO -        - Correct deductible tier detection
2025-12-11 15:31:15,404 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-11 15:31:15,404 - main - INFO - 
2025-12-11 15:31:15,404 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-11 15:31:15,404 - main - INFO -        - Generates ALL sections comprehensively
2025-12-11 15:31:15,404 - main - INFO -        - Identifies unique items per provider
2025-12-11 15:31:15,405 - main - INFO -        - Transparent scoring methodology
2025-12-11 15:31:15,405 - main - INFO -        - Uses full _extended_data from parser
2025-12-11 15:31:15,406 - main - INFO - 
2025-12-11 15:31:15,406 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-11 15:31:15,406 - main - INFO -        - Single endpoint auto-populates everything
2025-12-11 15:31:15,407 - main - INFO -        - No manual section generation
2025-12-11 15:31:15,407 - main - INFO -        - Complete MongoDB integration
2025-12-11 15:31:15,407 - main - INFO - 
2025-12-11 15:31:15,407 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-11 15:31:15,407 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-11 15:31:15,408 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-11 15:31:15,408 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-11 15:31:15,408 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-11 15:31:15,408 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-11 15:31:15,408 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-11 15:31:15,408 - main - INFO - 
2025-12-11 15:31:15,408 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-11 15:31:15,409 - main - INFO -      Main:
2025-12-11 15:31:15,409 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-11 15:31:15,409 - main - INFO - 
2025-12-11 15:31:15,409 - main - INFO -      Retrieval:
2025-12-11 15:31:15,409 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-11 15:31:15,409 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-11 15:31:15,410 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-11 15:31:15,410 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-11 15:31:15,410 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-11 15:31:15,410 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-11 15:31:15,410 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-11 15:31:15,410 - main - INFO - 
2025-12-11 15:31:15,410 - main - INFO -      Management:
2025-12-11 15:31:15,411 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-11 15:31:15,411 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-11 15:31:15,411 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-11 15:31:15,411 - main - INFO - 
2025-12-11 15:31:15,411 - main - INFO -      Documents (MongoDB):
2025-12-11 15:31:15,411 - main - INFO -        GET  /api/documents                All documents
2025-12-11 15:31:15,411 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-11 15:31:15,412 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-11 15:31:15,412 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-11 15:31:15,412 - main - INFO - 
2025-12-11 15:31:15,412 - main - INFO -      Diagnostics & Health:
2025-12-11 15:31:15,412 - main - INFO -        GET  /api/health                   System health
2025-12-11 15:31:15,412 - main - INFO -        GET  /api/status                   Detailed status
2025-12-11 15:31:15,412 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-11 15:31:15,413 - main - INFO - 
2025-12-11 15:31:15,413 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-11 15:31:15,413 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-11 15:31:15,413 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-11 15:31:15,413 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-11 15:31:15,413 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-11 15:31:15,414 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-11 15:31:15,414 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-11 15:31:15,414 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-11 15:31:15,414 - main - INFO - 
2025-12-11 15:31:15,414 - main - INFO -   üéØ WORKFLOW:
2025-12-11 15:31:15,414 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-11 15:31:15,414 - main - INFO -      2. Receive comparison_id + complete data
2025-12-11 15:31:15,415 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-11 15:31:15,415 - main - INFO -      4. No re-upload needed!
2025-12-11 15:31:15,415 - main - INFO - 
2025-12-11 15:31:15,415 - main - INFO - ================================================================================
2025-12-11 15:31:15,415 - main - INFO -   ‚úÖ Application started successfully!
2025-12-11 15:31:15,415 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-11 15:31:15,416 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-11 15:31:15,416 - main - INFO - ================================================================================
2025-12-11 15:31:15,416 - main - INFO - 
2025-12-11 15:31:15,416 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-11 15:34:19,997 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:34:20,000 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:34:20,002 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:34:20,002 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:34:20,004 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,006 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,008 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,009 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,012 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:20,014 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,018 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:20,019 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,020 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,023 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:20,024 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,031 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:20,032 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,032 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,036 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:20,037 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,044 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:20,045 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,045 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:20,048 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:20,050 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,055 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:20,056 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:20,057 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:47,177 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:47,177 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:47,181 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:47,182 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:47,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:47,192 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:34:47,193 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:47,197 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:34:47,198 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:47,200 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:34:54,318 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-11 15:34:54,320 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-11 15:34:54,327 - main - INFO - üì• POST /api/compare-quotes
2025-12-11 15:34:54,340 - app.api.routes - INFO - üîç Checking user subscription for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:54,340 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:34:54,341 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:34:54,341 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:34:54,344 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay7757@gmail.com)
2025-12-11 15:34:54,346 - app.api.routes - INFO - ‚úÖ User 693ae3e3b0b7c8651ba26e0e can perform comparison
2025-12-11 15:34:54,347 - app.api.routes - INFO -    - Remaining comparisons: 250
2025-12-11 15:34:54,347 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-11 15:34:54,347 - app.api.routes - INFO -    - Files uploaded: 2
2025-12-11 15:34:54,348 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765467294_6332fe54e27f
2025-12-11 15:34:54,348 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_e858f3f25151 (2 files)
2025-12-11 15:34:54,349 - app.api.routes - INFO - üìä Initialized progress tracking: job_e858f3f25151
2025-12-11 15:34:54,351 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:34:54,351 - app.api.routes - INFO - üìÑ Processing: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:34:54,352 - app.api.routes - INFO - ======================================================================
2025-12-11 15:34:54,354 - app.api.routes - INFO - üíæ Saved file: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 7f1fa29b89ea45c8bc81ef4f064eabd2.pdf (309991 bytes)
2025-12-11 15:34:54,355 - app.api.routes - INFO - üìñ Extracting text from: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:34:54,357 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\7f1fa29b89ea45c8bc81ef4f064eabd2.pdf
2025-12-11 15:34:54,357 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:34:54,358 - app.api.routes - INFO - üìÑ Processing: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:34:54,393 - app.api.routes - INFO - ======================================================================
2025-12-11 15:34:54,427 - app.api.routes - INFO - üíæ Saved file: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí be3ab78bd6964b25b60afc13f908b5ac.pdf (290798 bytes)
2025-12-11 15:34:54,432 - app.services.pdf_extractor - INFO - Successfully extracted 12679 characters from 5 pages
2025-12-11 15:34:54,432 - app.api.routes - INFO - üìñ Extracting text from: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:34:54,433 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\be3ab78bd6964b25b60afc13f908b5ac.pdf
2025-12-11 15:34:54,434 - app.api.routes - INFO - ü§ñ Parsing with AI: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:34:54,434 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:34:54,485 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Wataniya Insurance
2025-12-11 15:34:54,505 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Wataniya Insurance
2025-12-11 15:34:54,506 - app.services.pdf_extractor - INFO - Successfully extracted 15546 characters from 7 pages
2025-12-11 15:34:54,506 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:34:54,507 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:34:54,507 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-11 15:34:54,587 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-11 15:34:54,588 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:34:55,165 - app.api.routes - INFO - ü§ñ Parsing with AI: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:34:55,165 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:34:55,167 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-11 15:34:55,169 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-11 15:34:55,170 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-11 15:34:55,170 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:34:55,171 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-11 15:34:55,172 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Format/Company mismatch: Format=LIVA, Company=Al Rajhi Takaful
2025-12-11 15:34:55,172 - app.services.ai_parser - INFO - üîß Overriding company name to: Liva Insurance (based on document format)
2025-12-11 15:34:55,260 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-11 15:34:55,260 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:35:42,701 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:35:42,713 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:35:42,713 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:35:42,714 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:35:42,714 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-11 15:35:42,719 - app.services.ai_parser - INFO - üìã Fallback extracted 20 benefits from patterns
2025-12-11 15:35:42,720 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 25 total
2025-12-11 15:35:42,721 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:35:56,936 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:35:56,942 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:35:56,943 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:35:56,944 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:35:56,945 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-11 15:35:56,955 - app.services.ai_parser - INFO - üìã Fallback extracted 37 benefits from patterns
2025-12-11 15:35:56,956 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 34 total
2025-12-11 15:35:56,957 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:35:57,621 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:35:57,627 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:35:57,627 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:35:57,627 - app.services.ai_parser - INFO - üîÑ Rate: '1.00‚Ä∞' ‚Üí '1.00‚Ä∞'
2025-12-11 15:35:57,628 - app.services.ai_parser - INFO - üí∞ Calculated: 365000.00 from SI: 365000000.0 √ó Rate: 1.00‚Ä∞
2025-12-11 15:35:57,628 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil for Bodily injury | Nat Cat: 1% of the claim amount subject to a minimum of SAR 1,000,000
2025-12-11 15:35:57,628 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:35:57,629 - app.services.ai_parser - INFO - üìä Counts: 25 benefits, 27 exclusions, 5 warranties, 21 extensions
2025-12-11 15:36:00,617 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:36:00,620 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:36:00,620 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:36:00,621 - app.services.ai_parser - INFO - üîÑ Rate: '0.95%o on total sum insured of SAR 350,328,000/-' ‚Üí '0.95‚Ä∞'
2025-12-11 15:36:00,621 - app.services.ai_parser - INFO - üí∞ Calculated: 332811.60 from SI: 350328000.0 √ó Rate: 0.95%o on total sum insured of SAR 350,328,000/-
2025-12-11 15:36:00,621 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the loss amount minimum SAR 1,000,000
2025-12-11 15:36:00,622 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:36:00,623 - app.services.ai_parser - INFO - üìä Counts: 34 benefits, 42 exclusions, 6 warranties, 0 extensions
2025-12-11 15:36:04,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:36:04,510 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-11 15:36:04,511 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:36:04,511 - app.services.ai_parser - INFO - 
2025-12-11 15:36:04,512 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:04,512 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:36:04,512 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:04,513 - app.services.ai_parser - INFO - üè¢ Insurer: Wataniya Insurance
2025-12-11 15:36:04,513 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:36:04,514 - app.services.ai_parser - INFO - üí∞ Premium: SAR 365,000.00
2025-12-11 15:36:04,514 - app.services.ai_parser - INFO - üìä Rate: 1.00‚Ä∞
2025-12-11 15:36:04,515 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-11 15:36:04,516 - app.services.ai_parser - INFO - üìè Quality: 99.0/100
2025-12-11 15:36:04,517 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil for Bodily injury | Nat Cat: 1% of the claim amount subject to a minimum of SAR 1,000,000
2025-12-11 15:36:04,518 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:36:04,519 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-11 15:36:04,519 - app.services.ai_parser - INFO - 
2025-12-11 15:36:04,520 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:36:04,520 - app.services.ai_parser - INFO -    ‚úì Benefits: 25
2025-12-11 15:36:04,520 - app.services.ai_parser - INFO -    ‚úì Exclusions: 27
2025-12-11 15:36:04,521 - app.services.ai_parser - INFO -    ‚úì Warranties: 5
2025-12-11 15:36:04,521 - app.services.ai_parser - INFO -    ‚úì Extensions: 21
2025-12-11 15:36:04,521 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-11 15:36:04,521 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:04,527 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 7f1fa29b89ea45c8bc81ef4f064eabd2.pdf ‚Üí 693ae4e455401143c2ea103b
2025-12-11 15:36:04,527 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae4e455401143c2ea103b
2025-12-11 15:36:04,555 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae4e455401143c2ea103c (309991 bytes)
2025-12-11 15:36:04,555 - app.api.routes - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae4e455401143c2ea103c
2025-12-11 15:36:04,555 - app.api.routes - INFO - ‚úÖ Successfully processed: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:36:05,741 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:36:05,743 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-11 15:36:05,743 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:36:05,743 - app.services.ai_parser - INFO - 
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-11 15:36:05,744 - app.services.ai_parser - INFO - üí∞ Premium: SAR 322,811.60
2025-12-11 15:36:05,745 - app.services.ai_parser - INFO - üìä Rate: 0.95‚Ä∞
2025-12-11 15:36:05,745 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-11 15:36:05,745 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-11 15:36:05,745 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the loss amount minimum SAR 1,000,000
2025-12-11 15:36:05,745 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO - üíº Brokerage: N/A
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO - 
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO -    ‚úì Benefits: 34
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO -    ‚úì Exclusions: 42
2025-12-11 15:36:05,746 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-11 15:36:05,747 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-11 15:36:05,747 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 0
2025-12-11 15:36:05,747 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:36:05,750 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: be3ab78bd6964b25b60afc13f908b5ac.pdf ‚Üí 693ae4e555401143c2ea103d
2025-12-11 15:36:05,751 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae4e555401143c2ea103d
2025-12-11 15:36:05,754 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae4e555401143c2ea103e (290798 bytes)
2025-12-11 15:36:05,755 - app.api.routes - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae4e555401143c2ea103e
2025-12-11 15:36:05,755 - app.api.routes - INFO - ‚úÖ Successfully processed: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:36:05,756 - app.api.routes - INFO - 
‚úÖ Successfully extracted 2 quotes
2025-12-11 15:36:05,757 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:36:05,758 - app.api.routes - INFO - üîÄ Generating comparison for 2 quotes
2025-12-11 15:36:05,758 - app.api.routes - INFO - ======================================================================
2025-12-11 15:36:05,758 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 2 quotes
2025-12-11 15:36:05,759 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-11 15:36:05,759 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-11 15:36:05,760 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:36:05,760 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-11 15:36:05,760 - app.services.ai_ranker - INFO - ================================================================================
2025-12-11 15:36:05,760 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:36:05,761 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Wataniya Insurance
2025-12-11 15:36:05,761 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:36:05,761 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:36:05,762 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:36:05,762 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:36:05,762 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:36:05,763 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-11 15:36:05,763 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:36:05,763 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:36:05,763 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:36:05,763 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:36:05,764 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 365,000,000.00",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 365000000,
    "total_sum_insured": "SAR 365,000,000.00"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "N/A",
        "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "N/A",
        "deductible": "Nil for Bodily injury",
        "applies_to": "business_interruption"
      }
    ],
    "natural_catastrophe_tiers": [
      {
        "range": "N/A",
        "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000"
      }
    ],
    "applicable_md_tier": {
      "range": "N/A",
      "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
    
2025-12-11 15:36:05,769 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:36:05,770 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-11 15:36:05,771 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-11 15:36:05,772 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:36:05,773 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:36:05,773 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:36:05,774 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:36:05,774 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:36:05,774 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:36:05,774 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:36:05,775 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:36:05,775 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:36:05,775 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:36:05,776 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:36:05,776 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:36:05,776 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:36:05,777 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-11 15:36:05,777 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:36:05,779 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Wataniya Insurance
2025-12-11 15:36:05,779 - app.services.ai_ranker - INFO - 
üìä Wataniya Insurance:
2025-12-11 15:36:05,780 - app.services.ai_ranker - INFO -    Warranties: 5
2025-12-11 15:36:05,780 - app.services.ai_ranker - INFO -    Extensions: 21
2025-12-11 15:36:05,780 - app.services.ai_ranker - INFO -    Exclusions: 27
2025-12-11 15:36:05,781 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-11 15:36:05,782 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:36:05,783 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-11 15:36:05,784 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:36:05,785 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:36:05,785 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:36:05,786 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:36:05,786 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:36:05,786 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': [], 'conditions_precedent': ['No deterioration in loss record'], 'documentation_required': []}
2025-12-11 15:36:05,786 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:36:05,787 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:36:05,787 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:36:05,787 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:36:05,788 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 350328000,
    "total_sum_insured": "SAR 350,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1% of the loss amount minimum SAR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "Other losses",
        "deductible": "1% of the loss amount minimum SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "NATCAT",
      "deductible": "1% of the loss amount minimum SAR 1,000,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_
2025-12-11 15:36:05,792 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'binding_requirements': []
2025-12-11 15:36:05,792 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'conditions_precedent': ['No deterioration in loss record']
2025-12-11 15:36:05,792 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'documentation_required': []
2025-12-11 15:36:05,793 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:36:05,793 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:36:05,793 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:36:05,794 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:36:05,794 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:36:05,794 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:36:05,795 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:36:05,796 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:36:05,797 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:36:05,798 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:36:05,800 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:36:05,801 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:36:05,801 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:36:05,802 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 1
2025-12-11 15:36:05,803 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['No deterioration in loss record']
2025-12-11 15:36:05,803 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 1 subjectivities for Liva Insurance
2025-12-11 15:36:05,803 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-11 15:36:05,804 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-11 15:36:05,804 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-11 15:36:05,805 - app.services.ai_ranker - INFO -    Exclusions: 42
2025-12-11 15:36:05,805 - app.services.ai_ranker - INFO -    Subjectivities: 1
2025-12-11 15:36:05,805 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Wataniya Insurance
2025-12-11 15:36:06,032 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-11 15:36:06,033 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 10
2025-12-11 15:36:06,034 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:36:06,035 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 10
2025-12-11 15:36:06,035 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:36:06,036 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted no known or reported losses for the last five years & latest 5 project...
2025-12-11 15:36:06,036 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that Reasonable Precautions to be taken during the project period
2025-12-11 15:36:06,036 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-11 15:36:06,289 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 5
2025-12-11 15:36:06,290 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-11 15:36:06,291 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:36:06,291 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-11 15:36:06,291 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:36:06,292 - app.services.ai_ranker - INFO -       ‚Ä¢ Hot works Warranty
2025-12-11 15:36:06,292 - app.services.ai_ranker - INFO -       ‚Ä¢ House Keeping Warranty
2025-12-11 15:36:06,292 - app.services.ai_ranker - INFO -       ‚Ä¢ No smoking Warranty
2025-12-11 15:36:06,292 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:36:06,293 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-11 15:36:06,293 - app.services.ai_ranker - INFO - ================================================================================

2025-12-11 15:36:06,293 - app.services.ai_ranker - INFO - üìä Wataniya Insurance: Hakim Score=88.0 (Strong), Weighted Score=82.72
2025-12-11 15:36:06,294 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=81.91
2025-12-11 15:36:06,294 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-11 15:36:06,294 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-11 15:36:16,345 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:36:16,353 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-11 15:36:16,353 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-11 15:36:16,354 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-11 15:36:21,099 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:36:21,101 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Wataniya Insurance: Wataniya Insurance stands out as the best recommended provider due to its superior score of 82.7/100...
2025-12-11 15:36:21,102 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-11 15:36:21,103 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-11 15:36:21,104 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765467294_6332fe54e27f
2025-12-11 15:36:21,104 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 2
2025-12-11 15:36:21,104 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-11 15:36:21,104 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 2
2025-12-11 15:36:21,104 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Wataniya Insurance
2025-12-11 15:36:21,105 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:36:21,105 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:36:21,106 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:36:21,107 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:36:21,107 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:36:21,108 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:36:21,108 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Liva Insurance
2025-12-11 15:36:21,108 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:36:21,108 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:36:21,109 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:36:21,109 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:36:21,109 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:36:21,109 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:36:21,111 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-11 15:36:21,111 - app.services.mongodb_service_enhanced - INFO -    Summary: 3,438 bytes
2025-12-11 15:36:21,112 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 27,329 bytes
2025-12-11 15:36:21,112 - app.services.mongodb_service_enhanced - INFO -    Data table: 12,446 bytes
2025-12-11 15:36:21,112 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,452 bytes
2025-12-11 15:36:21,112 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 33,884 bytes
2025-12-11 15:36:21,112 - app.services.mongodb_service_enhanced - INFO -    Total document: 163,903 bytes
2025-12-11 15:36:21,113 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-11 15:36:21,113 - app.services.mongodb_service_enhanced - INFO -       premium: 2 items
2025-12-11 15:36:21,113 - app.services.mongodb_service_enhanced - INFO -       rate: 2 items
2025-12-11 15:36:21,113 - app.services.mongodb_service_enhanced - INFO -       score: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       deductible: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       coverage: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       benefits: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       exclusions: 2 items
2025-12-11 15:36:21,114 - app.services.mongodb_service_enhanced - INFO -       warranties: 2 items
2025-12-11 15:36:21,115 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 2 items
2025-12-11 15:36:21,115 - app.services.mongodb_service_enhanced - INFO -       conditions: 2 items
2025-12-11 15:36:21,116 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 2 items
2025-12-11 15:36:21,117 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 2 items
2025-12-11 15:36:21,118 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 2 items
2025-12-11 15:36:21,118 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-11 15:36:21,119 - app.services.mongodb_service_enhanced - INFO -       - Count: 2
2025-12-11 15:36:21,119 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:36:21,119 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:36:21,120 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-11 15:36:21,125 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765467294_6332fe54e27f
2025-12-11 15:36:21,126 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 693ae4f55a37704a1c0a83ea
2025-12-11 15:36:21,132 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-11 15:36:21,133 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-11 15:36:21,135 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-11 15:36:21,135 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-11 15:36:21,135 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-11 15:36:21,136 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-11 15:36:21,136 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-11 15:36:21,136 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 2
2025-12-11 15:36:21,136 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-11 15:36:21,137 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 2
2025-12-11 15:36:21,137 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-11 15:36:21,137 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 2
2025-12-11 15:36:21,138 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:36:21,140 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-11 15:36:21,141 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-11 15:36:21,142 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-11 15:36:21,143 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-11 15:36:21,144 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-11 15:36:21,144 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:36:21,145 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 693ae4f55a37704a1c0a83ea
2025-12-11 15:36:21,145 - app.api.routes - INFO -    Database: hakemAI
2025-12-11 15:36:21,146 - app.api.routes - INFO -    Collection: comparisons
2025-12-11 15:36:21,147 - app.api.routes - INFO -    Comparison ID: cmp_1765467294_6332fe54e27f
2025-12-11 15:36:21,148 - app.api.routes - INFO -    User ID: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,149 - app.api.routes - INFO -    Company ID: None (individual account)
2025-12-11 15:36:21,154 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,155 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,155 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:36:21,155 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-11 15:36:21,156 - app.api.routes - INFO - ======================================================================
2025-12-11 15:36:21,156 - app.api.routes - INFO - üìä Comparison ID: cmp_1765467294_6332fe54e27f
2025-12-11 15:36:21,157 - app.api.routes - INFO - üë§ User ID: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,158 - app.api.routes - INFO - üìÑ Files Processed: 2/2
2025-12-11 15:36:21,158 - app.api.routes - INFO - üíæ Saved to MongoDB: 2 PDFs + 1 comparison
2025-12-11 15:36:21,159 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,159 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:36:21,160 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:36:21,161 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay7757@gmail.com)
2025-12-11 15:36:21,163 - app.api.routes - INFO - üìä Remaining comparisons: 249
2025-12-11 15:36:21,163 - app.api.routes - INFO - ======================================================================

2025-12-11 15:36:21,163 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_e858f3f25151 ‚Üí comparison_id: cmp_1765467294_6332fe54e27f
2025-12-11 15:36:21,166 - main - INFO - üì§ POST /api/compare-quotes - 200 - 86.84s
2025-12-11 15:36:21,418 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:21,420 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,424 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:21,424 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:21,428 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:21,429 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,434 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:21,434 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,437 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:21,445 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:21,446 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,454 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:21,456 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,464 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:36:21,472 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:21,475 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,488 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:21,492 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:21,499 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:36:23,423 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:23,424 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:23,426 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:23,427 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:23,428 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:23,431 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:23,432 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:23,436 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: None)
2025-12-11 15:36:23,438 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:36:23,439 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,710 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:36:49,712 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:36:49,713 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:36:49,714 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:36:49,716 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,719 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,722 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,724 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,727 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:49,728 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,731 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:49,734 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:49,734 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,736 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,741 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:49,744 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,746 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:49,748 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:49,749 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,750 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,753 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:49,755 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,761 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:49,764 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:49,766 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,767 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:49,770 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:49,773 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,780 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:49,783 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:49,786 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:49,792 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:36:54,279 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:54,280 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:54,283 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:54,288 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:54,289 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:54,291 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:54,294 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:54,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:54,299 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:54,304 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:54,307 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:54,309 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:55,530 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:55,531 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:55,534 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:55,537 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:55,537 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:55,538 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:55,544 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:55,545 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:55,548 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:55,553 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:55,554 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:55,558 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:56,460 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:56,461 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:56,464 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:56,467 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:56,468 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:56,473 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:56,476 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:56,478 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:56,480 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:56,483 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:56,483 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:56,486 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:57,240 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:57,242 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:57,244 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:57,246 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:57,247 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:57,247 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:57,252 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:57,257 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:57,261 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:57,264 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:57,266 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:57,278 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:36:58,096 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:58,097 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,102 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:58,106 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:58,111 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,120 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:36:58,132 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:58,134 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,140 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:58,148 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:58,148 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,149 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:36:58,885 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:58,886 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,889 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:58,892 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:58,893 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,894 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:58,898 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:58,901 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,905 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:58,912 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:58,915 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:58,918 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:36:59,710 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:59,711 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:59,713 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:59,716 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:59,717 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:59,718 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:36:59,721 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:36:59,724 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:36:59,727 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:36:59,729 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:36:59,730 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:36:59,731 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:15,572 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:15,573 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,581 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:15,586 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:15,587 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,589 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:37:15,594 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:15,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,604 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:15,607 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:15,608 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,612 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:37:15,619 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:15,621 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,629 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:15,639 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:15,640 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,647 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:37:15,653 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:15,654 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,657 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:15,662 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:15,663 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:15,667 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:17,016 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:17,018 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:17,025 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:17,029 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:17,029 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:17,034 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:37:17,052 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:17,054 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:17,056 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:17,060 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:17,061 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:17,063 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:26,047 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:26,049 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:26,053 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:26,057 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:26,058 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:26,060 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:26,066 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:26,068 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:26,072 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:26,077 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:26,078 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:26,079 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:27,323 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:27,324 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:27,327 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:27,329 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:27,330 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:27,331 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:27,342 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:27,344 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:27,356 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:27,360 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:27,364 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:27,367 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:37:30,813 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-11 15:37:30,817 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-11 15:37:30,817 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-11 15:37:30,819 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-11 15:37:30,822 - main - INFO - üì• GET /api/my-documents
2025-12-11 15:37:30,824 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:30,825 - main - INFO - üì§ GET /api/my-documents - 200 - 0.00s
2025-12-11 15:37:30,828 - main - INFO - üì• GET /api/my-documents
2025-12-11 15:37:30,831 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:30,834 - main - INFO - üì§ GET /api/my-documents - 200 - 0.01s
2025-12-11 15:37:33,093 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:33,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,096 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:33,099 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:33,103 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,105 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:33,109 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:33,111 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,117 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:33,120 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:33,121 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,122 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:33,135 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:33,136 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,139 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:33,144 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:33,146 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,150 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:33,156 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:33,159 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,168 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e6e - will include shared comparisons
2025-12-11 15:37:33,172 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae4fcb0b7c8651ba26e6e)
2025-12-11 15:37:33,177 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:33,187 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:37:36,049 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:36,050 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,052 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:37:36,054 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:37:36,055 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,055 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:36,058 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:36,061 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,064 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:37:36,067 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:37:36,068 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,069 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:37:36,075 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:36,078 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,084 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:37:36,087 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:37:36,090 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,091 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:37:36,098 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:36,099 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,105 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:37:36,110 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:37:36,112 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:37:36,114 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:37:48,190 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:37:48,192 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:48,193 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:37:48,195 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:37:48,196 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:37:48,197 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:38:07,184 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:07,186 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:07,189 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:07,191 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:07,192 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:07,193 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:38:17,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:17,874 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:38:17,875 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:38:17,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:38:17,877 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:38:17,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:38:30,637 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:30,639 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,642 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:30,645 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:30,652 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,663 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:38:30,673 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:30,675 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,681 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:30,687 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:30,687 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,688 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:38:30,699 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:30,703 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,707 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:30,710 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:30,712 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,714 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:38:30,723 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:30,724 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,729 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:30,734 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:30,737 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:30,738 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:38:35,239 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:35,258 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:35,264 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:35,269 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:35,271 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:35,272 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:38:35,275 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:35,279 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:35,296 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:35,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:35,307 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:35,313 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-11 15:38:36,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:36,871 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:38:36,872 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:38:36,873 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:38:36,874 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:38:36,874 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:38:48,180 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:38:48,180 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:38:48,182 - app.api.routes - INFO - üè¢ User belongs to company: 693ae4fcb0b7c8651ba26e70 - will include shared comparisons
2025-12-11 15:38:48,184 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e (company: 693ae4fcb0b7c8651ba26e70)
2025-12-11 15:38:48,184 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae3e3b0b7c8651ba26e0e
2025-12-11 15:38:48,185 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:02,908 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:39:02,917 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:39:02,923 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:39:02,924 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:39:02,928 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:39:02,929 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:39:02,931 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:39:02,932 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:39:02,936 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:02,937 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,941 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:02,946 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:02,946 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,947 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:02,949 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:02,951 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,953 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:02,956 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:02,957 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,960 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:02,962 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:02,963 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,964 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:02,967 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:02,967 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,968 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:02,970 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:02,971 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,976 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:02,978 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:02,978 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:02,979 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:06,876 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:06,876 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:06,877 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:06,878 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:06,879 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:06,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:39:13,318 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:13,318 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:13,320 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:13,321 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:13,321 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:13,321 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:39:13,988 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:13,990 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:13,993 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:13,995 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:13,996 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:13,997 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:14,008 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:14,009 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:14,012 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:14,023 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:14,024 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:14,025 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:39:17,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:17,874 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:17,875 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:17,876 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:17,876 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:17,877 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:39:37,175 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:37,176 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:37,179 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:37,182 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:37,183 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:37,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:39:44,866 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:44,867 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:44,868 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:44,869 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:44,869 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:44,869 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:39:47,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:39:47,879 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:39:47,882 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:39:47,885 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:39:47,886 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:39:47,887 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:06,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:06,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:06,874 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:06,876 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:06,876 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:06,877 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:15,176 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:15,176 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:15,177 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:15,179 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:15,179 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:15,180 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:40:17,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:17,878 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:17,880 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:17,882 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:17,882 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:17,883 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:37,173 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:37,173 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:37,175 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:37,176 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:37,176 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:37,176 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:40:44,862 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:44,863 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:44,864 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:44,865 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:44,866 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:44,866 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:40:47,865 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:47,866 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:47,868 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:47,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:47,872 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:47,873 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:52,756 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:52,757 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:52,762 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:52,766 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:52,771 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:52,773 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:40:52,779 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:52,781 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:52,786 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:52,793 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:52,794 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:52,795 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:40:53,290 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:53,291 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,293 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:53,296 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:53,297 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,298 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:53,309 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:53,310 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,313 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:53,318 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:53,321 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,324 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:40:53,362 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:53,366 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,374 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:53,378 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:53,392 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,410 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-11 15:40:53,439 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:40:53,445 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,449 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:40:53,460 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:40:53,461 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:40:53,462 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:41:22,862 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:22,862 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:22,864 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:22,866 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:22,867 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:22,868 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:41:23,875 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:23,876 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:23,878 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:23,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:23,879 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:23,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:41:23,882 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:23,885 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:23,888 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:23,890 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:23,891 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:23,891 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:41:45,714 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:45,717 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:45,727 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:45,731 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:45,736 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:45,737 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:41:45,742 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:45,744 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:45,746 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:45,751 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:45,752 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:45,753 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:41:46,015 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:46,018 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,021 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:46,026 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:46,027 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,027 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:41:46,031 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:46,033 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,036 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:46,041 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:46,042 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,043 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:41:46,412 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:46,421 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,425 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:46,431 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:46,434 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,436 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:41:46,441 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:41:46,442 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,445 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:41:46,448 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:41:46,450 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:41:46,453 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:42:15,872 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:15,873 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:15,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:15,874 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:15,875 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:15,876 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:15,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:15,877 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:15,878 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:42:15,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:15,880 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:15,880 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:42:16,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:16,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:16,874 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:16,875 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:16,876 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:16,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:42:45,877 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:45,878 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:45,880 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:45,881 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:45,882 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:45,884 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:42:46,187 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:46,188 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:46,189 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:46,191 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:46,191 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:46,191 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:42:46,877 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:42:46,877 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:42:46,879 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:42:46,880 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:42:46,880 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:42:46,881 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:43:15,873 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:15,875 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:15,878 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:15,881 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:15,881 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:15,883 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:43:16,180 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:16,181 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:16,182 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:16,183 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:16,183 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:16,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:43:16,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:16,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:16,873 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:16,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:16,877 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:16,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:43:45,733 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:45,735 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:45,738 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:45,741 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:45,741 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:45,742 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:43:45,888 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:45,889 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:45,891 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:45,892 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:45,893 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:45,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:43:46,874 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:43:46,875 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:43:46,876 - app.api.routes - INFO - üè¢ User belongs to company: 693ae53eb0b7c8651ba26ec8 - will include shared comparisons
2025-12-11 15:43:46,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: 693ae53eb0b7c8651ba26ec8)
2025-12-11 15:43:46,878 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:43:46,878 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:44:08,969 - main - INFO - 
2025-12-11 15:44:08,969 - main - INFO - ================================================================================
2025-12-11 15:44:08,969 - main - INFO -   üõë Shutting down application...
2025-12-11 15:44:08,970 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-11 15:44:08,971 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-11 15:44:08,972 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-11 15:44:08,972 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-11 15:44:08,973 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-11 15:44:08,973 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-11 15:44:08,974 - main - INFO -   ‚úÖ Cleaned up 2 temporary files
2025-12-11 15:44:08,975 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-11 15:44:08,975 - main - INFO - ================================================================================
2025-12-11 15:44:08,975 - main - INFO - 
2025-12-11 15:44:42,589 - main - INFO - 
2025-12-11 15:44:42,590 - main - INFO - ================================================================================
2025-12-11 15:44:42,590 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-11 15:44:42,590 - main - INFO -   Production-Ready Complete Integration
2025-12-11 15:44:42,590 - main - INFO - ================================================================================
2025-12-11 15:44:42,591 - main - INFO -   AI Model: gpt-4o-mini
2025-12-11 15:44:42,591 - main - INFO -   Upload Directory: uploads
2025-12-11 15:44:42,591 - main - INFO -   Max File Size: 20MB
2025-12-11 15:44:42,592 - main - INFO - ================================================================================
2025-12-11 15:44:42,592 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-11 15:44:42,592 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-11 15:44:42,593 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-11 15:44:42,612 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-11 15:44:42,685 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-11 15:44:42,686 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-11 15:44:42,686 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-11 15:44:42,686 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-11 15:44:42,686 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-11 15:44:42,711 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-11 15:44:42,712 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-11 15:44:42,713 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['comparisons', 'individual_pdf_extractions']
2025-12-11 15:44:42,713 - app.services.user_subscription_service - WARNING - ‚ö†Ô∏è  'users' collection not found in database 'hakemAI'
2025-12-11 15:44:42,713 - app.services.user_subscription_service - WARNING -    Available collections: ['comparisons', 'individual_pdf_extractions']
2025-12-11 15:44:42,714 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-11 15:44:42,714 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-11 15:44:42,714 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-11 15:44:42,714 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-11 15:44:42,757 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-11 15:44:42,757 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-11 15:44:42,758 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-11 15:44:42,758 - main - INFO - 
2025-12-11 15:44:42,758 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-11 15:44:42,758 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-11 15:44:42,758 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-11 15:44:42,759 - main - INFO -        - Separates warranties from extensions
2025-12-11 15:44:42,759 - main - INFO -        - Extracts subjectivities & operational details
2025-12-11 15:44:42,759 - main - INFO -        - Correct deductible tier detection
2025-12-11 15:44:42,759 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-11 15:44:42,759 - main - INFO - 
2025-12-11 15:44:42,760 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-11 15:44:42,760 - main - INFO -        - Generates ALL sections comprehensively
2025-12-11 15:44:42,760 - main - INFO -        - Identifies unique items per provider
2025-12-11 15:44:42,760 - main - INFO -        - Transparent scoring methodology
2025-12-11 15:44:42,760 - main - INFO -        - Uses full _extended_data from parser
2025-12-11 15:44:42,760 - main - INFO - 
2025-12-11 15:44:42,761 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-11 15:44:42,761 - main - INFO -        - Single endpoint auto-populates everything
2025-12-11 15:44:42,761 - main - INFO -        - No manual section generation
2025-12-11 15:44:42,761 - main - INFO -        - Complete MongoDB integration
2025-12-11 15:44:42,761 - main - INFO - 
2025-12-11 15:44:42,761 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-11 15:44:42,761 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-11 15:44:42,762 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-11 15:44:42,762 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-11 15:44:42,762 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-11 15:44:42,762 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-11 15:44:42,762 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-11 15:44:42,762 - main - INFO - 
2025-12-11 15:44:42,762 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-11 15:44:42,763 - main - INFO -      Main:
2025-12-11 15:44:42,763 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-11 15:44:42,763 - main - INFO - 
2025-12-11 15:44:42,763 - main - INFO -      Retrieval:
2025-12-11 15:44:42,763 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-11 15:44:42,763 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-11 15:44:42,763 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-11 15:44:42,763 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-11 15:44:42,764 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-11 15:44:42,764 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-11 15:44:42,764 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-11 15:44:42,764 - main - INFO - 
2025-12-11 15:44:42,764 - main - INFO -      Management:
2025-12-11 15:44:42,764 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-11 15:44:42,765 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-11 15:44:42,765 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-11 15:44:42,765 - main - INFO - 
2025-12-11 15:44:42,765 - main - INFO -      Documents (MongoDB):
2025-12-11 15:44:42,765 - main - INFO -        GET  /api/documents                All documents
2025-12-11 15:44:42,765 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-11 15:44:42,765 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-11 15:44:42,766 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-11 15:44:42,766 - main - INFO - 
2025-12-11 15:44:42,766 - main - INFO -      Diagnostics & Health:
2025-12-11 15:44:42,766 - main - INFO -        GET  /api/health                   System health
2025-12-11 15:44:42,766 - main - INFO -        GET  /api/status                   Detailed status
2025-12-11 15:44:42,766 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-11 15:44:42,767 - main - INFO - 
2025-12-11 15:44:42,767 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-11 15:44:42,767 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-11 15:44:42,767 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-11 15:44:42,767 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-11 15:44:42,768 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-11 15:44:42,768 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-11 15:44:42,768 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-11 15:44:42,768 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-11 15:44:42,768 - main - INFO - 
2025-12-11 15:44:42,769 - main - INFO -   üéØ WORKFLOW:
2025-12-11 15:44:42,769 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-11 15:44:42,769 - main - INFO -      2. Receive comparison_id + complete data
2025-12-11 15:44:42,769 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-11 15:44:42,769 - main - INFO -      4. No re-upload needed!
2025-12-11 15:44:42,770 - main - INFO - 
2025-12-11 15:44:42,770 - main - INFO - ================================================================================
2025-12-11 15:44:42,770 - main - INFO -   ‚úÖ Application started successfully!
2025-12-11 15:44:42,770 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-11 15:44:42,770 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-11 15:44:42,770 - main - INFO - ================================================================================
2025-12-11 15:44:42,771 - main - INFO - 
2025-12-11 15:44:42,772 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-11 15:44:46,184 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:44:46,185 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:44:46,187 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:44:46,187 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:44:46,188 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:45:15,870 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:45:15,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:45:15,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:45:15,875 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:45:15,875 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:45:46,180 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:45:46,181 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:45:46,183 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:45:46,184 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:45:46,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:46:15,863 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:46:15,864 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:46:15,866 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:46:15,867 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:46:15,867 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:46:46,184 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:46:46,187 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:46:46,192 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:46:46,193 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:46:46,195 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:47:15,875 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:47:15,876 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:47:15,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:47:15,878 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:47:15,880 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:47:15,880 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:47:15,880 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:47:46,178 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:47:46,179 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:47:46,180 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:47:46,181 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:47:46,181 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:48:15,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:48:15,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:48:15,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:48:15,873 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:48:15,873 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:49:17,185 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:49:17,186 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:49:17,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:49:17,189 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:49:17,189 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:50:18,187 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:50:18,189 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:50:18,194 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:50:18,195 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:50:18,196 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,682 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:50:38,685 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:50:38,686 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:50:38,687 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:50:38,689 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,692 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,694 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,697 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,702 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:50:38,703 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,708 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:50:38,708 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,709 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,713 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:50:38,714 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,719 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:50:38,719 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,720 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,724 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:50:38,726 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,730 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:50:38,731 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,732 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:50:38,737 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:50:38,738 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,743 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:50:38,743 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:38,744 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:50:50,287 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-11 15:50:50,287 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-11 15:50:50,289 - main - INFO - üì• POST /api/compare-quotes
2025-12-11 15:50:50,292 - app.api.routes - INFO - üîç Checking user subscription for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:50,293 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae751e9ed6d204b2fc06e
2025-12-11 15:50:50,293 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:50:50,293 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:50:50,294 - app.services.user_subscription_service - INFO - ‚úÖ Found user: abdul (wasay7757@gmail.com)
2025-12-11 15:50:50,296 - app.api.routes - INFO - ‚úÖ User 693ae751e9ed6d204b2fc06e can perform comparison
2025-12-11 15:50:50,296 - app.api.routes - INFO -    - Remaining comparisons: 250
2025-12-11 15:50:50,296 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-11 15:50:50,296 - app.api.routes - INFO -    - Files uploaded: 2
2025-12-11 15:50:50,297 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765468250_931669d8f2fb
2025-12-11 15:50:50,297 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_4bcd54dcacb3 (2 files)
2025-12-11 15:50:50,297 - app.api.routes - INFO - üìä Initialized progress tracking: job_4bcd54dcacb3
2025-12-11 15:50:50,298 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:50:50,298 - app.api.routes - INFO - üìÑ Processing: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:50:50,299 - app.api.routes - INFO - ======================================================================
2025-12-11 15:50:50,300 - app.api.routes - INFO - üíæ Saved file: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí a6412291f557425fa3ed2e24f89c7925.pdf (309991 bytes)
2025-12-11 15:50:50,300 - app.api.routes - INFO - üìñ Extracting text from: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:50:50,301 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\a6412291f557425fa3ed2e24f89c7925.pdf
2025-12-11 15:50:50,301 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:50:50,302 - app.api.routes - INFO - üìÑ Processing: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:50:50,345 - app.api.routes - INFO - ======================================================================
2025-12-11 15:50:50,347 - app.api.routes - INFO - üíæ Saved file: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí e9aa0028a55c41b38332329162170f9f.pdf (290798 bytes)
2025-12-11 15:50:50,363 - app.api.routes - INFO - üìñ Extracting text from: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:50:50,367 - app.services.pdf_extractor - INFO - Successfully extracted 12679 characters from 5 pages
2025-12-11 15:50:50,368 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\e9aa0028a55c41b38332329162170f9f.pdf
2025-12-11 15:50:50,370 - app.api.routes - INFO - ü§ñ Parsing with AI: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:50:50,388 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:50:50,412 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Wataniya Insurance
2025-12-11 15:50:50,427 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Wataniya Insurance
2025-12-11 15:50:50,429 - app.services.pdf_extractor - INFO - Successfully extracted 15546 characters from 7 pages
2025-12-11 15:50:50,429 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:50:50,429 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:50:50,430 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-11 15:50:50,511 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-11 15:50:50,511 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:50:51,025 - app.api.routes - INFO - ü§ñ Parsing with AI: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:50:51,025 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:50:51,027 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-11 15:50:51,029 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-11 15:50:51,030 - app.services.ai_parser - INFO - üë§ Insured (Customer): Unknown Insured
2025-12-11 15:50:51,030 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-11 15:50:51,032 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-11 15:50:51,033 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Format/Company mismatch: Format=LIVA, Company=Al Rajhi Takaful
2025-12-11 15:50:51,034 - app.services.ai_parser - INFO - üîß Overriding company name to: Liva Insurance (based on document format)
2025-12-11 15:50:51,130 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-11 15:50:51,131 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-11 15:51:19,186 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:51:19,187 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:51:19,194 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:51:19,195 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:51:19,197 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:51:21,874 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:21,904 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:51:21,905 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:51:21,907 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:51:21,907 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 2 benefits, using fallback...
2025-12-11 15:51:21,918 - app.services.ai_parser - INFO - üìã Fallback extracted 37 benefits from patterns
2025-12-11 15:51:21,921 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 36 total
2025-12-11 15:51:21,922 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:51:24,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:24,601 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:51:24,601 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:51:24,602 - app.services.ai_parser - INFO - üîÑ Rate: '0.95%o on total sum insured of SAR 350,328,000/-' ‚Üí '0.95‚Ä∞'
2025-12-11 15:51:24,602 - app.services.ai_parser - INFO - üí∞ Calculated: 332811.60 from SI: 350328000.0 √ó Rate: 0.95%o on total sum insured of SAR 350,328,000/-
2025-12-11 15:51:24,603 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1%, min SAR 1,000,000 | Nat Cat: 1%, min SAR 1,000,000
2025-12-11 15:51:24,603 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:51:24,604 - app.services.ai_parser - INFO - üìä Counts: 36 benefits, 42 exclusions, 6 warranties, 0 extensions
2025-12-11 15:51:33,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:33,262 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-11 15:51:33,263 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:51:33,263 - app.services.ai_parser - INFO - 
2025-12-11 15:51:33,263 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:33,263 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:51:33,264 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:33,264 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-11 15:51:33,264 - app.services.ai_parser - INFO - üë§ Insured: Unknown Insured
2025-12-11 15:51:33,264 - app.services.ai_parser - INFO - üí∞ Premium: SAR 322,811.60
2025-12-11 15:51:33,265 - app.services.ai_parser - INFO - üìä Rate: 0.95‚Ä∞
2025-12-11 15:51:33,265 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-11 15:51:33,265 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-11 15:51:33,266 - app.services.ai_parser - INFO - üîß Deductible: MD: 1%, min SAR 1,000,000 | Nat Cat: 1%, min SAR 1,000,000
2025-12-11 15:51:33,267 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:51:33,267 - app.services.ai_parser - INFO - üíº Brokerage: N/A
2025-12-11 15:51:33,268 - app.services.ai_parser - INFO - 
2025-12-11 15:51:33,268 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:51:33,268 - app.services.ai_parser - INFO -    ‚úì Benefits: 36
2025-12-11 15:51:33,268 - app.services.ai_parser - INFO -    ‚úì Exclusions: 42
2025-12-11 15:51:33,269 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-11 15:51:33,270 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-11 15:51:33,271 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 0
2025-12-11 15:51:33,271 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:33,274 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: e9aa0028a55c41b38332329162170f9f.pdf ‚Üí 693ae885e3166ddf3b15d614
2025-12-11 15:51:33,275 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae885e3166ddf3b15d614
2025-12-11 15:51:33,296 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae885e3166ddf3b15d615 (290798 bytes)
2025-12-11 15:51:33,296 - app.api.routes - INFO - ‚úÖ Saved user document: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf ‚Üí 693ae885e3166ddf3b15d615
2025-12-11 15:51:33,297 - app.api.routes - INFO - ‚úÖ Successfully processed: Q-10817-1-CAR - Al Sharif Contracting-  Contract  4400021955.pdf
2025-12-11 15:51:44,396 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:44,398 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-11 15:51:44,399 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-11 15:51:44,400 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-11 15:51:44,400 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-11 15:51:44,403 - app.services.ai_parser - INFO - üìã Fallback extracted 20 benefits from patterns
2025-12-11 15:51:44,404 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 25 total
2025-12-11 15:51:44,405 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-11 15:51:51,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:51,881 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-11 15:51:51,882 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-11 15:51:51,883 - app.services.ai_parser - INFO - üîÑ Rate: 'SAR 365,000.00 @ 1.00‚Ä∞' ‚Üí '1.00‚Ä∞'
2025-12-11 15:51:51,884 - app.services.ai_parser - INFO - üí∞ Calculated: 133225000000.00 from SI: 365000000.0 √ó Rate: SAR 365,000.00 @ 1.00‚Ä∞
2025-12-11 15:51:51,884 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-11 15:51:51,884 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-11 15:51:51,885 - app.services.ai_parser - INFO - üìä Counts: 25 benefits, 27 exclusions, 5 warranties, 21 extensions
2025-12-11 15:51:55,915 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:51:55,917 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 82.0
2025-12-11 15:51:55,918 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-11 15:51:55,918 - app.services.ai_parser - INFO - 
2025-12-11 15:51:55,918 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:55,919 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:51:55,919 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:55,920 - app.services.ai_parser - INFO - üè¢ Insurer: Wataniya Insurance
2025-12-11 15:51:55,920 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Dev. Co.
2025-12-11 15:51:55,921 - app.services.ai_parser - INFO - üí∞ Premium: SAR 365,000.00
2025-12-11 15:51:55,921 - app.services.ai_parser - INFO - üìä Rate: 1.00‚Ä∞
2025-12-11 15:51:55,922 - app.services.ai_parser - INFO - üéØ Score: 82.0/100
2025-12-11 15:51:55,922 - app.services.ai_parser - INFO - üìè Quality: 99.0/100
2025-12-11 15:51:55,923 - app.services.ai_parser - INFO - üîß Deductible: MD: 1% of the claim amount subject to a minimum of SAR 1,000,000 | BI: Nil
2025-12-11 15:51:55,923 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-11 15:51:55,923 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-11 15:51:55,923 - app.services.ai_parser - INFO - 
2025-12-11 15:51:55,923 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-11 15:51:55,924 - app.services.ai_parser - INFO -    ‚úì Benefits: 25
2025-12-11 15:51:55,924 - app.services.ai_parser - INFO -    ‚úì Exclusions: 27
2025-12-11 15:51:55,924 - app.services.ai_parser - INFO -    ‚úì Warranties: 5
2025-12-11 15:51:55,924 - app.services.ai_parser - INFO -    ‚úì Extensions: 21
2025-12-11 15:51:55,924 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-11 15:51:55,925 - app.services.ai_parser - INFO - ======================================================================
2025-12-11 15:51:55,928 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: a6412291f557425fa3ed2e24f89c7925.pdf ‚Üí 693ae89be3166ddf3b15d616
2025-12-11 15:51:55,928 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 693ae89be3166ddf3b15d616
2025-12-11 15:51:55,931 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae89be3166ddf3b15d617 (309991 bytes)
2025-12-11 15:51:55,932 - app.api.routes - INFO - ‚úÖ Saved user document: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf ‚Üí 693ae89be3166ddf3b15d617
2025-12-11 15:51:55,933 - app.api.routes - INFO - ‚úÖ Successfully processed: Al Sharif Contracting  TERMS.docx  22-05-2025.pdf...pdf
2025-12-11 15:51:55,934 - app.api.routes - INFO - 
‚úÖ Successfully extracted 2 quotes
2025-12-11 15:51:55,934 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:51:55,934 - app.api.routes - INFO - üîÄ Generating comparison for 2 quotes
2025-12-11 15:51:55,934 - app.api.routes - INFO - ======================================================================
2025-12-11 15:51:55,935 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 2 quotes
2025-12-11 15:51:55,936 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-11 15:51:55,936 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-11 15:51:55,937 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:51:55,937 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-11 15:51:55,937 - app.services.ai_ranker - INFO - ================================================================================
2025-12-11 15:51:55,937 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:51:55,938 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-11 15:51:55,938 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:51:55,938 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:51:55,938 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:51:55,939 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:51:55,939 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:51:55,939 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': [], 'conditions_precedent': ['No deterioration in loss record'], 'documentation_required': []}
2025-12-11 15:51:55,939 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:51:55,940 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:51:55,940 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:51:55,940 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:51:55,941 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 350328000,
    "total_sum_insured": "SAR 350,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "All other losses",
        "deductible": "1%, min SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "N/A",
        "deductible": "N/A",
        "applies_to": "business_interruption"
      }
    ],
    "natural_catastrophe_tiers": [
      {
        "range": "NATCAT",
        "deductible": "1%, min SAR 1,000,000"
      }
    ],
    "applicable_md_tier": {
      "range": "NATCAT",
      "deductible": "1%, min SAR 1,000,000"
2025-12-11 15:51:55,945 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'binding_requirements': []
2025-12-11 15:51:55,945 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'conditions_precedent': ['No deterioration in loss record']
2025-12-11 15:51:55,945 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'documentation_required': []
2025-12-11 15:51:55,946 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:51:55,946 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:51:55,946 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:51:55,946 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:51:55,947 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:51:55,947 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:51:55,947 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:51:55,947 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:51:55,947 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:51:55,948 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:51:55,948 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:51:55,948 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:51:55,948 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:51:55,949 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 1
2025-12-11 15:51:55,950 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['No deterioration in loss record']
2025-12-11 15:51:55,950 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 1 subjectivities for Liva Insurance
2025-12-11 15:51:55,951 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-11 15:51:55,951 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-11 15:51:55,952 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-11 15:51:55,954 - app.services.ai_ranker - INFO -    Exclusions: 42
2025-12-11 15:51:55,954 - app.services.ai_ranker - INFO -    Subjectivities: 1
2025-12-11 15:51:55,955 - app.services.ai_ranker - INFO - 
============================================================
2025-12-11 15:51:55,955 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Wataniya Insurance
2025-12-11 15:51:55,956 - app.services.ai_ranker - INFO - ============================================================
2025-12-11 15:51:55,956 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-11 15:51:55,956 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:51:55,957 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-11 15:51:55,957 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-11 15:51:55,957 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-11 15:51:55,957 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-11 15:51:55,958 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-11 15:51:55,958 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-11 15:51:55,958 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-11 15:51:55,958 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 350,000,000.00",
    "business_interruption": "SAR 10,000,000.00",
    "total_sum_insured_numeric": 365000000,
    "total_sum_insured": "SAR 365,000,000.00"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "All losses",
        "deductible": "1% of the claim amount subject to a minimum of SAR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "Bodily injury",
        "deductible": "Nil",
        "applies_to": "third_party_liability"
      },
      {
        "range": "Property Damage",
        "deductible": "SAR 25,000 for each and every loss",
        "applies_to": "third_party_liability"
      },
      {
        "range": "Underground Facilities",
        "deductible": "25% of claim amount subject to SAR 25,000 for each and every loss
2025-12-11 15:51:55,961 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:51:55,961 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-11 15:51:55,962 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-11 15:51:55,962 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-11 15:51:55,962 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-11 15:51:55,962 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-11 15:51:55,963 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-11 15:51:55,963 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-11 15:51:55,963 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-11 15:51:55,963 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-11 15:51:55,963 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-11 15:51:55,964 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-11 15:51:55,964 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-11 15:51:55,964 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-11 15:51:55,964 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-11 15:51:55,964 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-11 15:51:55,965 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-11 15:51:55,965 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-11 15:51:55,966 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Wataniya Insurance
2025-12-11 15:51:55,966 - app.services.ai_ranker - INFO - 
üìä Wataniya Insurance:
2025-12-11 15:51:55,967 - app.services.ai_ranker - INFO -    Warranties: 5
2025-12-11 15:51:55,967 - app.services.ai_ranker - INFO -    Extensions: 21
2025-12-11 15:51:55,967 - app.services.ai_ranker - INFO -    Exclusions: 27
2025-12-11 15:51:55,968 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-11 15:51:55,968 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-11 15:51:56,250 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 5
2025-12-11 15:51:56,250 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-11 15:51:56,251 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:51:56,251 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-11 15:51:56,251 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:51:56,252 - app.services.ai_ranker - INFO -       ‚Ä¢ Hot works Warranty
2025-12-11 15:51:56,252 - app.services.ai_ranker - INFO -       ‚Ä¢ House Keeping Warranty
2025-12-11 15:51:56,253 - app.services.ai_ranker - INFO -       ‚Ä¢ No smoking Warranty
2025-12-11 15:51:56,253 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Wataniya Insurance
2025-12-11 15:51:56,499 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-11 15:51:56,500 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 10
2025-12-11 15:51:56,500 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-11 15:51:56,501 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 10
2025-12-11 15:51:56,501 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-11 15:51:56,501 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted no known or reported losses for the last five years & latest 5 project...
2025-12-11 15:51:56,502 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that Reasonable Precautions to be taken during the project period
2025-12-11 15:51:56,502 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-11 15:51:56,503 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-11 15:51:56,503 - app.services.ai_ranker - INFO - ================================================================================

2025-12-11 15:51:56,504 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=81.91
2025-12-11 15:51:56,504 - app.services.ai_ranker - INFO - üìä Wataniya Insurance: Hakim Score=88.0 (Strong), Weighted Score=82.31
2025-12-11 15:51:56,504 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-11 15:51:56,505 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-11 15:52:03,452 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:52:03,458 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-11 15:52:03,458 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-11 15:52:03,459 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-11 15:52:08,307 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-11 15:52:08,310 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Wataniya Insurance: Wataniya Insurance is the best recommended insurance provider due to its superior score of 82.3/100 ...
2025-12-11 15:52:08,312 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-11 15:52:08,316 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-11 15:52:08,317 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765468250_931669d8f2fb
2025-12-11 15:52:08,318 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 2
2025-12-11 15:52:08,319 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-11 15:52:08,319 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 2
2025-12-11 15:52:08,320 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Liva Insurance
2025-12-11 15:52:08,321 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:52:08,322 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:52:08,323 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:52:08,324 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:52:08,324 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:52:08,325 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:52:08,326 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Wataniya Insurance
2025-12-11 15:52:08,326 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-11 15:52:08,326 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-11 15:52:08,327 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-11 15:52:08,327 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-11 15:52:08,328 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-11 15:52:08,328 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-11 15:52:08,334 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-11 15:52:08,335 - app.services.mongodb_service_enhanced - INFO -    Summary: 3,432 bytes
2025-12-11 15:52:08,336 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 27,265 bytes
2025-12-11 15:52:08,337 - app.services.mongodb_service_enhanced - INFO -    Data table: 12,489 bytes
2025-12-11 15:52:08,337 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,452 bytes
2025-12-11 15:52:08,338 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 31,354 bytes
2025-12-11 15:52:08,338 - app.services.mongodb_service_enhanced - INFO -    Total document: 158,977 bytes
2025-12-11 15:52:08,339 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-11 15:52:08,339 - app.services.mongodb_service_enhanced - INFO -       premium: 2 items
2025-12-11 15:52:08,339 - app.services.mongodb_service_enhanced - INFO -       rate: 2 items
2025-12-11 15:52:08,340 - app.services.mongodb_service_enhanced - INFO -       score: 2 items
2025-12-11 15:52:08,340 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 2 items
2025-12-11 15:52:08,340 - app.services.mongodb_service_enhanced - INFO -       deductible: 2 items
2025-12-11 15:52:08,340 - app.services.mongodb_service_enhanced - INFO -       coverage: 2 items
2025-12-11 15:52:08,341 - app.services.mongodb_service_enhanced - INFO -       benefits: 2 items
2025-12-11 15:52:08,341 - app.services.mongodb_service_enhanced - INFO -       exclusions: 2 items
2025-12-11 15:52:08,341 - app.services.mongodb_service_enhanced - INFO -       warranties: 2 items
2025-12-11 15:52:08,342 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 2 items
2025-12-11 15:52:08,344 - app.services.mongodb_service_enhanced - INFO -       conditions: 2 items
2025-12-11 15:52:08,344 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 2 items
2025-12-11 15:52:08,345 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 2 items
2025-12-11 15:52:08,345 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 2 items
2025-12-11 15:52:08,345 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-11 15:52:08,346 - app.services.mongodb_service_enhanced - INFO -       - Count: 2
2025-12-11 15:52:08,346 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:52:08,347 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:52:08,347 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-11 15:52:08,355 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765468250_931669d8f2fb
2025-12-11 15:52:08,356 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 693ae8a85a37704a1c0a83eb
2025-12-11 15:52:08,360 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-11 15:52:08,361 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-11 15:52:08,361 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-11 15:52:08,361 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-11 15:52:08,362 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-11 15:52:08,362 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-11 15:52:08,362 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-11 15:52:08,363 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 2
2025-12-11 15:52:08,363 - app.services.mongodb_service_enhanced - INFO -    - First row keys (27): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-11 15:52:08,363 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 2
2025-12-11 15:52:08,364 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-11 15:52:08,364 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 2
2025-12-11 15:52:08,365 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-11 15:52:08,367 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-11 15:52:08,368 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-11 15:52:08,369 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-11 15:52:08,371 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-11 15:52:08,372 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-11 15:52:08,373 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-11 15:52:08,374 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 693ae8a85a37704a1c0a83eb
2025-12-11 15:52:08,374 - app.api.routes - INFO -    Database: hakemAI
2025-12-11 15:52:08,374 - app.api.routes - INFO -    Collection: comparisons
2025-12-11 15:52:08,375 - app.api.routes - INFO -    Comparison ID: cmp_1765468250_931669d8f2fb
2025-12-11 15:52:08,375 - app.api.routes - INFO -    User ID: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,375 - app.api.routes - INFO -    Company ID: None (individual account)
2025-12-11 15:52:08,380 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,381 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,381 - app.api.routes - INFO - 
======================================================================
2025-12-11 15:52:08,382 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-11 15:52:08,382 - app.api.routes - INFO - ======================================================================
2025-12-11 15:52:08,382 - app.api.routes - INFO - üìä Comparison ID: cmp_1765468250_931669d8f2fb
2025-12-11 15:52:08,383 - app.api.routes - INFO - üë§ User ID: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,384 - app.api.routes - INFO - üìÑ Files Processed: 2/2
2025-12-11 15:52:08,384 - app.api.routes - INFO - üíæ Saved to MongoDB: 2 PDFs + 1 comparison
2025-12-11 15:52:08,384 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,385 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:52:08,386 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:52:08,390 - app.services.user_subscription_service - INFO - ‚úÖ Found user: abdul (wasay7757@gmail.com)
2025-12-11 15:52:08,391 - app.api.routes - INFO - üìä Remaining comparisons: 249
2025-12-11 15:52:08,391 - app.api.routes - INFO - ======================================================================

2025-12-11 15:52:08,392 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_4bcd54dcacb3 ‚Üí comparison_id: cmp_1765468250_931669d8f2fb
2025-12-11 15:52:08,395 - main - INFO - üì§ POST /api/compare-quotes - 200 - 78.11s
2025-12-11 15:52:08,631 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:08,632 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,638 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:52:08,640 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,642 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:52:08,646 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:08,647 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,654 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:52:08,654 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,659 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:52:08,664 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:08,666 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,680 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:52:08,681 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,685 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:52:08,692 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:08,694 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,698 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:52:08,699 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:08,702 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:52:20,176 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:20,178 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae423b0b7c8651ba26e16
2025-12-11 15:52:20,183 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae423b0b7c8651ba26e16 (company: None)
2025-12-11 15:52:20,183 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae423b0b7c8651ba26e16
2025-12-11 15:52:20,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:52:38,862 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:52:38,863 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:38,867 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:52:38,868 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:52:38,871 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:53:08,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:08,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae751e9ed6d204b2fc06e
2025-12-11 15:53:08,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 693ae751e9ed6d204b2fc06e (company: None)
2025-12-11 15:53:08,872 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 693ae751e9ed6d204b2fc06e
2025-12-11 15:53:08,874 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:53:15,564 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:53:15,568 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:53:15,573 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:15,574 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:15,589 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: None)
2025-12-11 15:53:15,590 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:15,591 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:53:54,461 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:54,462 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,466 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:53:54,476 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:53:54,477 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,478 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:53:54,482 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:54,485 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,488 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:53:54,496 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:53:54,496 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,497 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:53:54,500 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:54,502 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,505 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:53:54,514 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:53:54,516 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,519 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:53:54,523 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:53:54,524 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,527 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:53:54,530 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:53:54,536 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:53:54,538 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:54:15,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:54:15,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:15,871 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:54:15,873 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:54:15,873 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:15,873 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:54:24,875 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:54:24,876 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:24,877 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:54:24,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:54:24,879 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:24,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:54:35,977 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:54:35,979 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:35,987 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:54:35,990 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:54:35,991 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:35,999 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:54:36,023 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:54:36,024 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:36,030 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:54:36,039 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:54:36,044 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:36,061 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-11 15:54:45,866 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:54:45,867 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:45,868 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:54:45,869 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:54:45,869 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:54:45,870 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:55:07,182 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:55:07,183 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:07,184 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:55:07,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:55:07,186 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:07,187 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:55:15,879 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:55:15,880 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:15,883 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:55:15,886 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:55:15,887 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:15,888 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:55:37,180 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:55:37,181 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:37,187 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:55:37,192 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:55:37,193 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:37,193 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:55:45,870 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:55:45,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:45,877 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:55:45,882 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:55:45,883 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:55:45,885 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:56:02,244 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:56:02,245 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:56:02,245 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:56:02,246 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 15:56:02,246 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:56:02,247 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:56:02,247 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:56:02,249 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 15:56:02,251 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:02,252 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,253 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:02,255 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:02,255 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,256 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:56:02,261 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:02,262 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,263 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:02,266 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:02,266 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,267 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:02,269 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:02,270 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,272 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:02,274 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:02,275 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,275 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:02,280 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:02,281 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,283 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:02,285 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:02,285 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:02,286 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:07,184 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:07,185 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:07,186 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:07,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:07,188 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:07,189 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:56:15,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:15,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:15,871 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:15,873 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:15,874 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:15,874 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:56:32,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:32,873 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:32,876 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:32,880 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:32,881 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:32,882 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:37,171 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:37,172 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:37,174 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:37,176 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:37,177 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:37,177 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:43,981 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:43,983 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:43,986 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:43,990 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:43,991 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:43,992 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:44,083 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:44,085 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:44,087 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:44,091 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:44,100 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:44,101 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:56:45,871 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:45,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:45,873 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:45,875 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:45,875 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:45,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:56:46,605 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:46,607 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:46,610 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:46,613 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:46,621 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:46,623 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:56:46,628 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:46,631 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:46,646 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:46,656 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:46,659 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:46,662 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-11 15:56:58,563 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:58,564 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:58,567 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:58,569 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:58,570 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:58,570 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:56:58,574 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:56:58,576 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:58,578 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:56:58,581 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:56:58,582 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:56:58,584 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:57:00,615 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:00,616 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:00,617 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:00,618 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:00,619 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:00,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:00,621 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:00,622 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:00,623 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:00,624 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:00,625 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:00,625 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:04,374 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:04,375 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,376 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:04,377 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:04,377 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,378 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:04,379 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:04,380 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,381 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:04,384 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:04,384 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,384 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:04,824 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:04,825 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,826 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:04,827 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:04,828 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,828 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:04,830 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:04,831 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,833 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:04,834 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:04,835 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:04,835 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:10,879 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:10,880 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:10,881 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:10,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:10,883 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:10,884 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:10,886 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:10,887 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:10,888 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:10,890 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:10,890 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:10,890 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:15,870 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:15,871 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:15,874 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:15,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:15,878 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:15,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:57:16,870 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:16,871 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:16,872 - app.api.routes - INFO - üè¢ User belongs to company: 693ae8f2e9ed6d204b2fc0ed - will include shared comparisons
2025-12-11 15:57:16,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae8f2e9ed6d204b2fc0ed)
2025-12-11 15:57:16,874 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:16,875 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:57:21,513 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-11 15:57:21,514 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-11 15:57:21,520 - main - INFO - üì• POST /api/compare-quotes
2025-12-11 15:57:21,527 - app.api.routes - INFO - üîç Checking user subscription for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:21,528 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:21,528 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-11 15:57:21,528 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-11 15:57:21,529 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay4868@gmail.com)
2025-12-11 15:57:21,530 - app.services.user_subscription_service - WARNING - üö´ User 693ae7d9e9ed6d204b2fc076 is a sub-user (view-only). Cannot generate comparisons.
2025-12-11 15:57:21,530 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 693ae7d9e9ed6d204b2fc076: You are a team member with view-only access. Only the main company account can generate comparisons.
2025-12-11 15:57:21,530 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.01s
2025-12-11 15:57:24,825 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-11 15:57:24,827 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-11 15:57:24,837 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-11 15:57:24,839 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-11 15:57:24,844 - main - INFO - üì• GET /api/my-documents
2025-12-11 15:57:24,848 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:24,850 - main - INFO - üì§ GET /api/my-documents - 200 - 0.01s
2025-12-11 15:57:24,854 - main - INFO - üì• GET /api/my-documents
2025-12-11 15:57:24,857 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:24,858 - main - INFO - üì§ GET /api/my-documents - 200 - 0.00s
2025-12-11 15:57:46,181 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:46,183 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:46,185 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:57:46,189 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:57:46,189 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:46,190 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:57:46,868 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:57:46,869 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:46,870 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:57:46,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:57:46,872 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:57:46,872 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:58:15,863 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:58:15,863 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:15,864 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:58:15,868 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:58:15,869 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:15,870 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:58:16,869 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:58:16,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:16,872 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:58:16,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:58:16,874 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:16,875 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:58:41,838 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:58:41,839 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:41,841 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:58:41,843 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:58:41,843 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:41,843 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:58:41,846 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:58:41,848 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:41,851 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:58:41,854 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:58:41,859 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:41,861 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-11 15:58:45,876 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:58:45,877 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:45,878 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:58:45,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:58:45,879 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:58:45,880 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 15:59:15,874 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:59:15,875 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:59:15,878 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:59:15,881 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:59:15,881 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:59:15,882 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 15:59:42,789 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-11 15:59:42,790 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-11 15:59:46,175 - main - INFO - üì• GET /api/comparisons
2025-12-11 15:59:46,177 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 15:59:46,179 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 15:59:46,182 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 15:59:46,183 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 15:59:46,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:00:15,877 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:00:15,878 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:00:15,881 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:00:15,884 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:00:15,885 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:00:15,886 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:00:46,186 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:00:46,187 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:00:46,188 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:00:46,190 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:00:46,190 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:00:46,190 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 16:01:15,878 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:01:15,879 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:01:15,882 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:01:15,885 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:01:15,886 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:01:15,887 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:01:46,183 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:01:46,184 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:01:46,185 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:01:46,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:01:46,186 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:01:46,187 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 16:02:21,879 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:02:21,880 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:02:21,882 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:02:21,884 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:02:21,884 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:02:21,884 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:03:22,179 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-11 16:03:22,180 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-11 16:03:22,183 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:03:22,184 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:03:22,186 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:03:22,189 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:03:22,189 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:03:22,190 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:04:21,883 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:04:21,885 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:04:21,889 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:04:21,893 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:04:21,893 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:04:21,894 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:05:22,181 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:05:22,182 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:05:22,183 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:05:22,184 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:05:22,185 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:05:22,185 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-11 16:06:21,876 - main - INFO - üì• GET /api/comparisons
2025-12-11 16:06:21,878 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-11 16:06:21,880 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-11 16:06:21,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-11 16:06:21,883 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-11 16:06:21,884 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-11 16:06:32,249 - main - INFO - 
2025-12-11 16:06:32,249 - main - INFO - ================================================================================
2025-12-11 16:06:32,250 - main - INFO -   üõë Shutting down application...
2025-12-11 16:06:32,251 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-11 16:06:32,251 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-11 16:06:32,252 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-11 16:06:32,253 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-11 16:06:32,254 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-11 16:06:32,254 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-11 16:06:32,256 - main - INFO -   ‚úÖ Cleaned up 2 temporary files
2025-12-11 16:06:32,256 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-11 16:06:32,257 - main - INFO - ================================================================================
2025-12-11 16:06:32,257 - main - INFO - 
2025-12-15 15:23:07,802 - main - INFO - 
2025-12-15 15:23:07,803 - main - INFO - ================================================================================
2025-12-15 15:23:07,803 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 15:23:07,803 - main - INFO -   Production-Ready Complete Integration
2025-12-15 15:23:07,803 - main - INFO - ================================================================================
2025-12-15 15:23:07,803 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 15:23:07,803 - main - INFO -   Upload Directory: uploads
2025-12-15 15:23:07,804 - main - INFO -   Max File Size: 20MB
2025-12-15 15:23:07,804 - main - INFO - ================================================================================
2025-12-15 15:23:07,804 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 15:23:07,805 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 15:23:07,805 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 15:23:08,140 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 15:23:08,157 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 15:23:08,157 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 15:23:08,157 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 15:23:08,157 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 15:23:08,158 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 15:23:08,165 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 15:23:08,170 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 15:23:08,175 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 15:23:08,257 - app.services.user_subscription_service - INFO - üìä Users collection has 2 documents
2025-12-15 15:23:08,257 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 15:23:08,257 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 15:23:08,257 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 15:23:08,258 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 15:23:08,264 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 15:23:08,265 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 15:23:08,265 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 15:23:08,265 - main - INFO - 
2025-12-15 15:23:08,265 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 15:23:08,266 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 15:23:08,266 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 15:23:08,266 - main - INFO -        - Separates warranties from extensions
2025-12-15 15:23:08,266 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 15:23:08,267 - main - INFO -        - Correct deductible tier detection
2025-12-15 15:23:08,267 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 15:23:08,267 - main - INFO - 
2025-12-15 15:23:08,267 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 15:23:08,267 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 15:23:08,267 - main - INFO -        - Identifies unique items per provider
2025-12-15 15:23:08,268 - main - INFO -        - Transparent scoring methodology
2025-12-15 15:23:08,268 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 15:23:08,268 - main - INFO - 
2025-12-15 15:23:08,268 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 15:23:08,268 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 15:23:08,268 - main - INFO -        - No manual section generation
2025-12-15 15:23:08,269 - main - INFO -        - Complete MongoDB integration
2025-12-15 15:23:08,269 - main - INFO - 
2025-12-15 15:23:08,269 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 15:23:08,269 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 15:23:08,269 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 15:23:08,270 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 15:23:08,270 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 15:23:08,270 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 15:23:08,270 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 15:23:08,270 - main - INFO - 
2025-12-15 15:23:08,271 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 15:23:08,271 - main - INFO -      Main:
2025-12-15 15:23:08,271 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 15:23:08,271 - main - INFO - 
2025-12-15 15:23:08,272 - main - INFO -      Retrieval:
2025-12-15 15:23:08,272 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 15:23:08,272 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 15:23:08,272 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 15:23:08,273 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 15:23:08,273 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 15:23:08,273 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 15:23:08,273 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 15:23:08,273 - main - INFO - 
2025-12-15 15:23:08,274 - main - INFO -      Management:
2025-12-15 15:23:08,274 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 15:23:08,274 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 15:23:08,274 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 15:23:08,274 - main - INFO - 
2025-12-15 15:23:08,275 - main - INFO -      Documents (MongoDB):
2025-12-15 15:23:08,275 - main - INFO -        GET  /api/documents                All documents
2025-12-15 15:23:08,275 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 15:23:08,275 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 15:23:08,276 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 15:23:08,276 - main - INFO - 
2025-12-15 15:23:08,276 - main - INFO -      Diagnostics & Health:
2025-12-15 15:23:08,276 - main - INFO -        GET  /api/health                   System health
2025-12-15 15:23:08,277 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 15:23:08,277 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 15:23:08,277 - main - INFO - 
2025-12-15 15:23:08,277 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 15:23:08,278 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 15:23:08,278 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 15:23:08,278 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 15:23:08,278 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 15:23:08,278 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 15:23:08,279 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 15:23:08,279 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 15:23:08,279 - main - INFO - 
2025-12-15 15:23:08,279 - main - INFO -   üéØ WORKFLOW:
2025-12-15 15:23:08,279 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 15:23:08,280 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 15:23:08,280 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 15:23:08,280 - main - INFO -      4. No re-upload needed!
2025-12-15 15:23:08,281 - main - INFO - 
2025-12-15 15:23:08,281 - main - INFO - ================================================================================
2025-12-15 15:23:08,281 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 15:23:08,281 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 15:23:08,282 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 15:23:08,282 - main - INFO - ================================================================================
2025-12-15 15:23:08,282 - main - INFO - 
2025-12-15 15:23:08,283 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 15:40:22,830 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:40:22,833 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:40:22,834 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:40:22,835 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:40:22,837 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,843 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,846 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,850 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,857 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:22,859 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:22,866 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:22,867 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:22,867 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,871 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:22,872 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:22,876 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:22,877 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:22,878 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,889 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:22,890 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:22,895 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:22,895 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:22,896 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:40:22,905 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:22,908 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:22,914 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:22,915 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:22,916 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:40:26,958 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:26,965 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:26,972 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:26,974 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:26,975 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:40:26,985 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:26,987 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:26,995 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: None)
2025-12-15 15:40:26,996 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:27,000 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:40:51,488 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:51,493 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:51,497 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:40:51,503 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:40:51,504 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:51,505 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:40:51,523 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:51,527 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:51,533 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:40:51,540 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:40:51,542 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:51,544 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:40:51,555 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:51,559 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:51,564 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:40:51,570 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:40:51,571 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:51,577 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:40:51,589 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:40:51,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:40:51,602 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:40:51,605 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:40:51,607 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:40:51,610 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:41:22,596 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:41:22,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:41:22,601 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:41:22,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:41:22,605 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:41:22,606 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:41:51,494 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:41:51,494 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:41:51,496 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:41:51,498 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:41:51,499 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:41:51,499 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:41:53,817 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:41:53,818 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:41:53,820 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:41:53,823 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:41:53,823 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:41:53,824 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:41:53,834 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:41:53,835 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:41:53,838 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:41:53,841 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:41:53,841 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:41:53,843 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:42:10,465 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:42:10,466 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:42:10,467 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 15:42:10,469 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 15:42:10,475 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:10,476 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:10,480 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:10,483 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:10,484 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:10,485 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:42:10,493 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:10,495 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:10,498 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:10,502 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:10,503 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:10,504 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:42:17,347 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:17,348 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,351 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:17,354 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:17,354 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,355 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:42:17,373 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:17,377 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,382 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:17,386 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:17,387 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,391 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:42:17,400 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:17,401 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,405 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:17,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:17,417 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:42:17,424 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:17,425 - app.api.routes - INFO - üìä Fetching all comparisons for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,429 - app.api.routes - INFO - üè¢ User belongs to company: 693ae9e7e9ed6d204b2fc143 - will include shared comparisons
2025-12-15 15:42:17,436 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076 (company: 693ae9e7e9ed6d204b2fc143)
2025-12-15 15:42:17,437 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:17,439 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:42:22,587 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:22,588 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:42:22,590 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:42:22,592 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:42:22,593 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:42:22,593 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:42:31,442 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-15 15:42:31,444 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-15 15:42:31,451 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 15:42:31,462 - app.api.routes - INFO - üîç Checking user subscription for user: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:31,463 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 693ae7d9e9ed6d204b2fc076
2025-12-15 15:42:31,463 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 15:42:31,464 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 15:42:31,467 - app.services.user_subscription_service - INFO - ‚úÖ Found user: wasay (wasay4868@gmail.com)
2025-12-15 15:42:31,468 - app.services.user_subscription_service - WARNING - üö´ User 693ae7d9e9ed6d204b2fc076 is a sub-user (view-only). Cannot generate comparisons.
2025-12-15 15:42:31,468 - app.api.routes - WARNING - ‚ùå Comparison not allowed for user 693ae7d9e9ed6d204b2fc076: You are a team member with view-only access. Only the main company account can generate comparisons.
2025-12-15 15:42:31,469 - main - INFO - üì§ POST /api/compare-quotes - 403 - 0.02s
2025-12-15 15:42:52,289 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:42:52,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:42:52,293 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:42:52,295 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:42:52,296 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:42:52,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:43:22,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:43:22,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:43:22,602 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:43:22,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:43:22,604 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:43:22,604 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:43:52,289 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:43:52,291 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:43:52,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:43:52,296 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:43:52,297 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:43:52,298 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:22,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:22,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:22,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:22,600 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:22,600 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:22,601 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,733 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:44:41,735 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:44:41,736 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:44:41,738 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:44:41,738 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,741 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,743 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,745 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,748 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:41,749 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,751 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:41,753 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:41,753 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,754 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,758 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:41,759 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,760 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:41,762 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:41,762 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,763 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:41,765 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:41,766 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,768 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:41,769 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:41,770 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,770 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:44:41,774 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:41,775 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,777 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:41,779 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:41,779 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:41,779 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:49,244 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:49,244 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,246 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:49,247 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:49,247 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,248 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:44:49,707 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:49,708 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,711 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:49,714 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:49,715 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,717 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:49,729 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:49,730 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,733 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:44:49,737 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:44:49,738 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:44:49,739 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:54,867 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:54,868 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:54,871 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:54,875 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:54,878 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:54,884 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:44:54,889 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:54,893 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:54,902 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:54,909 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:54,912 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:54,918 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:44:54,926 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:54,930 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:54,937 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:54,944 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:54,948 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:54,950 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:44:54,955 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:54,959 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:54,963 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:54,965 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:54,966 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:54,967 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:44:56,510 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:56,512 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:56,518 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:56,525 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:56,527 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:56,528 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:44:56,537 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:44:56,538 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:44:56,541 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:44:56,543 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:44:56,545 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:44:56,546 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:45:12,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:45:12,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:45:12,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:45:12,602 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:45:12,603 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:45:12,604 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:45:17,622 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-15 15:45:17,622 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-15 15:45:17,644 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 15:45:17,667 - app.api.routes - INFO - üîç Checking user subscription for user: 69402af41ac37a9c504e265c
2025-12-15 15:45:17,667 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 15:45:17,667 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 15:45:17,668 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 15:45:17,669 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 15:45:17,670 - app.api.routes - INFO - ‚úÖ User 69402af41ac37a9c504e265c can perform comparison
2025-12-15 15:45:17,670 - app.api.routes - INFO -    - Remaining comparisons: 250
2025-12-15 15:45:17,670 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-15 15:45:17,670 - app.api.routes - INFO -    - Files uploaded: 2
2025-12-15 15:45:17,670 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765813517_3138889c1c26
2025-12-15 15:45:17,671 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_4d69fcd20ec6 (2 files)
2025-12-15 15:45:17,671 - app.api.routes - INFO - üìä Initialized progress tracking: job_4d69fcd20ec6
2025-12-15 15:45:17,671 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:45:17,672 - app.api.routes - INFO - üìÑ Processing: Q# 309003 EAR.pdf
2025-12-15 15:45:17,672 - app.api.routes - INFO - ======================================================================
2025-12-15 15:45:17,672 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:45:17,672 - app.api.routes - INFO - üìÑ Processing: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:45:17,673 - app.api.routes - INFO - ======================================================================
2025-12-15 15:45:17,674 - app.api.routes - INFO - üíæ Saved file: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 18ba8b9af0ea48d3a2bc8e759d591f88.pdf (843321 bytes)
2025-12-15 15:45:17,674 - app.api.routes - INFO - üìñ Extracting text from: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:45:17,675 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\18ba8b9af0ea48d3a2bc8e759d591f88.pdf
2025-12-15 15:45:17,788 - app.services.pdf_extractor - INFO - Successfully extracted 7736 characters from 4 pages
2025-12-15 15:45:17,791 - app.api.routes - INFO - ü§ñ Parsing with AI: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:45:17,792 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:45:17,795 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-15 15:45:17,798 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-15 15:45:17,799 - app.services.ai_parser - INFO - üë§ Insured (Customer): Al Sharif Contracting and Commercial Development Company is a one-
2025-12-15 15:45:17,799 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 15:45:17,800 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-15 15:45:17,869 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-15 15:45:17,870 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 15:45:19,086 - app.api.routes - INFO - üíæ Saved file: Q# 309003 EAR.pdf ‚Üí f9ab96cf33ed4659aec24562f35fa069.pdf (2329624 bytes)
2025-12-15 15:45:19,087 - app.api.routes - INFO - üìñ Extracting text from: Q# 309003 EAR.pdf
2025-12-15 15:45:19,087 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\f9ab96cf33ed4659aec24562f35fa069.pdf
2025-12-15 15:45:19,239 - app.services.pdf_extractor - INFO - Successfully extracted 12629 characters from 8 pages
2025-12-15 15:45:19,241 - app.api.routes - INFO - ü§ñ Parsing with AI: Q# 309003 EAR.pdf
2025-12-15 15:45:19,242 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for Q# 309003 EAR.pdf
2025-12-15 15:45:19,242 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Tawuniya
2025-12-15 15:45:19,243 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-15 15:45:19,243 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/S AL SHARIF CONTRACTING AND COMMERCIAL DEV. CO.
2025-12-15 15:45:19,243 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 15:45:19,244 - app.services.ai_parser - INFO - üìã Detected format: TAWUNIYA
2025-12-15 15:45:19,297 - app.services.ai_parser - INFO - üéØ Pre-extracted 11 sublimits
2025-12-15 15:45:19,298 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 15:45:20,598 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:45:20,599 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:45:20,600 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:45:20,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:45:20,603 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:45:20,604 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:45:42,793 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:45:43,335 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 15:45:43,335 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 15:45:43,336 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 15:45:43,337 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 5 benefits, using fallback...
2025-12-15 15:45:43,344 - app.services.ai_parser - INFO - üìã Fallback extracted 23 benefits from patterns
2025-12-15 15:45:43,345 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 28 total
2025-12-15 15:45:43,346 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 15:45:45,015 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:45:47,231 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 15:45:47,232 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 15:45:47,232 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 15:45:47,232 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 5 benefits, using fallback...
2025-12-15 15:45:47,237 - app.services.ai_parser - INFO - üìã Fallback extracted 3 benefits from patterns
2025-12-15 15:45:47,238 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 8 total
2025-12-15 15:45:47,238 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 15:45:49,686 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:45:49,688 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 15:45:49,688 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 15:45:49,688 - app.services.ai_parser - INFO - üîÑ Rate: '1.1‚Ä∞' ‚Üí '1.1‚Ä∞'
2025-12-15 15:45:49,691 - app.services.ai_parser - INFO - üí∞ Calculated: 609853.20 from SI: 554412000.0 √ó Rate: 1.1‚Ä∞
2025-12-15 15:45:49,691 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 554.4M)
2025-12-15 15:45:49,692 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 1%, min SR 1,000,000 | BI: 10%, min SR 10,000 | Nat Cat: 1%, min SR 1,000,000
2025-12-15 15:45:49,692 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 15:45:49,693 - app.services.ai_parser - INFO - üìä Counts: 28 benefits, 29 exclusions, 6 warranties, 5 extensions
2025-12-15 15:45:50,283 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:45:50,283 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:45:50,285 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:45:50,287 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:45:50,288 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:45:50,288 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:45:54,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:45:55,022 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 15:45:55,026 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 15:45:55,029 - app.services.ai_parser - INFO - üîÑ Rate: 'SR 342,311.60 @ 0.38‚Ä∞' ‚Üí '0.38‚Ä∞'
2025-12-15 15:45:55,031 - app.services.ai_parser - INFO - üí∞ Calculated: 123344454204.80 from SI: 360328000.0 √ó Rate: SR 342,311.60 @ 0.38‚Ä∞
2025-12-15 15:45:55,033 - app.services.ai_parser - INFO - ‚úì Deductible tier: 100-500M applies (SI: 360.3M)
2025-12-15 15:45:55,036 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 500,000 | Nat Cat: 5%, min SR 1,000,000
2025-12-15 15:45:55,036 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 15:45:55,038 - app.services.ai_parser - INFO - üìä Counts: 8 benefits, 22 exclusions, 6 warranties, 5 extensions
2025-12-15 15:45:55,184 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:45:55,278 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 82.0
2025-12-15 15:45:55,280 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 15:45:55,281 - app.services.ai_parser - INFO - 
2025-12-15 15:45:55,281 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:45:55,282 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:45:55,283 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:45:55,283 - app.services.ai_parser - INFO - üè¢ Insurer: Al Rajhi Takaful
2025-12-15 15:45:55,284 - app.services.ai_parser - INFO - üë§ Insured: Al Sharif Contracting and Commercial Development Company is a one-
2025-12-15 15:45:55,284 - app.services.ai_parser - INFO - üí∞ Premium: SAR 500,000.00
2025-12-15 15:45:55,285 - app.services.ai_parser - INFO - üìä Rate: 1.1‚Ä∞
2025-12-15 15:45:55,285 - app.services.ai_parser - INFO - üéØ Score: 82.0/100
2025-12-15 15:45:55,286 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 15:45:55,287 - app.services.ai_parser - INFO - üîß Deductible: MD: 1%, min SR 1,000,000 | BI: 10%, min SR 10,000 | Nat Cat: 1%, min SR 1,000,000
2025-12-15 15:45:55,287 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 15:45:55,290 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 15:45:55,293 - app.services.ai_parser - INFO - 
2025-12-15 15:45:55,295 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 15:45:55,296 - app.services.ai_parser - INFO -    ‚úì Benefits: 28
2025-12-15 15:45:55,296 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-15 15:45:55,297 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-15 15:45:55,297 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 15:45:55,298 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 15:45:55,299 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:45:55,306 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 18ba8b9af0ea48d3a2bc8e759d591f88.pdf ‚Üí 69402d3382dc3529341d2137
2025-12-15 15:45:55,307 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69402d3382dc3529341d2137
2025-12-15 15:45:55,336 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 69402d3382dc3529341d2138 (843321 bytes)
2025-12-15 15:45:55,336 - app.api.routes - INFO - ‚úÖ Saved user document: QU CAR Al Sharif Contracting 4400021356.pdf ‚Üí 69402d3382dc3529341d2138
2025-12-15 15:45:55,337 - app.api.routes - INFO - ‚úÖ Successfully processed: QU CAR Al Sharif Contracting 4400021356.pdf
2025-12-15 15:46:01,052 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:46:01,310 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-15 15:46:01,310 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 15:46:01,311 - app.services.ai_parser - INFO - 
2025-12-15 15:46:01,311 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:46:01,311 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - Q# 309003 EAR.pdf
2025-12-15 15:46:01,311 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:46:01,312 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-15 15:46:01,312 - app.services.ai_parser - INFO - üë§ Insured: M/S AL SHARIF CONTRACTING AND COMMERCIAL DEV. CO.
2025-12-15 15:46:01,314 - app.services.ai_parser - INFO - üí∞ Premium: SAR 342,311.60
2025-12-15 15:46:01,315 - app.services.ai_parser - INFO - üìä Rate: 0.38‚Ä∞
2025-12-15 15:46:01,315 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-15 15:46:01,316 - app.services.ai_parser - INFO - üìè Quality: 92.0/100
2025-12-15 15:46:01,316 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 500,000 | Nat Cat: 5%, min SR 1,000,000
2025-12-15 15:46:01,318 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 15:46:01,318 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 15:46:01,318 - app.services.ai_parser - INFO - 
2025-12-15 15:46:01,319 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 15:46:01,319 - app.services.ai_parser - INFO -    ‚úì Benefits: 8
2025-12-15 15:46:01,319 - app.services.ai_parser - INFO -    ‚úì Exclusions: 22
2025-12-15 15:46:01,319 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-15 15:46:01,320 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 15:46:01,321 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 15:46:01,322 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:46:01,324 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: f9ab96cf33ed4659aec24562f35fa069.pdf ‚Üí 69402d3982dc3529341d2139
2025-12-15 15:46:01,325 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69402d3982dc3529341d2139
2025-12-15 15:46:01,396 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: Q# 309003 EAR.pdf ‚Üí 69402d3982dc3529341d213a (2329624 bytes)
2025-12-15 15:46:01,396 - app.api.routes - INFO - ‚úÖ Saved user document: Q# 309003 EAR.pdf ‚Üí 69402d3982dc3529341d213a
2025-12-15 15:46:01,397 - app.api.routes - INFO - ‚úÖ Successfully processed: Q# 309003 EAR.pdf
2025-12-15 15:46:01,398 - app.api.routes - INFO - 
‚úÖ Successfully extracted 2 quotes
2025-12-15 15:46:01,399 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:46:01,400 - app.api.routes - INFO - üîÄ Generating comparison for 2 quotes
2025-12-15 15:46:01,400 - app.api.routes - INFO - ======================================================================
2025-12-15 15:46:01,400 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 2 quotes
2025-12-15 15:46:01,401 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-15 15:46:01,401 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-15 15:46:01,402 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 15:46:01,402 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-15 15:46:01,403 - app.services.ai_ranker - INFO - ================================================================================
2025-12-15 15:46:01,403 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 15:46:01,403 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Al Rajhi Takaful
2025-12-15 15:46:01,404 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 15:46:01,404 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 15:46:01,404 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:46:01,406 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 15:46:01,406 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 15:46:01,407 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-15 15:46:01,409 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 15:46:01,410 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 15:46:01,410 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 15:46:01,410 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 15:46:01,411 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SAR 544,412,000",
    "business_interruption": "SAR 10,000,000",
    "total_sum_insured_numeric": 554412000,
    "total_sum_insured": "SR 554,412,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 10M",
        "deductible": "10%, min SR 10,000",
        "applies_to": "business_interruption"
      }
    ],
    "natural_catastrophe_tiers": [
      {
    
2025-12-15 15:46:01,412 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:46:01,413 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-15 15:46:01,414 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 15:46:01,416 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 15:46:01,417 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 15:46:01,417 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 15:46:01,418 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 15:46:01,418 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 15:46:01,419 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 15:46:01,419 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 15:46:01,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 15:46:01,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 15:46:01,420 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 15:46:01,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 15:46:01,421 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 15:46:01,424 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 15:46:01,426 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-15 15:46:01,428 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:46:01,428 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Al Rajhi Takaful
2025-12-15 15:46:01,429 - app.services.ai_ranker - INFO - 
üìä Al Rajhi Takaful:
2025-12-15 15:46:01,429 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-15 15:46:01,429 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 15:46:01,429 - app.services.ai_ranker - INFO -    Exclusions: 29
2025-12-15 15:46:01,430 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-15 15:46:01,430 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 15:46:01,430 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Tawuniya
2025-12-15 15:46:01,431 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 15:46:01,431 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 15:46:01,431 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:46:01,432 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 15:46:01,434 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 15:46:01,435 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-15 15:46:01,437 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 15:46:01,438 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 15:46:01,439 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 15:46:01,439 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 15:46:01,440 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "TAWUNIYA",
  "sum_insured_breakdown": {
    "material_damage": "SR 360,328,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 360328000,
    "total_sum_insured": "SR 360,328,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "1%, min SR 1,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "5%, min SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "5%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [
      {
        "range": "all",
        "deductible": "5%, min SR 1,000,000"
      }
    ],
    "applicable_md_tier": {
      "range": "SR 100M to SR 500M",
      "deduc
2025-12-15 15:46:01,447 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:46:01,447 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-15 15:46:01,448 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 15:46:01,448 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 15:46:01,448 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 15:46:01,449 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 15:46:01,449 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 15:46:01,450 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 15:46:01,451 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 15:46:01,455 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 15:46:01,456 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 15:46:01,457 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 15:46:01,458 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 15:46:01,460 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 15:46:01,461 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 15:46:01,461 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 15:46:01,463 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-15 15:46:01,464 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:46:01,465 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Tawuniya
2025-12-15 15:46:01,465 - app.services.ai_ranker - INFO - 
üìä Tawuniya:
2025-12-15 15:46:01,466 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-15 15:46:01,466 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 15:46:01,466 - app.services.ai_ranker - INFO -    Exclusions: 22
2025-12-15 15:46:01,467 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-15 15:46:01,467 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Al Rajhi Takaful
2025-12-15 15:46:01,687 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-15 15:46:01,687 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 15:46:01,687 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 15:46:01,687 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-15 15:46:01,688 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Tawuniya
2025-12-15 15:46:01,841 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-15 15:46:01,841 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 15:46:01,842 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 15:46:01,842 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-15 15:46:01,842 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 15:46:01,843 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-15 15:46:01,843 - app.services.ai_ranker - INFO - ================================================================================

2025-12-15 15:46:01,844 - app.services.ai_ranker - INFO - üìä Al Rajhi Takaful: Hakim Score=80.0 (Baseline), Weighted Score=71.09
2025-12-15 15:46:01,844 - app.services.ai_ranker - INFO - üìä Tawuniya: Hakim Score=96.0 (Premium), Weighted Score=81.86
2025-12-15 15:46:01,845 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-15 15:46:01,846 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-15 15:46:10,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:46:10,934 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-15 15:46:10,935 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-15 15:46:10,936 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-15 15:46:12,590 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:12,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:12,593 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:12,598 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:12,598 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:12,599 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:14,831 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:46:14,833 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Tawuniya: Tawuniya stands out as the best insurance provider due to its superior score of 81.9/100 and competi...
2025-12-15 15:46:14,833 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-15 15:46:14,835 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8
2025-12-15 15:46:14,836 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-15 15:46:14,836 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765813517_3138889c1c26
2025-12-15 15:46:14,837 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 2
2025-12-15 15:46:14,837 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-15 15:46:14,837 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 2
2025-12-15 15:46:14,837 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Al Rajhi Takaful
2025-12-15 15:46:14,838 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 15:46:14,838 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 15:46:14,838 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 15:46:14,838 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 15:46:14,839 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 15:46:14,840 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 15:46:14,841 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Tawuniya
2025-12-15 15:46:14,841 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 15:46:14,841 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 15:46:14,842 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 15:46:14,842 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 15:46:14,842 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 15:46:14,842 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 15:46:14,844 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-15 15:46:14,845 - app.services.mongodb_service_enhanced - INFO -    Summary: 2,836 bytes
2025-12-15 15:46:14,846 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 17,722 bytes
2025-12-15 15:46:14,848 - app.services.mongodb_service_enhanced - INFO -    Data table: 8,149 bytes
2025-12-15 15:46:14,848 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,413 bytes
2025-12-15 15:46:14,849 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 23,554 bytes
2025-12-15 15:46:14,850 - app.services.mongodb_service_enhanced - INFO -    Total document: 113,904 bytes
2025-12-15 15:46:14,850 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-15 15:46:14,851 - app.services.mongodb_service_enhanced - INFO -       premium: 2 items
2025-12-15 15:46:14,851 - app.services.mongodb_service_enhanced - INFO -       rate: 2 items
2025-12-15 15:46:14,852 - app.services.mongodb_service_enhanced - INFO -       score: 2 items
2025-12-15 15:46:14,852 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 2 items
2025-12-15 15:46:14,852 - app.services.mongodb_service_enhanced - INFO -       deductible: 2 items
2025-12-15 15:46:14,852 - app.services.mongodb_service_enhanced - INFO -       coverage: 2 items
2025-12-15 15:46:14,852 - app.services.mongodb_service_enhanced - INFO -       benefits: 2 items
2025-12-15 15:46:14,853 - app.services.mongodb_service_enhanced - INFO -       exclusions: 2 items
2025-12-15 15:46:14,853 - app.services.mongodb_service_enhanced - INFO -       warranties: 2 items
2025-12-15 15:46:14,853 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 2 items
2025-12-15 15:46:14,853 - app.services.mongodb_service_enhanced - INFO -       conditions: 2 items
2025-12-15 15:46:14,853 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 2 items
2025-12-15 15:46:14,854 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 2 items
2025-12-15 15:46:14,854 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 2 items
2025-12-15 15:46:14,856 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-15 15:46:14,857 - app.services.mongodb_service_enhanced - INFO -       - Count: 2
2025-12-15 15:46:14,857 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 15:46:14,858 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:46:14,858 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-15 15:46:14,868 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765813517_3138889c1c26
2025-12-15 15:46:14,869 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 69402d465a37704a1c0a83ec
2025-12-15 15:46:14,876 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-15 15:46:14,877 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-15 15:46:14,877 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-15 15:46:14,877 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-15 15:46:14,877 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-15 15:46:14,878 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-15 15:46:14,878 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-15 15:46:14,878 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 2
2025-12-15 15:46:14,878 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-15 15:46:14,879 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 2
2025-12-15 15:46:14,879 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-15 15:46:14,879 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 2
2025-12-15 15:46:14,880 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 15:46:14,881 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-15 15:46:14,882 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-15 15:46:14,882 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-15 15:46:14,883 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-15 15:46:14,883 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-15 15:46:14,884 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:46:14,885 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 69402d465a37704a1c0a83ec
2025-12-15 15:46:14,885 - app.api.routes - INFO -    Database: hakemAI
2025-12-15 15:46:14,886 - app.api.routes - INFO -    Collection: comparisons
2025-12-15 15:46:14,886 - app.api.routes - INFO -    Comparison ID: cmp_1765813517_3138889c1c26
2025-12-15 15:46:14,886 - app.api.routes - INFO -    User ID: 69402af41ac37a9c504e265c
2025-12-15 15:46:14,886 - app.api.routes - INFO -    Company ID: 69402bf81ac37a9c504e26c8
2025-12-15 15:46:14,894 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 15:46:14,895 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 15:46:14,895 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:46:14,895 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-15 15:46:14,895 - app.api.routes - INFO - ======================================================================
2025-12-15 15:46:14,896 - app.api.routes - INFO - üìä Comparison ID: cmp_1765813517_3138889c1c26
2025-12-15 15:46:14,896 - app.api.routes - INFO - üë§ User ID: 69402af41ac37a9c504e265c
2025-12-15 15:46:14,896 - app.api.routes - INFO - üìÑ Files Processed: 2/2
2025-12-15 15:46:14,896 - app.api.routes - INFO - üíæ Saved to MongoDB: 2 PDFs + 1 comparison
2025-12-15 15:46:14,897 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 15:46:14,897 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 15:46:14,897 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 15:46:14,902 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 15:46:14,904 - app.api.routes - INFO - üìä Remaining comparisons: 249
2025-12-15 15:46:14,905 - app.api.routes - INFO - ======================================================================

2025-12-15 15:46:14,905 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_4d69fcd20ec6 ‚Üí comparison_id: cmp_1765813517_3138889c1c26
2025-12-15 15:46:14,909 - main - INFO - üì§ POST /api/compare-quotes - 200 - 57.26s
2025-12-15 15:46:15,150 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:15,154 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:15,158 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:15,164 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:15,166 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:15,169 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:46:15,192 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:15,197 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:15,200 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:15,208 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:15,211 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:15,217 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:46:15,221 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:15,223 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:15,230 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:15,237 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:15,250 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:15,253 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:46:15,257 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:15,259 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:15,261 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:15,266 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:15,271 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:15,276 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:46:20,463 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:20,464 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:20,467 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:20,471 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:20,472 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:20,473 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:21,940 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:21,940 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:21,942 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:21,943 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:21,943 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:21,943 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:22,507 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:22,508 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:22,510 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:22,514 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:22,517 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:22,518 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:22,530 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:22,534 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:22,536 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:22,539 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:22,540 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:22,541 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:25,949 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:25,949 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:25,950 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:25,952 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:25,952 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:25,952 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:26,497 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:26,499 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,503 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:26,507 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:26,507 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,508 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:26,519 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:26,520 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,524 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:26,527 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:26,528 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,529 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:26,851 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:26,852 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,854 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:26,855 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:26,856 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:26,856 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:27,285 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:27,286 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,288 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:27,291 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:27,292 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,293 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:27,301 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:27,303 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,306 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:27,309 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:27,310 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,310 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:27,576 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:27,577 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,578 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:27,580 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:27,581 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:27,581 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:28,095 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:28,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,098 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:28,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:28,101 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,102 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:28,110 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:28,112 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,115 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:28,117 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:28,118 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,118 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:28,963 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:28,964 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,965 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:28,967 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:28,967 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:28,967 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:29,452 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:29,453 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,456 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:29,459 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:29,460 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,461 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:29,467 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:29,469 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,473 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:29,476 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:29,476 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,477 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:29,611 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:29,612 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,614 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:29,615 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:29,615 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,616 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:29,852 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:29,853 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,854 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:29,858 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:29,858 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:29,859 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:30,059 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:30,060 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,061 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:30,063 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:30,063 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,063 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:30,236 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:30,237 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,239 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:30,241 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:30,242 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,242 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:30,404 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:30,405 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,408 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:30,410 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:30,411 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:30,411 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:31,034 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:31,035 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,039 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:31,044 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:31,046 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,048 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:31,058 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:31,059 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,062 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:31,064 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:31,064 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,065 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:31,645 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:31,646 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,648 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:31,649 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:31,649 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:31,650 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:32,089 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:32,090 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:32,092 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:32,095 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:32,095 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:32,098 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:32,101 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:32,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:32,108 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:32,113 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:32,114 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:32,115 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:35,023 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-15 15:46:35,025 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-15 15:46:35,029 - main - INFO - üì• OPTIONS /api/my-documents
2025-12-15 15:46:35,031 - main - INFO - üì§ OPTIONS /api/my-documents - 200 - 0.00s
2025-12-15 15:46:35,035 - main - INFO - üì• GET /api/my-documents
2025-12-15 15:46:35,038 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:35,039 - main - INFO - üì§ GET /api/my-documents - 200 - 0.00s
2025-12-15 15:46:35,044 - main - INFO - üì• GET /api/my-documents
2025-12-15 15:46:35,048 - app.services.user_documents_service - INFO - üìã Found 0 documents for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:35,049 - main - INFO - üì§ GET /api/my-documents - 200 - 0.00s
2025-12-15 15:46:36,306 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:36,307 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,309 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:36,312 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:36,312 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,313 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:36,319 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:36,320 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,327 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:36,329 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:36,330 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,333 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:36,337 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:36,339 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,341 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:36,347 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:36,348 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,349 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:36,352 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:36,353 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,357 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:36,361 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:36,363 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:36,364 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:38,388 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:38,389 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,390 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:38,392 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:38,392 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,393 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:38,864 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:38,866 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,871 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:38,881 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:38,884 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,886 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:46:38,895 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:38,896 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,898 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:38,901 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:38,902 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:38,904 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:40,300 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:40,301 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,302 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:40,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:40,303 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,303 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:40,499 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:40,500 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,501 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:40,502 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:40,502 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,503 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:46:40,697 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:40,698 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,700 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:40,702 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:40,702 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,703 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:40,844 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:40,845 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,846 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:40,848 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:40,848 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:40,849 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:41,165 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:41,166 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,167 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:41,170 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:41,170 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,171 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:41,382 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:41,383 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,387 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:41,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:41,414 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,415 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:46:41,423 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:41,425 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,429 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:46:41,432 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:46:41,433 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:46:41,436 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:46:45,599 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:46:45,599 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:46:45,600 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:46:45,602 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:46:45,602 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:46:45,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:47:11,692 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:11,693 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:47:11,694 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:47:11,695 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:47:11,695 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:47:11,696 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:47:12,284 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:12,284 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:47:12,285 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:47:12,287 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:47:12,287 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:47:12,288 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:47:14,960 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:14,961 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:47:14,968 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:47:14,973 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:47:14,974 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:47:14,976 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:47:14,984 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:14,985 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:47:14,988 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:47:14,991 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:47:14,991 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:47:14,993 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:47:15,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:15,294 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:47:15,298 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:47:15,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:47:15,304 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:47:15,307 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:47:45,285 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:45,286 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:47:45,287 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:47:45,289 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:47:45,289 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:47:45,290 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:47:45,475 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:47:45,476 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:47:45,478 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:47:45,480 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:47:45,480 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:47:45,483 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:48:12,279 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:48:12,280 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:48:12,281 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:48:12,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:48:12,283 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:48:12,284 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:48:15,605 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:48:15,606 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:48:15,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:48:15,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:48:15,611 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:48:15,612 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:48:45,285 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:48:45,286 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:48:45,287 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:48:45,291 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:48:45,292 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:48:45,293 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:49:12,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:49:12,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:49:12,595 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:49:12,597 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:49:12,597 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:49:12,599 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:49:15,586 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:49:15,587 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:49:15,588 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:49:15,590 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:49:15,590 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:49:15,591 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:49:45,280 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:49:45,281 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:49:45,282 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:49:45,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:49:45,283 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:49:45,284 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:50:01,815 - main - INFO - 
2025-12-15 15:50:01,816 - main - INFO - ================================================================================
2025-12-15 15:50:01,816 - main - INFO -   üõë Shutting down application...
2025-12-15 15:50:01,818 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-15 15:50:01,818 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-15 15:50:01,819 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-15 15:50:01,819 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-15 15:50:01,820 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-15 15:50:01,820 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-15 15:50:01,821 - main - INFO -   ‚úÖ Cleaned up 2 temporary files
2025-12-15 15:50:01,822 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-15 15:50:01,822 - main - INFO - ================================================================================
2025-12-15 15:50:01,823 - main - INFO - 
2025-12-15 15:50:07,536 - main - INFO - 
2025-12-15 15:50:07,536 - main - INFO - ================================================================================
2025-12-15 15:50:07,537 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 15:50:07,537 - main - INFO -   Production-Ready Complete Integration
2025-12-15 15:50:07,537 - main - INFO - ================================================================================
2025-12-15 15:50:07,537 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 15:50:07,537 - main - INFO -   Upload Directory: uploads
2025-12-15 15:50:07,538 - main - INFO -   Max File Size: 20MB
2025-12-15 15:50:07,538 - main - INFO - ================================================================================
2025-12-15 15:50:07,538 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 15:50:07,538 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 15:50:07,539 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 15:50:07,833 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 15:50:07,838 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 15:50:07,838 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 15:50:07,839 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 15:50:07,839 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 15:50:07,839 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 15:50:07,866 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 15:50:07,868 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 15:50:07,869 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 15:50:07,872 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 15:50:07,873 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 15:50:07,873 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 15:50:07,873 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 15:50:07,874 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 15:50:07,884 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 15:50:07,884 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 15:50:07,885 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 15:50:07,885 - main - INFO - 
2025-12-15 15:50:07,885 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 15:50:07,885 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 15:50:07,885 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 15:50:07,886 - main - INFO -        - Separates warranties from extensions
2025-12-15 15:50:07,886 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 15:50:07,886 - main - INFO -        - Correct deductible tier detection
2025-12-15 15:50:07,886 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 15:50:07,886 - main - INFO - 
2025-12-15 15:50:07,887 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 15:50:07,887 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 15:50:07,887 - main - INFO -        - Identifies unique items per provider
2025-12-15 15:50:07,887 - main - INFO -        - Transparent scoring methodology
2025-12-15 15:50:07,887 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 15:50:07,887 - main - INFO - 
2025-12-15 15:50:07,888 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 15:50:07,888 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 15:50:07,888 - main - INFO -        - No manual section generation
2025-12-15 15:50:07,888 - main - INFO -        - Complete MongoDB integration
2025-12-15 15:50:07,888 - main - INFO - 
2025-12-15 15:50:07,888 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 15:50:07,889 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 15:50:07,889 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 15:50:07,889 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 15:50:07,889 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 15:50:07,889 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 15:50:07,890 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 15:50:07,890 - main - INFO - 
2025-12-15 15:50:07,890 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 15:50:07,890 - main - INFO -      Main:
2025-12-15 15:50:07,890 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 15:50:07,891 - main - INFO - 
2025-12-15 15:50:07,891 - main - INFO -      Retrieval:
2025-12-15 15:50:07,891 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 15:50:07,891 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 15:50:07,891 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 15:50:07,891 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 15:50:07,892 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 15:50:07,892 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 15:50:07,892 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 15:50:07,892 - main - INFO - 
2025-12-15 15:50:07,892 - main - INFO -      Management:
2025-12-15 15:50:07,893 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 15:50:07,893 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 15:50:07,893 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 15:50:07,893 - main - INFO - 
2025-12-15 15:50:07,894 - main - INFO -      Documents (MongoDB):
2025-12-15 15:50:07,894 - main - INFO -        GET  /api/documents                All documents
2025-12-15 15:50:07,894 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 15:50:07,895 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 15:50:07,895 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 15:50:07,896 - main - INFO - 
2025-12-15 15:50:07,896 - main - INFO -      Diagnostics & Health:
2025-12-15 15:50:07,897 - main - INFO -        GET  /api/health                   System health
2025-12-15 15:50:07,897 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 15:50:07,897 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 15:50:07,898 - main - INFO - 
2025-12-15 15:50:07,898 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 15:50:07,898 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 15:50:07,898 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 15:50:07,898 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 15:50:07,899 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 15:50:07,899 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 15:50:07,899 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 15:50:07,899 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 15:50:07,899 - main - INFO - 
2025-12-15 15:50:07,899 - main - INFO -   üéØ WORKFLOW:
2025-12-15 15:50:07,900 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 15:50:07,900 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 15:50:07,900 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 15:50:07,900 - main - INFO -      4. No re-upload needed!
2025-12-15 15:50:07,900 - main - INFO - 
2025-12-15 15:50:07,900 - main - INFO - ================================================================================
2025-12-15 15:50:07,901 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 15:50:07,901 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 15:50:07,901 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 15:50:07,901 - main - INFO - ================================================================================
2025-12-15 15:50:07,901 - main - INFO - 
2025-12-15 15:50:07,902 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 15:50:12,598 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:50:12,599 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:50:12,601 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:50:12,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:50:12,603 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:50:12,605 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:50:15,597 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:50:15,598 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:50:15,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:50:15,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:50:15,601 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:50:15,601 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:50:45,297 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:50:45,298 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:50:45,300 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:50:45,302 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:50:45,302 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:50:45,303 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:50:49,365 - main - INFO - 
2025-12-15 15:50:49,366 - main - INFO - ================================================================================
2025-12-15 15:50:49,367 - main - INFO -   üõë Shutting down application...
2025-12-15 15:50:49,369 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-15 15:50:49,370 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-15 15:50:49,372 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-15 15:50:49,373 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-15 15:50:49,375 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-15 15:50:49,376 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-15 15:50:49,379 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-15 15:50:49,381 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-15 15:50:49,382 - main - INFO - ================================================================================
2025-12-15 15:50:49,383 - main - INFO - 
2025-12-15 15:50:52,977 - main - INFO - 
2025-12-15 15:50:52,978 - main - INFO - ================================================================================
2025-12-15 15:50:52,978 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 15:50:52,978 - main - INFO -   Production-Ready Complete Integration
2025-12-15 15:50:52,978 - main - INFO - ================================================================================
2025-12-15 15:50:52,979 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 15:50:52,979 - main - INFO -   Upload Directory: uploads
2025-12-15 15:50:52,979 - main - INFO -   Max File Size: 20MB
2025-12-15 15:50:52,979 - main - INFO - ================================================================================
2025-12-15 15:50:52,980 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 15:50:52,980 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 15:50:52,980 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 15:50:53,002 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 15:50:53,019 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 15:50:53,019 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 15:50:53,020 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 15:50:53,020 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 15:50:53,020 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 15:50:53,032 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 15:50:53,034 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 15:50:53,036 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 15:50:53,043 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 15:50:53,044 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 15:50:53,044 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 15:50:53,045 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 15:50:53,045 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 15:50:53,060 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 15:50:53,060 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 15:50:53,060 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 15:50:53,061 - main - INFO - 
2025-12-15 15:50:53,061 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 15:50:53,061 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 15:50:53,061 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 15:50:53,062 - main - INFO -        - Separates warranties from extensions
2025-12-15 15:50:53,062 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 15:50:53,062 - main - INFO -        - Correct deductible tier detection
2025-12-15 15:50:53,062 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 15:50:53,062 - main - INFO - 
2025-12-15 15:50:53,063 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 15:50:53,063 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 15:50:53,063 - main - INFO -        - Identifies unique items per provider
2025-12-15 15:50:53,064 - main - INFO -        - Transparent scoring methodology
2025-12-15 15:50:53,064 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 15:50:53,065 - main - INFO - 
2025-12-15 15:50:53,065 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 15:50:53,065 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 15:50:53,066 - main - INFO -        - No manual section generation
2025-12-15 15:50:53,066 - main - INFO -        - Complete MongoDB integration
2025-12-15 15:50:53,066 - main - INFO - 
2025-12-15 15:50:53,066 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 15:50:53,067 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 15:50:53,067 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 15:50:53,067 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 15:50:53,067 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 15:50:53,068 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 15:50:53,068 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 15:50:53,069 - main - INFO - 
2025-12-15 15:50:53,069 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 15:50:53,069 - main - INFO -      Main:
2025-12-15 15:50:53,069 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 15:50:53,070 - main - INFO - 
2025-12-15 15:50:53,070 - main - INFO -      Retrieval:
2025-12-15 15:50:53,070 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 15:50:53,070 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 15:50:53,071 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 15:50:53,071 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 15:50:53,071 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 15:50:53,072 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 15:50:53,073 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 15:50:53,074 - main - INFO - 
2025-12-15 15:50:53,075 - main - INFO -      Management:
2025-12-15 15:50:53,075 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 15:50:53,076 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 15:50:53,076 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 15:50:53,076 - main - INFO - 
2025-12-15 15:50:53,077 - main - INFO -      Documents (MongoDB):
2025-12-15 15:50:53,077 - main - INFO -        GET  /api/documents                All documents
2025-12-15 15:50:53,077 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 15:50:53,077 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 15:50:53,078 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 15:50:53,078 - main - INFO - 
2025-12-15 15:50:53,078 - main - INFO -      Diagnostics & Health:
2025-12-15 15:50:53,078 - main - INFO -        GET  /api/health                   System health
2025-12-15 15:50:53,079 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 15:50:53,079 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 15:50:53,079 - main - INFO - 
2025-12-15 15:50:53,080 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 15:50:53,080 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 15:50:53,080 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 15:50:53,081 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 15:50:53,081 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 15:50:53,081 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 15:50:53,082 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 15:50:53,082 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 15:50:53,082 - main - INFO - 
2025-12-15 15:50:53,083 - main - INFO -   üéØ WORKFLOW:
2025-12-15 15:50:53,083 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 15:50:53,083 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 15:50:53,084 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 15:50:53,084 - main - INFO -      4. No re-upload needed!
2025-12-15 15:50:53,084 - main - INFO - 
2025-12-15 15:50:53,084 - main - INFO - ================================================================================
2025-12-15 15:50:53,085 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 15:50:53,085 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 15:50:53,086 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 15:50:53,086 - main - INFO - ================================================================================
2025-12-15 15:50:53,086 - main - INFO - 
2025-12-15 15:50:53,087 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 15:51:12,603 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:51:12,604 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 15:51:12,608 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:12,612 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:51:12,614 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:51:12,617 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:51:12,617 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:51:12,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:25,360 - main - INFO - 
2025-12-15 15:51:25,361 - main - INFO - ================================================================================
2025-12-15 15:51:25,361 - main - INFO -   üõë Shutting down application...
2025-12-15 15:51:25,363 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-15 15:51:25,363 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-15 15:51:25,364 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-15 15:51:25,365 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-15 15:51:25,366 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-15 15:51:25,366 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-15 15:51:25,367 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-15 15:51:25,367 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-15 15:51:25,368 - main - INFO - ================================================================================
2025-12-15 15:51:25,368 - main - INFO - 
2025-12-15 15:51:28,245 - main - INFO - 
2025-12-15 15:51:28,245 - main - INFO - ================================================================================
2025-12-15 15:51:28,245 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 15:51:28,245 - main - INFO -   Production-Ready Complete Integration
2025-12-15 15:51:28,246 - main - INFO - ================================================================================
2025-12-15 15:51:28,246 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 15:51:28,246 - main - INFO -   Upload Directory: uploads
2025-12-15 15:51:28,247 - main - INFO -   Max File Size: 20MB
2025-12-15 15:51:28,247 - main - INFO - ================================================================================
2025-12-15 15:51:28,247 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 15:51:28,248 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 15:51:28,248 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 15:51:28,280 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 15:51:28,285 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 15:51:28,285 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 15:51:28,286 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 15:51:28,286 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 15:51:28,286 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 15:51:28,293 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 15:51:28,294 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 15:51:28,295 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 15:51:28,296 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 15:51:28,297 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 15:51:28,297 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 15:51:28,297 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 15:51:28,297 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 15:51:28,328 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 15:51:28,329 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 15:51:28,330 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 15:51:28,330 - main - INFO - 
2025-12-15 15:51:28,331 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 15:51:28,331 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 15:51:28,332 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 15:51:28,332 - main - INFO -        - Separates warranties from extensions
2025-12-15 15:51:28,333 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 15:51:28,333 - main - INFO -        - Correct deductible tier detection
2025-12-15 15:51:28,334 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 15:51:28,334 - main - INFO - 
2025-12-15 15:51:28,334 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 15:51:28,335 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 15:51:28,335 - main - INFO -        - Identifies unique items per provider
2025-12-15 15:51:28,336 - main - INFO -        - Transparent scoring methodology
2025-12-15 15:51:28,336 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 15:51:28,337 - main - INFO - 
2025-12-15 15:51:28,337 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 15:51:28,337 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 15:51:28,338 - main - INFO -        - No manual section generation
2025-12-15 15:51:28,338 - main - INFO -        - Complete MongoDB integration
2025-12-15 15:51:28,339 - main - INFO - 
2025-12-15 15:51:28,339 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 15:51:28,340 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 15:51:28,340 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 15:51:28,340 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 15:51:28,341 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 15:51:28,341 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 15:51:28,341 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 15:51:28,342 - main - INFO - 
2025-12-15 15:51:28,342 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 15:51:28,342 - main - INFO -      Main:
2025-12-15 15:51:28,343 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 15:51:28,343 - main - INFO - 
2025-12-15 15:51:28,343 - main - INFO -      Retrieval:
2025-12-15 15:51:28,344 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 15:51:28,344 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 15:51:28,344 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 15:51:28,345 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 15:51:28,345 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 15:51:28,345 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 15:51:28,345 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 15:51:28,346 - main - INFO - 
2025-12-15 15:51:28,346 - main - INFO -      Management:
2025-12-15 15:51:28,346 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 15:51:28,347 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 15:51:28,347 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 15:51:28,347 - main - INFO - 
2025-12-15 15:51:28,347 - main - INFO -      Documents (MongoDB):
2025-12-15 15:51:28,348 - main - INFO -        GET  /api/documents                All documents
2025-12-15 15:51:28,348 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 15:51:28,348 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 15:51:28,348 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 15:51:28,349 - main - INFO - 
2025-12-15 15:51:28,349 - main - INFO -      Diagnostics & Health:
2025-12-15 15:51:28,349 - main - INFO -        GET  /api/health                   System health
2025-12-15 15:51:28,349 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 15:51:28,349 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 15:51:28,350 - main - INFO - 
2025-12-15 15:51:28,350 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 15:51:28,350 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 15:51:28,350 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 15:51:28,350 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 15:51:28,351 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 15:51:28,351 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 15:51:28,351 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 15:51:28,351 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 15:51:28,351 - main - INFO - 
2025-12-15 15:51:28,352 - main - INFO -   üéØ WORKFLOW:
2025-12-15 15:51:28,352 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 15:51:28,352 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 15:51:28,352 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 15:51:28,352 - main - INFO -      4. No re-upload needed!
2025-12-15 15:51:28,353 - main - INFO - 
2025-12-15 15:51:28,353 - main - INFO - ================================================================================
2025-12-15 15:51:28,353 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 15:51:28,353 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 15:51:28,353 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 15:51:28,353 - main - INFO - ================================================================================
2025-12-15 15:51:28,354 - main - INFO - 
2025-12-15 15:51:28,354 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 15:51:31,336 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:31,337 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:31,338 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:31,339 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:31,339 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:31,340 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:51:33,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:33,299 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:33,303 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:33,308 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:33,310 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:33,312 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:51:33,334 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:33,339 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:33,346 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:33,364 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:33,365 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:33,366 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:51:35,689 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:35,691 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:35,695 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:35,698 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:35,699 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:35,701 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:35,714 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:35,716 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:35,719 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:35,721 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:35,724 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:35,726 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:36,818 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:36,821 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:36,825 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:36,828 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:36,829 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:36,830 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:36,835 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:36,836 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:36,841 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:36,844 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:36,845 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:36,846 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:37,507 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:37,509 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:37,514 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:37,517 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:37,517 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:37,518 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:37,525 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:37,527 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:51:37,529 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:51:37,533 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:51:37,533 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:51:37,534 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:41,516 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:41,517 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:51:41,518 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:51:41,519 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:51:41,520 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:51:41,521 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:51:41,526 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:41,526 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:51:41,529 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:51:41,534 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:51:41,535 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:51:41,537 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:41,540 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:41,541 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:51:41,542 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:51:41,546 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:51:41,548 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:51:41,551 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:51:41,558 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:51:41,560 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:51:41,564 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:51:41,570 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:51:41,579 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:51:41,581 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:52:00,795 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 15:52:00,873 - app.api.routes - INFO - üîç Checking user subscription for user: 69402af41ac37a9c504e265c
2025-12-15 15:52:00,875 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 15:52:00,877 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 15:52:00,878 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 15:52:00,881 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 15:52:00,886 - app.api.routes - INFO - ‚úÖ User 69402af41ac37a9c504e265c can perform comparison
2025-12-15 15:52:00,887 - app.api.routes - INFO -    - Remaining comparisons: 249
2025-12-15 15:52:00,891 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-15 15:52:00,893 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-15 15:52:00,898 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765813920_2ec94a5938ec
2025-12-15 15:52:00,898 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_ac8fee950ab0 (3 files)
2025-12-15 15:52:00,900 - app.api.routes - INFO - üìä Initialized progress tracking: job_ac8fee950ab0
2025-12-15 15:52:00,902 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:52:00,903 - app.api.routes - INFO - üìÑ Processing: CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:52:00,903 - app.api.routes - INFO - ======================================================================
2025-12-15 15:52:00,904 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:52:00,904 - app.api.routes - INFO - üìÑ Processing: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:52:00,907 - app.api.routes - INFO - ======================================================================
2025-12-15 15:52:00,911 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:52:00,913 - app.api.routes - INFO - üìÑ Processing: UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:52:00,915 - app.api.routes - INFO - ======================================================================
2025-12-15 15:52:00,918 - app.api.routes - INFO - üíæ Saved file: UCA Al Murjan Mediclinic - PL Quotation R6.pdf ‚Üí a3b845eac9b34844b900f2999da3279c.pdf (219426 bytes)
2025-12-15 15:52:00,921 - app.api.routes - INFO - üìñ Extracting text from: UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:52:00,929 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\a3b845eac9b34844b900f2999da3279c.pdf
2025-12-15 15:52:01,048 - app.services.pdf_extractor - INFO - Successfully extracted 4842 characters from 4 pages
2025-12-15 15:52:01,056 - app.api.routes - INFO - ü§ñ Parsing with AI: UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:52:01,063 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:52:01,072 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: United Cooperative Assurance (UCA) (pattern: \buca\b)
2025-12-15 15:52:01,078 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): United Cooperative Assurance (UCA)
2025-12-15 15:52:01,080 - app.services.ai_parser - INFO - üë§ Insured (Customer): Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 15:52:01,082 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 15:52:01,087 - app.services.ai_parser - INFO - üìã Detected format: UCA
2025-12-15 15:52:01,127 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-15 15:52:01,129 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 15:52:02,025 - app.api.routes - INFO - üíæ Saved file: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf ‚Üí aecb0ab411884ceea9911387f2102aa8.pdf (1533627 bytes)
2025-12-15 15:52:02,026 - app.api.routes - INFO - üìñ Extracting text from: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:52:02,027 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\aecb0ab411884ceea9911387f2102aa8.pdf
2025-12-15 15:52:02,179 - app.api.routes - INFO - üíæ Saved file: CGL 2024 offer - Tawuniya.pdf ‚Üí 1151aac171cd4a3499796942789732df.pdf (2319198 bytes)
2025-12-15 15:52:02,221 - app.api.routes - INFO - üìñ Extracting text from: CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:52:02,264 - app.services.pdf_extractor - INFO - Successfully extracted 11710 characters from 17 pages
2025-12-15 15:52:02,264 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\1151aac171cd4a3499796942789732df.pdf
2025-12-15 15:52:02,271 - app.api.routes - INFO - ü§ñ Parsing with AI: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:52:02,419 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:52:02,433 - app.services.pdf_extractor - INFO - Successfully extracted 5520 characters from 4 pages
2025-12-15 15:52:02,434 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from text: Al Rajhi Takaful
2025-12-15 15:52:02,435 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Al Rajhi Takaful
2025-12-15 15:52:02,436 - app.services.ai_parser - INFO - üë§ Insured (Customer): Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al
2025-12-15 15:52:02,436 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 15:52:02,436 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-15 15:52:02,521 - app.services.ai_parser - INFO - üéØ Pre-extracted 2 sublimits
2025-12-15 15:52:02,522 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 15:52:02,527 - app.api.routes - INFO - ü§ñ Parsing with AI: CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:52:02,527 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:52:02,527 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Tawuniya (pattern: \btawuniya\b)
2025-12-15 15:52:02,528 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-15 15:52:02,529 - app.services.ai_parser - INFO - üë§ Insured (Customer): TO THEIR PATIENTS SUB
2025-12-15 15:52:02,530 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 15:52:02,531 - app.services.ai_parser - INFO - üìã Detected format: TAWUNIYA
2025-12-15 15:52:02,561 - app.services.ai_parser - INFO - üéØ Pre-extracted 0 sublimits
2025-12-15 15:52:02,563 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 15:52:05,693 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:05,693 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:05,695 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:05,696 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:05,696 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:05,696 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:06,183 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:06,184 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:06,187 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:06,191 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:06,193 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:06,195 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:06,202 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:06,204 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:06,208 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:06,212 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:06,213 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:06,215 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:07,107 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:07,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,109 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:07,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:07,111 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:07,616 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:07,622 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,625 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:07,629 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:07,630 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,630 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:07,635 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:07,636 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,638 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:07,641 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:07,641 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:07,642 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:12,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:12,593 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:52:12,594 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:52:12,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:52:12,597 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:52:12,598 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:17,135 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:17,135 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,136 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:17,137 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:17,138 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,138 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:17,578 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:17,580 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,582 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:17,586 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:17,587 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,588 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:17,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:17,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:17,602 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:17,603 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:17,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:18,236 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:18,237 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,238 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:18,240 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:18,240 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,241 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:18,800 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:18,802 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,805 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:18,808 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:18,809 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,810 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:18,818 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:18,821 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,823 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:18,826 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:18,826 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:18,827 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:19,237 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:19,238 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,241 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:19,247 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:19,247 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,248 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:19,468 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:19,469 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,471 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:19,474 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:19,475 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,476 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:19,677 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:19,678 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,680 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:19,682 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:19,683 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,683 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:19,868 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:19,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,871 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:19,875 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:19,875 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:19,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:20,052 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,053 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,055 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,057 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,057 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,058 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:20,244 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,245 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,247 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,249 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,250 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,250 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:20,435 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,436 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,437 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,438 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,439 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,439 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:20,604 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,604 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,606 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,608 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,608 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,609 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:20,773 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,774 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,776 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,777 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,778 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,778 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:20,941 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:20,942 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,944 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:20,947 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:20,947 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:20,948 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:21,673 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:21,676 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,680 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:21,684 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:21,685 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,686 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:21,696 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:21,697 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,699 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:21,702 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:21,703 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,704 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:21,990 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:21,992 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,994 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:21,996 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:21,998 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:21,998 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:22,179 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:22,180 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,182 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:22,183 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:22,183 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,184 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:22,388 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:22,389 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,391 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:22,394 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:22,394 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,395 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:22,580 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:22,581 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,582 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:22,585 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:22,585 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,585 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:22,795 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:22,796 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,798 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:22,800 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:22,801 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:22,802 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:23,013 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,014 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,015 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,018 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,018 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,019 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:23,212 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,212 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,214 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,215 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,216 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,216 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:23,412 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,413 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,414 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,415 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,415 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,416 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:23,612 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,613 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,614 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,615 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,615 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,616 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:52:23,837 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,843 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,845 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,848 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,849 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,850 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:23,987 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:23,988 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,990 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:23,992 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:23,992 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:23,993 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:25,019 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:25,031 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:25,040 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:25,045 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:25,049 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:25,050 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:52:25,056 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:25,060 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:25,063 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:25,067 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:25,068 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:25,069 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:52:27,963 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:52:27,971 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 15:52:27,971 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 15:52:27,972 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 15:52:27,972 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 1 warranties, using fallback...
2025-12-15 15:52:27,974 - app.services.ai_parser - INFO - ‚ö†Ô∏è Fallback extracted 1 warranties from patterns
2025-12-15 15:52:27,974 - app.services.ai_parser - INFO - ‚úÖ Enhanced warranties: 1 total
2025-12-15 15:52:27,974 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 2 benefits, using fallback...
2025-12-15 15:52:27,979 - app.services.ai_parser - INFO - üìã Fallback extracted 13 benefits from patterns
2025-12-15 15:52:27,980 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 13 total
2025-12-15 15:52:27,980 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 15:52:55,278 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:52:55,279 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:52:55,282 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:52:55,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:52:55,283 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:52:55,284 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:12,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:12,603 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:53:12,606 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:53:12,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:53:12,611 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:53:12,614 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:25,596 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:25,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:25,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:25,599 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:25,599 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:25,600 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:53:32,060 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:32,060 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,062 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:32,063 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:32,063 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,063 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:53:32,514 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:32,515 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,520 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:32,525 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:32,527 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,528 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:32,536 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:32,538 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,541 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:32,544 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:32,545 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:32,550 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:37,068 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:37,068 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,070 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:37,071 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:37,072 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,072 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:53:37,503 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:37,505 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,508 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:37,511 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:37,512 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,515 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:37,521 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:37,523 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,526 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:37,528 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:37,529 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,530 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:37,941 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:37,943 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,944 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:37,946 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:37,947 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:37,947 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:38,133 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:38,134 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,136 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:38,137 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:38,138 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,140 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:38,722 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:38,724 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,726 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:38,730 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:38,730 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,731 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:38,744 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:38,747 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,752 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:38,759 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:38,760 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:38,761 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:53:40,630 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:40,632 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:40,634 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:40,637 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:40,638 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:40,646 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:53:40,658 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:53:40,660 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:53:40,662 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:53:40,665 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:53:40,666 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:53:40,667 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:53:54,520 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:53:54,524 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:54:11,602 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:54:11,604 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:54:11,606 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:54:11,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:54:11,611 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:54:11,612 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:54:12,604 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:54:12,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:54:12,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:54:12,612 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:54:12,613 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:54:12,614 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:54:40,644 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:54:40,645 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:54:40,646 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:54:40,648 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:54:40,648 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:54:40,649 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:55:11,597 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 15:55:11,598 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 15:55:11,602 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:11,604 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:55:11,607 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:55:11,612 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:55:11,614 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:55:11,615 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:55:12,592 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:12,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:55:12,597 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:55:12,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:55:12,602 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:55:12,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:55:18,463 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:18,464 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:55:18,466 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:55:18,468 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:55:18,468 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:55:18,469 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:55:20,005 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:20,025 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:55:20,052 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:55:20,066 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:55:20,067 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:55:20,067 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-15 15:55:20,073 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:20,104 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:55:20,140 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:55:20,151 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:55:20,158 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:55:20,170 - main - INFO - üì§ GET /api/comparisons - 200 - 0.10s
2025-12-15 15:55:37,152 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 15:55:37,153 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 15:55:37,153 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 15:55:37,153 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 7 benefits, using fallback...
2025-12-15 15:55:37,155 - app.services.ai_parser - INFO - üìã Fallback extracted 27 benefits from patterns
2025-12-15 15:55:37,155 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 26 total
2025-12-15 15:55:37,156 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 15:55:37,159 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:55:37,162 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 15:55:37,162 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 15:55:37,163 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Could not normalize rate: N/A
2025-12-15 15:55:37,163 - app.services.ai_parser - INFO - üîÑ Rate: 'N/A' ‚Üí 'N/A'
2025-12-15 15:55:37,164 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: SR 25,000
2025-12-15 15:55:37,164 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 15:55:37,164 - app.services.ai_parser - INFO - üìä Counts: 13 benefits, 22 exclusions, 1 warranties, 0 extensions
2025-12-15 15:55:42,565 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:55:42,569 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-15 15:55:42,570 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 15:55:42,571 - app.services.ai_parser - INFO - 
2025-12-15 15:55:42,572 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:55:42,573 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:55:42,575 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:55:42,576 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-15 15:55:42,577 - app.services.ai_parser - INFO - üë§ Insured: TO THEIR PATIENTS SUB
2025-12-15 15:55:42,578 - app.services.ai_parser - INFO - üí∞ Premium: SAR 42,500.00
2025-12-15 15:55:42,578 - app.services.ai_parser - INFO - üìä Rate: N/A
2025-12-15 15:55:42,580 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-15 15:55:42,581 - app.services.ai_parser - INFO - üìè Quality: 92.0/100
2025-12-15 15:55:42,581 - app.services.ai_parser - INFO - üîß Deductible: MD: SR 25,000
2025-12-15 15:55:42,582 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 15:55:42,583 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 15:55:42,584 - app.services.ai_parser - INFO - 
2025-12-15 15:55:42,584 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 15:55:42,585 - app.services.ai_parser - INFO -    ‚úì Benefits: 13
2025-12-15 15:55:42,586 - app.services.ai_parser - INFO -    ‚úì Exclusions: 22
2025-12-15 15:55:42,586 - app.services.ai_parser - INFO -    ‚úì Warranties: 1
2025-12-15 15:55:42,587 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-15 15:55:42,588 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 15:55:42,589 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:55:42,594 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 1151aac171cd4a3499796942789732df.pdf ‚Üí 69402f7ebfd794e62bed2c2d
2025-12-15 15:55:42,596 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69402f7ebfd794e62bed2c2d
2025-12-15 15:55:42,623 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: CGL 2024 offer - Tawuniya.pdf ‚Üí 69402f7ebfd794e62bed2c2e (2319198 bytes)
2025-12-15 15:55:42,625 - app.api.routes - INFO - ‚úÖ Saved user document: CGL 2024 offer - Tawuniya.pdf ‚Üí 69402f7ebfd794e62bed2c2e
2025-12-15 15:55:42,625 - app.api.routes - INFO - ‚úÖ Successfully processed: CGL 2024 offer - Tawuniya.pdf
2025-12-15 15:55:43,820 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:55:43,824 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 15:55:43,825 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 15:55:43,825 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Extracted rate 47 > 10, likely premium confusion
2025-12-15 15:55:43,825 - app.services.ai_parser - INFO - üîÑ Rate: 'SAR 47,500' ‚Üí 'N/A'
2025-12-15 15:55:43,825 - app.services.ai_parser - INFO - üí∞ Calculated: 950000000.00 from SI: 20000000.0 √ó Rate: SAR 47,500
2025-12-15 15:55:43,826 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: SAR 5,000
2025-12-15 15:55:43,826 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 15:55:43,826 - app.services.ai_parser - INFO - üìä Counts: 26 benefits, 17 exclusions, 6 warranties, 0 extensions
2025-12-15 15:55:50,605 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:55:50,606 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:55:50,607 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:55:50,609 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:55:50,610 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:55:50,610 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:56:12,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:56:12,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:56:12,594 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:56:12,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 1 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:56:12,597 - app.api.routes - INFO - ‚úÖ Found 1 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:56:12,598 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:56:20,283 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:56:20,284 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:56:20,288 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:56:20,292 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:56:20,292 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:56:20,294 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:56:50,596 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:56:50,598 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:56:50,601 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:56:50,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:56:50,605 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:56:50,606 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:56:59,232 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:56:59,232 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:56:59,234 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:56:59,235 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:56:59,236 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:56:59,236 - main - INFO - üì§ GET /api/comparisons - 200 - 0.00s
2025-12-15 15:57:00,887 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:57:00,898 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:57:00,905 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:57:00,915 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:57:00,922 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:57:00,929 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 15:57:01,018 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:57:01,034 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:57:01,038 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:57:01,042 - app.services.mongodb_service_enhanced - INFO - üìä Found 0 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:57:01,045 - app.api.routes - INFO - ‚úÖ Found 0 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:57:01,048 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:57:09,309 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 15:57:09,309 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 15:57:09,310 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 15:57:09,310 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 15:57:13,488 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:57:15,027 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:57:15,029 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 15:57:15,030 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 15:57:15,030 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Could not normalize rate: To be Agreed
2025-12-15 15:57:15,030 - app.services.ai_parser - INFO - üîÑ Rate: 'To be Agreed' ‚Üí 'To be Agreed'
2025-12-15 15:57:15,030 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: Not specified
2025-12-15 15:57:15,031 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 15:57:15,031 - app.services.ai_parser - INFO - üìä Counts: 31 benefits, 23 exclusions, 6 warranties, 31 extensions
2025-12-15 15:57:21,078 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:57:21,331 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 15:57:21,332 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 15:57:21,332 - app.services.ai_parser - INFO - 
2025-12-15 15:57:21,333 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:57:21,333 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:57:21,333 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:57:21,333 - app.services.ai_parser - INFO - üè¢ Insurer: Al Rajhi Takaful
2025-12-15 15:57:21,334 - app.services.ai_parser - INFO - üë§ Insured: Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al
2025-12-15 15:57:21,334 - app.services.ai_parser - INFO - üí∞ Premium: N/A
2025-12-15 15:57:21,334 - app.services.ai_parser - INFO - üìä Rate: To be Agreed
2025-12-15 15:57:21,335 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 15:57:21,335 - app.services.ai_parser - INFO - üìè Quality: 90.0/100
2025-12-15 15:57:21,335 - app.services.ai_parser - INFO - üîß Deductible: MD: Not specified
2025-12-15 15:57:21,335 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 15:57:21,336 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 15:57:21,336 - app.services.ai_parser - INFO - 
2025-12-15 15:57:21,336 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 15:57:21,336 - app.services.ai_parser - INFO -    ‚úì Benefits: 31
2025-12-15 15:57:21,336 - app.services.ai_parser - INFO -    ‚úì Exclusions: 23
2025-12-15 15:57:21,337 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-15 15:57:21,337 - app.services.ai_parser - INFO -    ‚úì Extensions: 31
2025-12-15 15:57:21,337 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 15:57:21,337 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:57:21,340 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: aecb0ab411884ceea9911387f2102aa8.pdf ‚Üí 69402fe1bfd794e62bed2c2f
2025-12-15 15:57:21,341 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69402fe1bfd794e62bed2c2f
2025-12-15 15:57:21,352 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf ‚Üí 69402fe1bfd794e62bed2c30 (1533627 bytes)
2025-12-15 15:57:21,352 - app.api.routes - INFO - ‚úÖ Saved user document: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf ‚Üí 69402fe1bfd794e62bed2c30
2025-12-15 15:57:21,353 - app.api.routes - INFO - ‚úÖ Successfully processed: MediclinicAlMurjan Hospital Marketing Presentation V3 Property & Liability Only.pdf
2025-12-15 15:58:47,456 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 15:58:47,457 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 15:58:47,458 - app.services.ai_parser - INFO - 
2025-12-15 15:58:47,458 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:58:47,458 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:58:47,459 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:58:47,459 - app.services.ai_parser - INFO - üè¢ Insurer: United Cooperative Assurance (UCA)
2025-12-15 15:58:47,460 - app.services.ai_parser - INFO - üë§ Insured: Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 15:58:47,461 - app.services.ai_parser - INFO - üí∞ Premium: SAR 47,500.00
2025-12-15 15:58:47,461 - app.services.ai_parser - INFO - üìä Rate: N/A
2025-12-15 15:58:47,462 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 15:58:47,463 - app.services.ai_parser - INFO - üìè Quality: 96.3/100
2025-12-15 15:58:47,463 - app.services.ai_parser - INFO - üîß Deductible: MD: SAR 5,000
2025-12-15 15:58:47,464 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 15:58:47,464 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 15:58:47,465 - app.services.ai_parser - INFO - 
2025-12-15 15:58:47,465 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 15:58:47,465 - app.services.ai_parser - INFO -    ‚úì Benefits: 26
2025-12-15 15:58:47,466 - app.services.ai_parser - INFO -    ‚úì Exclusions: 17
2025-12-15 15:58:47,466 - app.services.ai_parser - INFO -    ‚úì Warranties: 6
2025-12-15 15:58:47,467 - app.services.ai_parser - INFO -    ‚úì Extensions: 0
2025-12-15 15:58:47,467 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 15:58:47,468 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 15:58:47,470 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: a3b845eac9b34844b900f2999da3279c.pdf ‚Üí 69403037bfd794e62bed2c31
2025-12-15 15:58:47,471 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69403037bfd794e62bed2c31
2025-12-15 15:58:47,474 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: UCA Al Murjan Mediclinic - PL Quotation R6.pdf ‚Üí 69403037bfd794e62bed2c32 (219426 bytes)
2025-12-15 15:58:47,474 - app.api.routes - INFO - ‚úÖ Saved user document: UCA Al Murjan Mediclinic - PL Quotation R6.pdf ‚Üí 69403037bfd794e62bed2c32
2025-12-15 15:58:47,475 - app.api.routes - INFO - ‚úÖ Successfully processed: UCA Al Murjan Mediclinic - PL Quotation R6.pdf
2025-12-15 15:58:47,475 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-15 15:58:47,475 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:58:47,475 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-15 15:58:47,476 - app.api.routes - INFO - ======================================================================
2025-12-15 15:58:47,476 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-15 15:58:47,476 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-15 15:58:47,477 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-15 15:58:47,477 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 15:58:47,477 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-15 15:58:47,477 - app.services.ai_ranker - INFO - ================================================================================
2025-12-15 15:58:47,478 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 15:58:47,479 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Tawuniya
2025-12-15 15:58:47,479 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 15:58:47,480 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 15:58:47,480 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:58:47,481 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 15:58:47,482 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 15:58:47,482 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-15 15:58:47,483 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 15:58:47,484 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 15:58:47,484 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 15:58:47,485 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 15:58:47,485 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "TAWUNIYA",
  "sum_insured_breakdown": {
    "material_damage": "SR 20,000,000",
    "business_interruption": "N/A",
    "total_sum_insured_numeric": 20000000,
    "total_sum_insured": "SR 20,000,000"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "Fire and Explosion",
        "deductible": "SR 25,000",
        "applies_to": "material_damage"
      },
      {
        "range": "Other Claims",
        "deductible": "SR 7,500",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "Fire and Explosion",
      "deductible": "SR 25,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SR 100,000 per occurrence and SR 500,000 in annual aggregate.
2025-12-15 15:58:47,487 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,488 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-15 15:58:47,488 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 15:58:47,489 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 15:58:47,489 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 15:58:47,490 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 15:58:47,490 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 15:58:47,491 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 15:58:47,491 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,491 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 15:58:47,491 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 15:58:47,492 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,492 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 15:58:47,492 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 15:58:47,493 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 15:58:47,493 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 15:58:47,494 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-15 15:58:47,494 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,494 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Tawuniya
2025-12-15 15:58:47,495 - app.services.ai_ranker - INFO - 
üìä Tawuniya:
2025-12-15 15:58:47,495 - app.services.ai_ranker - INFO -    Warranties: 1
2025-12-15 15:58:47,496 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-15 15:58:47,496 - app.services.ai_ranker - INFO -    Exclusions: 22
2025-12-15 15:58:47,497 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-15 15:58:47,498 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 15:58:47,498 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Al Rajhi Takaful
2025-12-15 15:58:47,499 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 15:58:47,499 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 15:58:47,499 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:58:47,500 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 15:58:47,500 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 15:58:47,500 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-15 15:58:47,501 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 15:58:47,501 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 15:58:47,501 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 15:58:47,501 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 15:58:47,502 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SR 836,728,671",
    "business_interruption": "Not specified",
    "total_sum_insured_numeric": 836728671,
    "total_sum_insured": "SR 836,728,671"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "Not specified",
        "deductible": "Not specified",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "Not specified",
      "deductible": "Not specified",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SR 2,500,000 any one occurrence",
    "srcc_malicious_damage": "Not specified",
    "and control of the Insured with sub": "SR 5,000,000",
    "Party Property Damage for any o
2025-12-15 15:58:47,505 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,505 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-15 15:58:47,506 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 15:58:47,507 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 15:58:47,507 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 15:58:47,507 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 15:58:47,508 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 15:58:47,508 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 15:58:47,508 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,508 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 15:58:47,509 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 15:58:47,509 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,509 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 15:58:47,510 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 15:58:47,510 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 15:58:47,510 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 15:58:47,511 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-15 15:58:47,512 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,512 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for Al Rajhi Takaful
2025-12-15 15:58:47,513 - app.services.ai_ranker - INFO - 
üìä Al Rajhi Takaful:
2025-12-15 15:58:47,513 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-15 15:58:47,515 - app.services.ai_ranker - INFO -    Extensions: 31
2025-12-15 15:58:47,516 - app.services.ai_ranker - INFO -    Exclusions: 23
2025-12-15 15:58:47,516 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-15 15:58:47,517 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 15:58:47,517 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: United Cooperative Assurance (UCA)
2025-12-15 15:58:47,517 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 15:58:47,518 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 15:58:47,518 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:58:47,518 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 15:58:47,518 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 15:58:47,519 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance', '... all requirements'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License', '... all documents']}
2025-12-15 15:58:47,519 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 15:58:47,519 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 15:58:47,519 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 15:58:47,520 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 15:58:47,520 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "UCA",
  "sum_insured_breakdown": {
    "material_damage": "SAR 20,000,000",
    "business_interruption": "Not specified",
    "total_sum_insured_numeric": 20000000,
    "total_sum_insured": "SAR 20,000,000"
  },
  "deductibles_complete": {
    "structure_type": "fixed",
    "material_damage_tiers": [
      {
        "range": "each and every loss",
        "deductible": "SAR 5,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "applicable_md_tier": {
      "range": "each and every loss",
      "deductible": "SAR 5,000",
      "applies_to": "material_damage"
    },
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SAR 1,000,000/- any one occurrence and in the aggregate",
    "srcc_malicious_damage": "Not specified"
  },
  "exclusions_complete": {
    "all_exclusions_list": [
      "Auto, Marine and Avia
2025-12-15 15:58:47,522 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,524 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations', '... all conditions']
2025-12-15 15:58:47,524 - app.services.ai_ranker - INFO -    ‚úÖ Found 5 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 15:58:47,524 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 15:58:47,524 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 15:58:47,525 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 15:58:47,525 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 15:58:47,525 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 15:58:47,525 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,525 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 15:58:47,526 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 15:58:47,526 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 15:58:47,526 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 15:58:47,526 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 15:58:47,527 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 15:58:47,527 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 15:58:47,527 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 12
2025-12-15 15:58:47,527 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 15:58:47,528 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 12 subjectivities for United Cooperative Assurance (UCA)
2025-12-15 15:58:47,528 - app.services.ai_ranker - INFO - 
üìä United Cooperative Assurance (UCA):
2025-12-15 15:58:47,528 - app.services.ai_ranker - INFO -    Warranties: 6
2025-12-15 15:58:47,528 - app.services.ai_ranker - INFO -    Extensions: 0
2025-12-15 15:58:47,529 - app.services.ai_ranker - INFO -    Exclusions: 17
2025-12-15 15:58:47,529 - app.services.ai_ranker - INFO -    Subjectivities: 12
2025-12-15 15:58:47,529 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Tawuniya
2025-12-15 15:58:47,629 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-15 15:58:47,630 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 15:58:47,630 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 7
2025-12-15 15:58:47,630 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-15 15:58:47,631 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 15:58:47,631 - app.services.ai_ranker - INFO -       ‚Ä¢ WARRANTED NO KNOWN OR REPORTED LOSSES AND/OR ANY CIRCUMSTANCES THAT COULD GIVE R...
2025-12-15 15:58:47,631 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Al Rajhi Takaful
2025-12-15 15:58:47,814 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-15 15:58:47,814 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 10
2025-12-15 15:58:47,815 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 15:58:47,815 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-15 15:58:47,815 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: United Cooperative Assurance (UCA)
2025-12-15 15:58:47,879 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 0
2025-12-15 15:58:47,879 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 15:58:47,879 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 5
2025-12-15 15:58:47,880 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 0
2025-12-15 15:58:47,880 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 15:58:47,880 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-15 15:58:47,880 - app.services.ai_ranker - INFO - ================================================================================

2025-12-15 15:58:47,881 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è No valid rates found in comparison set
2025-12-15 15:58:47,881 - app.services.ai_ranker - INFO - üìä Tawuniya: Hakim Score=96.0 (Premium), Weighted Score=71.54
2025-12-15 15:58:47,882 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è Al Rajhi Takaful: Invalid premium (0), applying penalty score
2025-12-15 15:58:47,882 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è No valid rates found in comparison set
2025-12-15 15:58:47,882 - app.services.ai_ranker - INFO - üìä Al Rajhi Takaful: Hakim Score=80.0 (Baseline), Weighted Score=55.50
2025-12-15 15:58:47,882 - app.services.ai_ranker - WARNING - ‚ö†Ô∏è No valid rates found in comparison set
2025-12-15 15:58:47,883 - app.services.ai_ranker - INFO - üìä United Cooperative Assurance (UCA): Hakim Score=72.0 (Challenged), Weighted Score=64.53
2025-12-15 15:58:47,883 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-15 15:58:47,883 - app.services.ai_ranker - INFO - ü§ñ Performing AI-powered ranking analysis...
2025-12-15 15:58:59,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:59:00,782 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-15 15:59:00,782 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-15 15:59:00,783 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-15 15:59:04,872 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 15:59:04,874 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Tawuniya: Tawuniya stands out as the best insurance provider due to its exceptional score of 71.5/100 and the ...
2025-12-15 15:59:04,876 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-15 15:59:04,879 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8
2025-12-15 15:59:04,880 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-15 15:59:04,880 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765813920_2ec94a5938ec
2025-12-15 15:59:04,881 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-15 15:59:04,881 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-15 15:59:04,882 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-15 15:59:04,883 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Tawuniya
2025-12-15 15:59:04,883 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 15:59:04,883 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 15:59:04,884 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 15:59:04,884 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 15:59:04,884 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 15:59:04,884 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 15:59:04,885 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Al Rajhi Takaful
2025-12-15 15:59:04,885 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 15:59:04,885 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 15:59:04,885 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 15:59:04,885 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 15:59:04,886 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 15:59:04,886 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 15:59:04,888 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-15 15:59:04,888 - app.services.mongodb_service_enhanced - INFO -    Summary: 3,262 bytes
2025-12-15 15:59:04,888 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 28,384 bytes
2025-12-15 15:59:04,888 - app.services.mongodb_service_enhanced - INFO -    Data table: 14,350 bytes
2025-12-15 15:59:04,889 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,774 bytes
2025-12-15 15:59:04,889 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 38,110 bytes
2025-12-15 15:59:04,889 - app.services.mongodb_service_enhanced - INFO -    Total document: 180,014 bytes
2025-12-15 15:59:04,889 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-15 15:59:04,889 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-15 15:59:04,890 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-15 15:59:04,890 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-15 15:59:04,890 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-15 15:59:04,890 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-15 15:59:04,890 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-15 15:59:04,891 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-15 15:59:04,892 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-15 15:59:04,892 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-15 15:59:04,892 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-15 15:59:04,892 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-15 15:59:04,892 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 15:59:04,893 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:59:04,893 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-15 15:59:04,900 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765813920_2ec94a5938ec
2025-12-15 15:59:04,900 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 694030485a37704a1c0a83ed
2025-12-15 15:59:04,902 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-15 15:59:04,902 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-15 15:59:04,903 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-15 15:59:04,904 - app.services.mongodb_service_enhanced - INFO -    - First row keys (27): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-15 15:59:04,904 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-15 15:59:04,904 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-15 15:59:04,904 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-15 15:59:04,905 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 15:59:04,905 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-15 15:59:04,905 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-15 15:59:04,906 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-15 15:59:04,906 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-15 15:59:04,907 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-15 15:59:04,907 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 15:59:04,907 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 694030485a37704a1c0a83ed
2025-12-15 15:59:04,907 - app.api.routes - INFO -    Database: hakemAI
2025-12-15 15:59:04,908 - app.api.routes - INFO -    Collection: comparisons
2025-12-15 15:59:04,908 - app.api.routes - INFO -    Comparison ID: cmp_1765813920_2ec94a5938ec
2025-12-15 15:59:04,908 - app.api.routes - INFO -    User ID: 69402af41ac37a9c504e265c
2025-12-15 15:59:04,908 - app.api.routes - INFO -    Company ID: 69402bf81ac37a9c504e26c8
2025-12-15 15:59:04,910 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 15:59:04,911 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 15:59:04,911 - app.api.routes - INFO - 
======================================================================
2025-12-15 15:59:04,911 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-15 15:59:04,911 - app.api.routes - INFO - ======================================================================
2025-12-15 15:59:04,912 - app.api.routes - INFO - üìä Comparison ID: cmp_1765813920_2ec94a5938ec
2025-12-15 15:59:04,912 - app.api.routes - INFO - üë§ User ID: 69402af41ac37a9c504e265c
2025-12-15 15:59:04,912 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-15 15:59:04,913 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-15 15:59:04,913 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 15:59:04,913 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 15:59:04,913 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 15:59:04,914 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 15:59:04,918 - app.api.routes - INFO - üìä Remaining comparisons: 248
2025-12-15 15:59:04,919 - app.api.routes - INFO - ======================================================================

2025-12-15 15:59:04,919 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_ac8fee950ab0 ‚Üí comparison_id: cmp_1765813920_2ec94a5938ec
2025-12-15 15:59:04,921 - main - INFO - üì§ POST /api/compare-quotes - 200 - 424.13s
2025-12-15 15:59:05,018 - main - INFO - 
2025-12-15 15:59:05,019 - main - INFO - ================================================================================
2025-12-15 15:59:05,019 - main - INFO -   üõë Shutting down application...
2025-12-15 15:59:05,020 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-15 15:59:05,021 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-15 15:59:05,022 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-15 15:59:05,022 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-15 15:59:05,023 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-15 15:59:05,023 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-15 15:59:05,025 - main - INFO -   ‚úÖ Cleaned up 3 temporary files
2025-12-15 15:59:05,026 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-15 15:59:05,026 - main - INFO - ================================================================================
2025-12-15 15:59:05,026 - main - INFO - 
2025-12-15 15:59:08,532 - main - INFO - 
2025-12-15 15:59:08,532 - main - INFO - ================================================================================
2025-12-15 15:59:08,532 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 15:59:08,533 - main - INFO -   Production-Ready Complete Integration
2025-12-15 15:59:08,533 - main - INFO - ================================================================================
2025-12-15 15:59:08,533 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 15:59:08,534 - main - INFO -   Upload Directory: uploads
2025-12-15 15:59:08,534 - main - INFO -   Max File Size: 20MB
2025-12-15 15:59:08,534 - main - INFO - ================================================================================
2025-12-15 15:59:08,534 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 15:59:08,535 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 15:59:08,535 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 15:59:08,557 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 15:59:08,563 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 15:59:08,564 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 15:59:08,564 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 15:59:08,564 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 15:59:08,564 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 15:59:08,587 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 15:59:08,588 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 15:59:08,591 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 15:59:08,594 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 15:59:08,594 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 15:59:08,594 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 15:59:08,594 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 15:59:08,595 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 15:59:08,603 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 15:59:08,603 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 15:59:08,604 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 15:59:08,604 - main - INFO - 
2025-12-15 15:59:08,604 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 15:59:08,604 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 15:59:08,604 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 15:59:08,605 - main - INFO -        - Separates warranties from extensions
2025-12-15 15:59:08,605 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 15:59:08,605 - main - INFO -        - Correct deductible tier detection
2025-12-15 15:59:08,605 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 15:59:08,605 - main - INFO - 
2025-12-15 15:59:08,606 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 15:59:08,606 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 15:59:08,606 - main - INFO -        - Identifies unique items per provider
2025-12-15 15:59:08,606 - main - INFO -        - Transparent scoring methodology
2025-12-15 15:59:08,606 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 15:59:08,607 - main - INFO - 
2025-12-15 15:59:08,607 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 15:59:08,607 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 15:59:08,607 - main - INFO -        - No manual section generation
2025-12-15 15:59:08,607 - main - INFO -        - Complete MongoDB integration
2025-12-15 15:59:08,608 - main - INFO - 
2025-12-15 15:59:08,608 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 15:59:08,608 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 15:59:08,608 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 15:59:08,609 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 15:59:08,609 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 15:59:08,609 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 15:59:08,609 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 15:59:08,609 - main - INFO - 
2025-12-15 15:59:08,610 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 15:59:08,610 - main - INFO -      Main:
2025-12-15 15:59:08,610 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 15:59:08,610 - main - INFO - 
2025-12-15 15:59:08,610 - main - INFO -      Retrieval:
2025-12-15 15:59:08,610 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 15:59:08,611 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 15:59:08,611 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 15:59:08,611 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 15:59:08,611 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 15:59:08,612 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 15:59:08,612 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 15:59:08,612 - main - INFO - 
2025-12-15 15:59:08,613 - main - INFO -      Management:
2025-12-15 15:59:08,613 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 15:59:08,613 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 15:59:08,613 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 15:59:08,614 - main - INFO - 
2025-12-15 15:59:08,614 - main - INFO -      Documents (MongoDB):
2025-12-15 15:59:08,614 - main - INFO -        GET  /api/documents                All documents
2025-12-15 15:59:08,615 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 15:59:08,616 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 15:59:08,616 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 15:59:08,616 - main - INFO - 
2025-12-15 15:59:08,617 - main - INFO -      Diagnostics & Health:
2025-12-15 15:59:08,617 - main - INFO -        GET  /api/health                   System health
2025-12-15 15:59:08,617 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 15:59:08,617 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 15:59:08,617 - main - INFO - 
2025-12-15 15:59:08,618 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 15:59:08,618 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 15:59:08,618 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 15:59:08,618 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 15:59:08,619 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 15:59:08,619 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 15:59:08,619 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 15:59:08,619 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 15:59:08,620 - main - INFO - 
2025-12-15 15:59:08,620 - main - INFO -   üéØ WORKFLOW:
2025-12-15 15:59:08,620 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 15:59:08,620 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 15:59:08,620 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 15:59:08,621 - main - INFO -      4. No re-upload needed!
2025-12-15 15:59:08,621 - main - INFO - 
2025-12-15 15:59:08,621 - main - INFO - ================================================================================
2025-12-15 15:59:08,622 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 15:59:08,622 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 15:59:08,623 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 15:59:08,624 - main - INFO - ================================================================================
2025-12-15 15:59:08,625 - main - INFO - 
2025-12-15 15:59:08,625 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 15:59:08,680 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,681 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,681 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,682 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,682 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,683 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,683 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,684 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,685 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,686 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,687 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:59:08,687 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:59:08,688 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:59:08,690 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,691 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,693 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 15:59:08,694 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 15:59:08,695 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 15:59:08,696 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 15:59:08,697 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,697 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,700 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 15:59:08,700 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 15:59:08,702 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,702 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,705 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:59:08,706 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,712 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:59:08,714 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,718 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,718 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,724 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:59:08,725 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,729 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 15:59:08,731 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,732 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,734 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 15:59:08,736 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 15:59:08,737 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-15 15:59:08,746 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-15 15:59:08,749 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,750 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,753 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,754 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,759 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:59:08,762 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,764 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 15:59:08,765 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 15:59:08,767 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,767 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,773 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:59:08,778 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:59:08,783 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,783 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,789 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 15:59:08,797 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 15:59:08,801 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,802 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,805 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,811 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,812 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,820 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,820 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,827 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:59:08,834 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,836 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,842 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,847 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,848 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,855 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,858 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,865 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 15:59:08,869 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:08,871 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:08,876 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:08,880 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:08,881 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:08,886 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:08,887 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:08,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 15:59:12,284 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:12,285 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:12,286 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:12,288 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:12,288 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:12,292 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:12,293 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:12,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:59:31,587 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:31,587 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 15:59:31,588 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 15:59:31,589 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 15:59:31,590 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 15:59:31,592 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 15:59:31,592 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 15:59:31,594 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 15:59:35,594 - main - INFO - üì• GET /api/comparisons
2025-12-15 15:59:35,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 15:59:35,596 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 15:59:35,597 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 15:59:35,598 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 15:59:35,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 15:59:35,601 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 15:59:35,604 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:00:01,288 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:00:01,289 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:00:01,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:00:01,291 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:00:01,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:00:01,294 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:00:01,294 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:00:01,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:00:05,291 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:00:05,291 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:00:05,292 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:00:05,293 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:00:05,294 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:00:05,296 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:00:05,296 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:00:05,298 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:00:12,598 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:00:12,600 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:00:12,602 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:00:12,604 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:00:12,605 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:00:12,611 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:00:12,612 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:00:12,621 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:00:31,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:00:31,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:00:31,595 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:00:31,597 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:00:31,598 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:00:31,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:00:31,604 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:00:31,606 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:00:35,278 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:00:35,279 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:00:35,280 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:00:35,281 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:00:35,281 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:00:35,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:00:35,283 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:00:35,285 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:01:05,588 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:05,589 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:01:05,590 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:01:05,591 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:01:05,591 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:01:05,593 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:01:05,594 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:01:05,596 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:01:12,278 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:12,278 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:01:12,279 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:01:12,280 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:01:12,281 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:01:12,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:01:12,284 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:01:12,287 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:01:12,293 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:12,294 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:01:12,296 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:01:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:01:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:01:12,301 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:01:12,302 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:01:12,305 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:01:31,147 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:31,148 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:01:31,150 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:01:31,151 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:01:31,152 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:01:31,157 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:01:31,158 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:01:31,160 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:01:31,164 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:31,165 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:01:31,168 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:01:31,171 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:01:31,173 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:01:31,181 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:01:31,187 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:01:31,194 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:01:35,466 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:01:35,467 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:01:35,469 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:01:35,469 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:01:35,470 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:01:35,471 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:01:35,472 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:01:35,479 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:01:35,479 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:01:35,482 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:00,841 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:00,842 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:00,843 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:00,844 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:00,844 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:00,847 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:00,848 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:00,850 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:00,855 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:00,857 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:00,859 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:00,862 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:00,863 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:00,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:00,873 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:00,878 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:01,283 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:01,283 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:02:01,284 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:02:01,285 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:02:01,286 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:02:01,288 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:02:01,288 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:02:01,291 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:01,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:01,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:01,593 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:01,595 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:01,595 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:01,598 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:01,598 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:01,602 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:01,604 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:01,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:01,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:01,610 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:01,611 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:01,618 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:01,619 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:01,624 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:02,158 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:02,159 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:02,160 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:02,161 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:02,162 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:02,165 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:02,166 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:02,168 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:02,171 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:02,172 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:02,175 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:02,177 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:02,178 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:02,189 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:02,190 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:02,196 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:02,497 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:02,497 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:02,499 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:02,500 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:02,500 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:02,502 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:02,503 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:02,505 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:02,509 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:02,510 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:02,512 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:02,517 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:02,518 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:02,523 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:02,524 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:02,529 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:03,078 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:03,079 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:03,080 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:03,081 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:03,082 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:03,085 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:03,086 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:03,089 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:03,093 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:03,094 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:03,096 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:03,100 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:03,101 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:03,111 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:03,112 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:03,119 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:05,149 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:05,150 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:05,151 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:05,152 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:05,152 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:05,155 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:05,155 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:05,158 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:09,016 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:09,016 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:09,018 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:09,019 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:09,019 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:09,024 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:09,025 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:09,028 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:09,032 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:09,034 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:09,036 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:09,038 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:09,039 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:09,046 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:09,050 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:09,054 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:11,944 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:11,944 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:11,946 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:11,947 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:11,947 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:11,950 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:11,951 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:11,954 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:11,959 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:11,960 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:11,962 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:11,964 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:11,965 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:11,976 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:11,977 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:11,982 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:12,287 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:12,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:12,288 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:12,289 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:12,292 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:12,292 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:12,294 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:12,581 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:12,582 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:12,583 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:12,584 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:12,584 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:12,586 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:12,587 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:12,589 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:12,592 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:12,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:12,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:12,601 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:12,602 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:12,613 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:12,614 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:12,622 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:13,813 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:13,814 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:13,815 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:13,816 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:13,816 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:13,819 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:13,819 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:13,822 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:13,824 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:13,825 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:13,828 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:13,830 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:13,831 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:13,841 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:13,842 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:13,847 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:14,095 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:14,096 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:14,097 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:14,098 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:14,098 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:14,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:14,101 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:14,103 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:14,106 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:14,108 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:14,110 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:14,113 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:14,114 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:14,119 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:14,120 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:14,125 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:16,815 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:16,816 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:16,817 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:16,818 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:16,818 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:16,821 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:16,821 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:16,824 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:16,828 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:16,829 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:16,831 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:16,835 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:16,836 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:16,844 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:16,845 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:16,854 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:19,021 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:19,022 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:19,024 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:19,025 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:19,025 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:19,028 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:19,028 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:19,030 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:19,033 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:19,034 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:19,035 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:19,037 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:19,037 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:19,044 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:19,045 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:19,052 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:19,291 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:19,292 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:19,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:19,296 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:19,296 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:19,299 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:19,300 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:19,302 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:19,305 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:19,307 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:19,309 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:19,313 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:19,316 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:19,329 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:19,331 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:19,339 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:20,343 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:20,344 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:20,345 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:20,346 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:20,347 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:20,350 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:20,350 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:20,354 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:20,359 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:20,360 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:20,363 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:20,366 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:20,368 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:20,381 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:20,382 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:20,392 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:21,446 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:21,447 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:21,448 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:21,449 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:21,449 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:21,452 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:21,452 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:21,454 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:21,457 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:21,458 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:21,461 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:21,466 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:21,469 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:21,478 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:21,480 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:21,487 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:22,608 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:22,609 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:22,611 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:22,613 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:22,613 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:22,619 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:22,619 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:22,625 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:22,631 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:22,632 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:22,640 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:22,648 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:22,650 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:22,668 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:22,673 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:22,679 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 16:02:22,869 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:22,870 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:22,871 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:22,873 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:22,873 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:22,876 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:22,876 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:22,878 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:22,880 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:22,881 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:22,883 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:22,885 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:22,886 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:22,891 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:22,891 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:22,898 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:24,453 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:24,454 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:24,456 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:24,457 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:24,458 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:24,461 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:24,461 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:24,464 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:24,467 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:24,468 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:24,470 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:24,472 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:24,473 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:24,479 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:24,481 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:24,487 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:24,699 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:24,700 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:24,701 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:24,702 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:24,703 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:24,707 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:24,708 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:24,712 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:24,715 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:24,716 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:24,719 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:24,720 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:24,721 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:24,729 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:24,730 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:24,740 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:25,928 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:25,928 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:25,929 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:25,930 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:25,931 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:25,933 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:25,933 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:25,935 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:25,938 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:25,939 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:25,941 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:25,944 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:25,945 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:25,956 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:25,957 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:25,961 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:27,213 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:27,214 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:27,215 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:27,216 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:27,216 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:27,218 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:27,219 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:27,221 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:27,225 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:27,226 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:27,229 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:27,231 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:27,232 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:27,241 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:27,242 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:27,249 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:27,528 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:27,529 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:27,530 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:27,531 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:27,532 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:27,534 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:27,534 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:27,537 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:27,541 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:27,542 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:27,544 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:27,549 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:27,550 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:27,553 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:27,554 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:27,558 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:02:28,463 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:28,464 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:28,465 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:28,466 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:28,466 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:28,469 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:28,469 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:28,472 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:28,475 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:28,476 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:28,479 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:28,484 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:28,486 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:28,496 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:28,497 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:28,505 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:31,281 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:31,282 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:02:31,283 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:02:31,284 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:02:31,284 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:02:31,287 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:02:31,287 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:02:31,292 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:02:35,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:02:35,602 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:02:35,606 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:02:35,611 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:02:35,612 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:02:35,619 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:02:35,620 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:02:35,630 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:02:48,242 - main - INFO - 
2025-12-15 16:02:48,243 - main - INFO - ================================================================================
2025-12-15 16:02:48,243 - main - INFO -   üõë Shutting down application...
2025-12-15 16:02:48,244 - app.services.mongodb_service_enhanced - INFO - üîå Disconnected from MongoDB
2025-12-15 16:02:48,245 - main - INFO -   ‚úÖ Enhanced MongoDB connection closed
2025-12-15 16:02:48,246 - app.services.user_subscription_service - INFO - üîå Disconnected from MongoDB
2025-12-15 16:02:48,247 - main - INFO -   ‚úÖ User Subscription Service connection closed
2025-12-15 16:02:48,248 - app.services.user_documents_service - INFO - üîå User Documents Service disconnected from MongoDB
2025-12-15 16:02:48,250 - main - INFO -   ‚úÖ User Documents Service connection closed
2025-12-15 16:02:48,251 - main - INFO -   ‚úÖ Cleaned up 0 temporary files
2025-12-15 16:02:48,253 - main - INFO -   ‚úÖ Application stopped successfully
2025-12-15 16:02:48,255 - main - INFO - ================================================================================
2025-12-15 16:02:48,257 - main - INFO - 
2025-12-15 16:02:53,836 - main - INFO - 
2025-12-15 16:02:53,837 - main - INFO - ================================================================================
2025-12-15 16:02:53,839 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 16:02:53,841 - main - INFO -   Production-Ready Complete Integration
2025-12-15 16:02:53,844 - main - INFO - ================================================================================
2025-12-15 16:02:53,845 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 16:02:53,848 - main - INFO -   Upload Directory: uploads
2025-12-15 16:02:53,861 - main - INFO -   Max File Size: 20MB
2025-12-15 16:02:53,867 - main - INFO - ================================================================================
2025-12-15 16:02:53,869 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 16:02:53,873 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 16:02:53,875 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 16:02:53,930 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 16:02:53,937 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 16:02:53,937 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 16:02:53,938 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 16:02:53,938 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 16:02:53,938 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 16:02:53,947 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 16:02:53,949 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 16:02:53,950 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 16:02:53,952 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 16:02:53,953 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 16:02:53,953 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 16:02:53,953 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 16:02:53,954 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 16:02:54,046 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 16:02:54,047 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 16:02:54,047 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 16:02:54,047 - main - INFO - 
2025-12-15 16:02:54,047 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 16:02:54,048 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 16:02:54,048 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 16:02:54,048 - main - INFO -        - Separates warranties from extensions
2025-12-15 16:02:54,048 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 16:02:54,048 - main - INFO -        - Correct deductible tier detection
2025-12-15 16:02:54,048 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 16:02:54,049 - main - INFO - 
2025-12-15 16:02:54,049 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 16:02:54,049 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 16:02:54,049 - main - INFO -        - Identifies unique items per provider
2025-12-15 16:02:54,049 - main - INFO -        - Transparent scoring methodology
2025-12-15 16:02:54,049 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 16:02:54,049 - main - INFO - 
2025-12-15 16:02:54,050 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 16:02:54,050 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 16:02:54,050 - main - INFO -        - No manual section generation
2025-12-15 16:02:54,050 - main - INFO -        - Complete MongoDB integration
2025-12-15 16:02:54,050 - main - INFO - 
2025-12-15 16:02:54,050 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 16:02:54,051 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 16:02:54,051 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 16:02:54,051 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 16:02:54,051 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 16:02:54,051 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 16:02:54,052 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 16:02:54,052 - main - INFO - 
2025-12-15 16:02:54,052 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 16:02:54,052 - main - INFO -      Main:
2025-12-15 16:02:54,052 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 16:02:54,053 - main - INFO - 
2025-12-15 16:02:54,053 - main - INFO -      Retrieval:
2025-12-15 16:02:54,053 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 16:02:54,053 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 16:02:54,053 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 16:02:54,053 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 16:02:54,054 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 16:02:54,054 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 16:02:54,054 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 16:02:54,054 - main - INFO - 
2025-12-15 16:02:54,054 - main - INFO -      Management:
2025-12-15 16:02:54,055 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 16:02:54,055 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 16:02:54,055 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 16:02:54,055 - main - INFO - 
2025-12-15 16:02:54,055 - main - INFO -      Documents (MongoDB):
2025-12-15 16:02:54,055 - main - INFO -        GET  /api/documents                All documents
2025-12-15 16:02:54,056 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 16:02:54,056 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 16:02:54,056 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 16:02:54,056 - main - INFO - 
2025-12-15 16:02:54,056 - main - INFO -      Diagnostics & Health:
2025-12-15 16:02:54,056 - main - INFO -        GET  /api/health                   System health
2025-12-15 16:02:54,056 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 16:02:54,057 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 16:02:54,057 - main - INFO - 
2025-12-15 16:02:54,057 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 16:02:54,057 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 16:02:54,057 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 16:02:54,057 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 16:02:54,058 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 16:02:54,058 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 16:02:54,058 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 16:02:54,058 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 16:02:54,058 - main - INFO - 
2025-12-15 16:02:54,059 - main - INFO -   üéØ WORKFLOW:
2025-12-15 16:02:54,059 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 16:02:54,059 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 16:02:54,059 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 16:02:54,060 - main - INFO -      4. No re-upload needed!
2025-12-15 16:02:54,060 - main - INFO - 
2025-12-15 16:02:54,060 - main - INFO - ================================================================================
2025-12-15 16:02:54,060 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 16:02:54,060 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 16:02:54,061 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 16:02:54,061 - main - INFO - ================================================================================
2025-12-15 16:02:54,061 - main - INFO - 
2025-12-15 16:02:54,061 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 16:03:01,605 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:01,606 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:03:01,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:03:01,610 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:03:01,610 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:03:01,615 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:03:01,615 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:03:01,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:03:05,602 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:05,603 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:03:05,604 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:03:05,606 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:03:05,606 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:03:05,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:03:05,610 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:03:05,613 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:03:12,291 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:12,292 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:03:12,293 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:03:12,294 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:03:12,295 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:03:12,298 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:03:12,299 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:03:12,302 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:03:31,281 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:31,282 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:03:31,284 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:03:31,286 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:03:31,286 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:03:31,291 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:03:31,291 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:03:31,294 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:03:35,457 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:35,458 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:03:35,459 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:03:35,460 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:03:35,461 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:03:35,463 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:03:35,464 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:03:35,466 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:03:45,766 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:45,769 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:03:45,773 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:03:45,777 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:03:45,779 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:03:45,784 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:03:45,785 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:03:45,790 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:03:45,796 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:45,797 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:03:45,800 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:03:45,803 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:03:45,803 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:03:45,810 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:03:45,815 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:03:45,827 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:03:49,872 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:49,874 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:03:49,879 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:03:49,882 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:03:49,883 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:03:49,891 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:03:49,892 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:03:49,899 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:03:49,907 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:03:49,910 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:03:49,914 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:03:49,918 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:03:49,918 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:03:49,926 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:03:49,929 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:03:49,936 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:04:12,289 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:04:12,291 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:04:12,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:04:12,297 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:04:12,297 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:04:12,302 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:04:12,303 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:04:12,306 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:04:16,285 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:04:16,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:04:16,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:04:16,293 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:04:16,294 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:04:16,301 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:04:16,302 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:04:16,308 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:04:20,282 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:04:20,283 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:04:20,284 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:04:20,285 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:04:20,285 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:04:20,287 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:04:20,288 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:04:20,290 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:04:46,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:04:46,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:04:46,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:04:46,600 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:04:46,601 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:04:46,608 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:04:46,609 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:04:46,614 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:04:50,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:04:50,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:04:50,595 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:04:50,597 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:04:50,598 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:04:50,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:04:50,604 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:04:50,606 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:05:12,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:05:12,293 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:05:12,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:05:12,296 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:05:12,296 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:05:12,300 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:05:12,301 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:05:12,304 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:05:16,286 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:05:16,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:05:16,288 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:05:16,289 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:05:16,289 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:05:16,292 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:05:16,292 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:05:16,295 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:05:20,283 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:05:20,284 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:05:20,289 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:05:20,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:05:20,293 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:05:20,296 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:05:20,296 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:05:20,299 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:05:20,299 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:05:20,301 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:05:46,602 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:05:46,603 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:05:46,604 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:05:46,606 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:05:46,606 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:05:46,609 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:05:46,610 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:05:46,613 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:05:50,589 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:05:50,590 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:05:50,591 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:05:50,592 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:05:50,593 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:05:50,597 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:05:50,597 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:05:50,600 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:06:12,294 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:12,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:06:12,298 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:06:12,301 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:06:12,301 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:06:12,308 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:06:12,309 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:06:12,311 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:06:16,283 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:16,284 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:06:16,287 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:06:16,290 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:06:16,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:06:16,295 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:06:16,295 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:06:16,297 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:06:20,279 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:20,279 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:06:20,281 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:06:20,282 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:06:20,282 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:06:20,285 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:06:20,285 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:06:20,288 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:06:22,603 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:22,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:06:22,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:06:22,611 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:06:22,612 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:06:22,619 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:06:22,620 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:06:22,625 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:06:46,288 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:46,289 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:06:46,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:06:46,292 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:06:46,292 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:06:46,297 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:06:46,297 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:06:46,302 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:06:50,600 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:50,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:06:50,603 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:06:50,604 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:06:50,604 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:06:50,608 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:06:50,608 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:06:50,610 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:06:52,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:06:52,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:06:52,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:06:52,600 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:06:52,601 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:06:52,607 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:06:52,608 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:06:52,612 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:07:16,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:07:16,293 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:07:16,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:07:16,295 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:07:16,295 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:07:16,299 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:07:16,300 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:07:16,302 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:07:20,281 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:07:20,282 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:07:20,283 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:07:20,284 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:07:20,284 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:07:20,286 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:07:20,287 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:07:20,289 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:07:22,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:07:22,592 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:07:22,593 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:07:22,594 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:07:22,595 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:07:22,598 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:07:22,598 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:07:22,601 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:08:12,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:08:12,293 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:08:12,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:08:12,295 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:08:12,295 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:08:12,298 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:08:12,298 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:08:12,301 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:08:12,305 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:08:12,306 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:08:12,308 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:08:12,310 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:08:12,311 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:08:12,316 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:08:12,317 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:08:12,320 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:08:12,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:08:12,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:08:12,602 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:08:12,603 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:08:12,603 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:08:12,606 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:08:12,606 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:08:12,608 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:08:49,028 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:08:49,029 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:08:49,031 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:08:49,034 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:08:49,035 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:08:49,044 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:08:49,045 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:08:49,049 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:09:12,288 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:09:12,289 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:09:12,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:09:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:09:12,292 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:09:12,294 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:09:12,294 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:09:12,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:09:12,299 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:09:12,300 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:09:12,301 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:09:12,303 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:09:12,304 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:09:12,309 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:09:12,310 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:09:12,314 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:09:20,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:09:20,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:09:20,596 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:09:20,597 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:09:20,598 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:09:20,602 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:09:20,603 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:09:20,608 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:10:12,278 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:10:12,279 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:10:12,280 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:10:12,281 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:10:12,281 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:10:12,282 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:10:12,283 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:10:12,283 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:10:12,284 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:10:12,284 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:10:12,286 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:10:12,287 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:10:12,291 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:10:12,291 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:10:12,293 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:10:12,294 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:10:12,298 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:10:12,299 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:10:12,301 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:10:12,303 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:10:12,304 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:10:12,310 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:10:12,310 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:10:12,314 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:11:12,293 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:11:12,294 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:11:12,295 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:11:12,296 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:11:12,297 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:11:12,299 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:11:12,299 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:11:12,301 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:11:12,304 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:11:12,305 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:11:12,306 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:11:12,308 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:11:12,308 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:11:12,312 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:11:12,312 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:11:12,314 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:11:12,606 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:11:12,607 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:11:12,609 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:11:12,611 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:11:12,612 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:11:12,615 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:11:12,616 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:11:12,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:12:12,293 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:12:12,294 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:12:12,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:12:12,296 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:12:12,297 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:12:12,298 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:12:12,299 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:12:12,299 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:12:12,300 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:12:12,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:12:12,303 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:12:12,305 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:12:12,306 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:12:12,307 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:12:12,308 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:12:12,310 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:12:12,310 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:12:12,313 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:12:12,314 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:12:12,318 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:12:12,322 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:12:12,323 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:12:12,325 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:12:12,326 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:12:12,327 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:12:12,332 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:12:12,333 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:12:12,337 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:13:12,287 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:13:12,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:13:12,289 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:13:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:13:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:13:12,293 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:13:12,293 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:13:12,295 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:13:12,298 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:13:12,298 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:13:12,300 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:13:12,301 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:13:12,301 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:13:12,306 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:13:12,306 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:13:12,310 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:13:12,594 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:13:12,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:13:12,597 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:13:12,598 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:13:12,599 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:13:12,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:13:12,601 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:13:12,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:14:12,287 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:14:12,288 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:14:12,289 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:14:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:14:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:14:12,293 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:14:12,294 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:14:12,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:14:12,594 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:14:12,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:14:12,597 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:14:12,598 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:14:12,599 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:14:12,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:14:12,604 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:14:12,608 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:14:12,613 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:14:12,614 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:14:12,616 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:14:12,618 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:14:12,618 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:14:12,624 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:14:12,625 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:14:12,630 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:15:12,290 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:15:12,291 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:15:12,293 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:15:12,294 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:15:12,294 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:15:12,297 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:15:12,297 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:15:12,299 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:15:12,302 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:15:12,303 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:15:12,304 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:15:12,306 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:15:12,307 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:15:12,311 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:15:12,311 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:15:12,314 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:15:12,599 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:15:12,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:15:12,602 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:15:12,603 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:15:12,604 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:15:12,606 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:15:12,606 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:15:12,608 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:16:12,294 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:16:12,295 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:16:12,297 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:16:12,298 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:16:12,299 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:16:12,300 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:16:12,300 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:16:12,303 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:16:12,304 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:16:12,306 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:16:12,610 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:16:12,611 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:16:12,612 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:16:12,613 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:16:12,613 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:16:12,616 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:16:12,617 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:16:12,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:16:12,622 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:16:12,624 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:16:12,628 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:16:12,631 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:16:12,631 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:16:12,636 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:16:12,636 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:16:12,640 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:16:28,691 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:16:28,692 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:16:28,694 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:16:28,696 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:16:28,697 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:16:28,703 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:16:28,704 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:16:28,710 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:16:32,477 - main - INFO - üì• OPTIONS /api/comparison/cmp_1765813920_2ec94a5938ec/pdf
2025-12-15 16:16:32,478 - main - INFO - üì§ OPTIONS /api/comparison/cmp_1765813920_2ec94a5938ec/pdf - 200 - 0.00s
2025-12-15 16:16:32,481 - main - INFO - üì• GET /api/comparison/cmp_1765813920_2ec94a5938ec/pdf
2025-12-15 16:16:32,482 - app.api.routes - INFO - üìÑ Generating PDF for comparison: cmp_1765813920_2ec94a5938ec
2025-12-15 16:16:32,484 - app.services.pdf_generator_service - INFO - üîç Validating comparison data for: cmp_1765813920_2ec94a5938ec
2025-12-15 16:16:32,484 - app.services.pdf_generator_service - INFO - ‚úÖ Comparison data validated: summary=True, data_table=True, side_by_side=True
2025-12-15 16:16:32,484 - app.services.pdf_generator_service - INFO - üìÑ Building cover page...
2025-12-15 16:16:32,485 - app.services.pdf_generator_service - INFO - ‚úÖ Cover page built successfully
2025-12-15 16:16:32,485 - app.services.pdf_generator_service - INFO - üìÑ Building strategic executive memo (1-page brief)...
2025-12-15 16:16:32,489 - app.services.pdf_generator_service - INFO - ‚úÖ Strategic memo built successfully
2025-12-15 16:16:32,489 - app.services.pdf_generator_service - INFO - üìÑ Building detailed comparison factors...
2025-12-15 16:16:32,498 - app.services.pdf_generator_service - INFO - ‚úÖ Detailed comparison factors built successfully
2025-12-15 16:16:32,498 - app.services.pdf_generator_service - INFO - üìÑ Building key differences section...
2025-12-15 16:16:32,506 - app.services.pdf_generator_service - INFO - ‚úÖ Key differences section built successfully
2025-12-15 16:16:32,506 - app.services.pdf_generator_service - INFO - üìÑ Building data table section...
2025-12-15 16:16:32,509 - app.services.pdf_generator_service - INFO - ‚úÖ Data table section built successfully
2025-12-15 16:16:32,509 - app.services.pdf_generator_service - INFO - üìÑ Building side-by-side section...
2025-12-15 16:16:32,510 - app.services.pdf_generator_service - INFO - ‚úÖ Side-by-side section built successfully
2025-12-15 16:16:32,511 - app.services.pdf_generator_service - INFO - üìÑ Building analytics section...
2025-12-15 16:16:32,514 - app.services.pdf_generator_service - INFO - ‚úÖ Analytics section built successfully
2025-12-15 16:16:32,738 - app.services.pdf_generator_service - INFO - ‚úÖ Generated enhanced PDF for comparison: cmp_1765813920_2ec94a5938ec
2025-12-15 16:16:32,738 - app.api.routes - INFO - ‚úÖ PDF generated successfully: HAKEM_AI_Comparison_cmp_1765813920_2ec94a5938ec_20251215_161632.pdf (147155 bytes)
2025-12-15 16:16:32,739 - main - INFO - üì§ GET /api/comparison/cmp_1765813920_2ec94a5938ec/pdf - 200 - 0.26s
2025-12-15 16:16:50,280 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:16:50,281 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402cae1ac37a9c504e26e2
2025-12-15 16:16:50,282 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c6 - will include shared comparisons
2025-12-15 16:16:50,283 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c6
2025-12-15 16:16:50,283 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402cae1ac37a9c504e26e2'}, {'company_id': '69402bf81ac37a9c504e26c6'}, {'user_id': '69402af41ac37a9c504e265c'}]}
2025-12-15 16:16:50,285 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402cae1ac37a9c504e26e2 (company: 69402bf81ac37a9c504e26c6)
2025-12-15 16:16:50,286 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402cae1ac37a9c504e26e2
2025-12-15 16:16:50,288 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:05,684 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:05,686 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:05,690 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:05,693 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:05,693 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:05,697 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:05,698 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:05,701 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:12,278 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:12,278 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:12,279 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:12,280 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:12,280 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:12,283 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:12,284 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:12,286 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:21,788 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:21,789 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:21,790 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:21,791 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:21,791 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:21,793 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:21,793 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:21,796 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:25,687 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:25,688 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:25,690 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:25,692 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:25,693 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:25,697 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:25,697 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:25,699 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:25,702 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:25,703 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:25,705 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:25,708 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:25,708 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:25,715 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:25,724 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:25,728 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:17:26,200 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:26,201 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:26,203 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:26,204 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:26,204 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:26,208 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:26,208 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:26,211 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:26,213 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:26,215 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:26,217 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:26,220 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:26,220 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:26,226 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:26,227 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:26,236 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:26,902 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:26,902 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:26,904 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:26,906 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:26,906 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:26,910 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:26,910 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:26,913 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:26,962 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:26,979 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:26,989 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:26,994 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:27,006 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:27,025 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:27,028 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:27,054 - main - INFO - üì§ GET /api/comparisons - 200 - 0.09s
2025-12-15 16:17:29,830 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:29,831 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:29,832 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:29,833 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:29,834 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:29,836 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:29,837 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:29,840 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:29,843 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:29,844 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:29,847 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:29,849 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:29,850 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:29,858 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:29,859 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:29,863 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:30,477 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:30,478 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:30,479 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:30,481 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:30,481 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:30,484 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:30,485 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:30,490 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:30,493 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:30,495 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:30,498 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:30,501 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:30,504 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:30,510 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:30,511 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:30,520 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:17:30,808 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:30,808 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:30,810 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:30,810 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:30,811 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:30,813 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:30,813 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:30,815 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:30,817 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:30,818 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:30,819 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:30,821 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:30,822 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:30,829 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:30,830 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:30,836 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:31,487 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:31,487 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:31,489 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:31,491 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:31,491 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:31,495 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:31,495 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:31,498 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:31,501 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:31,502 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:31,504 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:31,508 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:31,509 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:31,518 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:31,522 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:31,529 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:17:31,806 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:31,807 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:31,808 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:31,810 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:31,810 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:31,813 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:31,813 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:31,815 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:31,817 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:31,818 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:31,819 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:31,821 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:31,822 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:31,828 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:31,829 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:31,835 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:32,145 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:32,145 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:32,146 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:32,147 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:32,147 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:32,150 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:32,150 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:32,152 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:32,155 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:32,156 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:32,159 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:32,161 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:32,161 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:32,170 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:32,170 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:32,175 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:17:34,439 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:34,439 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:34,441 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:34,442 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:34,442 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:34,445 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:34,446 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:34,448 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:17:34,450 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:17:34,451 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:17:34,453 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:17:34,455 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:17:34,455 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:17:34,465 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:17:34,466 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:17:34,473 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:18:12,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:18:12,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:18:12,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:18:12,601 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:18:12,601 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:18:12,607 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:18:12,608 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:18:12,613 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:18:29,474 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:18:29,475 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:18:29,478 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:18:29,479 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:18:29,480 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:18:29,484 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:18:29,485 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:18:29,490 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:18:46,591 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:18:46,591 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:18:46,592 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:18:46,593 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:18:46,594 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:18:46,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:18:46,597 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:18:46,599 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:19:16,288 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:19:16,289 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:19:16,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:19:16,290 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:19:16,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:19:16,293 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:19:16,293 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:19:16,296 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:19:46,589 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:19:46,590 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:19:46,593 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:19:46,595 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:19:46,596 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:19:46,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:19:46,604 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:19:46,609 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:20:47,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:20:47,595 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:20:47,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:20:47,601 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:20:47,602 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:20:47,609 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:20:47,610 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:20:47,617 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:21:48,593 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:21:48,594 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:21:48,595 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:21:48,596 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:21:48,596 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:21:48,598 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:21:48,598 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:21:48,601 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:22:49,594 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:22:49,594 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:22:49,596 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:22:49,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:22:49,597 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:22:49,598 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:22:49,599 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:22:49,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:22:49,602 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:22:49,604 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:23:50,598 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:23:50,599 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:23:50,600 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:23:50,601 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:23:50,601 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:23:50,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:23:50,605 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:23:50,608 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:24:51,603 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:24:51,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:24:51,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:24:51,611 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:24:51,612 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:24:51,620 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:24:51,621 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:24:51,630 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:25:52,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:25:52,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:25:52,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:25:52,601 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:25:52,602 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:25:52,607 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:25:52,608 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:25:52,613 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:26:53,595 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:26:53,596 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:26:53,597 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:26:53,598 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:26:53,598 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:26:53,601 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:26:53,601 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:26:53,603 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:27:54,603 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:27:54,603 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:27:54,604 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:27:54,605 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:27:54,605 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:27:54,608 - app.services.mongodb_service_enhanced - INFO - üìä Found 2 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:27:54,608 - app.api.routes - INFO - ‚úÖ Found 2 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:27:54,610 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:28:15,375 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-15 16:28:15,375 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-15 16:28:15,462 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 16:28:15,479 - app.api.routes - INFO - üîç Checking user subscription for user: 69402af41ac37a9c504e265c
2025-12-15 16:28:15,480 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 16:28:15,480 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 16:28:15,481 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 16:28:15,485 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 16:28:15,489 - app.api.routes - INFO - ‚úÖ User 69402af41ac37a9c504e265c can perform comparison
2025-12-15 16:28:15,490 - app.api.routes - INFO -    - Remaining comparisons: 248
2025-12-15 16:28:15,491 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-15 16:28:15,492 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-15 16:28:15,493 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765816095_cee926bb542b
2025-12-15 16:28:15,494 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_6215118a01de (3 files)
2025-12-15 16:28:15,495 - app.api.routes - INFO - üìä Initialized progress tracking: job_6215118a01de
2025-12-15 16:28:15,496 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:28:15,497 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:28:15,498 - app.api.routes - INFO - ======================================================================
2025-12-15 16:28:15,502 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí e3914e56a4174bc4b9439ceab68675e3.pdf (464206 bytes)
2025-12-15 16:28:15,503 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:28:15,506 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\e3914e56a4174bc4b9439ceab68675e3.pdf
2025-12-15 16:28:15,507 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:28:15,510 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:28:15,565 - app.api.routes - INFO - ======================================================================
2025-12-15 16:28:15,624 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Chubb.pdf ‚Üí c6db72870a514b898874902ec11853b7.pdf (175401 bytes)
2025-12-15 16:28:15,666 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:28:15,712 - app.services.pdf_extractor - INFO - Successfully extracted 14935 characters from 7 pages
2025-12-15 16:28:15,715 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\c6db72870a514b898874902ec11853b7.pdf
2025-12-15 16:28:15,716 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:28:15,835 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:28:15,896 - app.api.routes - INFO - ======================================================================
2025-12-15 16:28:15,913 - app.services.pdf_extractor - INFO - Successfully extracted 14268 characters from 7 pages
2025-12-15 16:28:15,916 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Liva.pdf ‚Üí 9c5244e8a3de49e19363373cf530ec87.pdf (331157 bytes)
2025-12-15 16:28:15,918 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:28:15,920 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\9c5244e8a3de49e19363373cf530ec87.pdf
2025-12-15 16:28:15,923 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:28:15,993 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:28:16,045 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Tawuniya (pattern: \btawuniya\b)
2025-12-15 16:28:16,063 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-15 16:28:16,099 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 16:28:16,131 - app.services.pdf_extractor - INFO - Successfully extracted 18289 characters from 8 pages
2025-12-15 16:28:16,131 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:28:16,134 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-15 16:28:16,413 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-15 16:28:16,417 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:28:17,005 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:28:17,006 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:28:17,009 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Chubb Arabia (pattern: \bchubb\b)
2025-12-15 16:28:17,010 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Chubb Arabia
2025-12-15 16:28:17,010 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 16:28:17,010 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:28:17,011 - app.services.ai_parser - INFO - üìã Detected format: CHUBB
2025-12-15 16:28:17,109 - app.services.ai_parser - INFO - üéØ Pre-extracted 3 sublimits
2025-12-15 16:28:17,110 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:28:17,111 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:28:17,111 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:28:17,112 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Liva Insurance (pattern: \bliva\b)
2025-12-15 16:28:17,112 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Liva Insurance
2025-12-15 16:28:17,112 - app.services.ai_parser - INFO - üë§ Insured (Customer): No.  Description
2025-12-15 16:28:17,112 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:28:17,113 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-15 16:28:17,236 - app.services.ai_parser - INFO - üéØ Pre-extracted 7 sublimits
2025-12-15 16:28:17,237 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:28:44,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:28:44,766 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:28:44,766 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:28:44,767 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:28:44,767 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Deductible missing/invalid, using fallback...
2025-12-15 16:28:44,768 - app.services.ai_parser - INFO - ‚úÖ Extracted deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:28:44,768 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-15 16:28:44,773 - app.services.ai_parser - INFO - üìã Fallback extracted 45 benefits from patterns
2025-12-15 16:28:44,773 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 44 total
2025-12-15 16:28:44,773 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:29:50,539 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:30:45,095 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:30:46,291 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:30:46,292 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:30:46,293 - app.services.ai_parser - INFO - üîÑ Rate: '0.38‚Ä∞' ‚Üí '0.38‚Ä∞'
2025-12-15 16:30:46,293 - app.services.ai_parser - INFO - üí∞ Calculated: 594567.88 from SI: 1564652306.0 √ó Rate: 0.38‚Ä∞
2025-12-15 16:30:46,294 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles (fallback): MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:30:46,294 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:30:46,295 - app.services.ai_parser - INFO - üìä Counts: 44 benefits, 24 exclusions, 13 warranties, 3 extensions
2025-12-15 16:31:04,849 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:31:12,714 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:31:12,714 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:31:12,715 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:31:12,716 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 6 benefits, using fallback...
2025-12-15 16:31:12,724 - app.services.ai_parser - INFO - üìã Fallback extracted 60 benefits from patterns
2025-12-15 16:31:12,725 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 59 total
2025-12-15 16:31:12,726 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:31:18,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:31:18,591 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:31:18,592 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:31:18,592 - app.services.ai_parser - INFO - üîÑ Rate: '0.35%o' ‚Üí '0.35‚Ä∞'
2025-12-15 16:31:18,593 - app.services.ai_parser - INFO - üí∞ Calculated: 547628.31 from SI: 1564652306.0 √ó Rate: 0.35%o
2025-12-15 16:31:18,593 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:31:18,594 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:31:18,594 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:31:18,594 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 16:31:18,595 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:31:18,595 - app.services.ai_parser - INFO - üìä Counts: 59 benefits, 29 exclusions, 9 warranties, 5 extensions
2025-12-15 16:32:26,124 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:32:43,084 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:32:44,463 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:32:44,463 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:32:44,464 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:32:44,464 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 5 benefits, using fallback...
2025-12-15 16:32:44,469 - app.services.ai_parser - INFO - üìã Fallback extracted 32 benefits from patterns
2025-12-15 16:32:44,469 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 37 total
2025-12-15 16:32:44,469 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:33:25,890 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 16:33:25,891 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 16:33:25,891 - app.services.ai_parser - INFO - 
2025-12-15 16:33:25,891 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:33:25,892 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:33:25,892 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:33:25,892 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-15 16:33:25,892 - app.services.ai_parser - INFO - üë§ Insured: M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 16:33:25,893 - app.services.ai_parser - INFO - üí∞ Premium: SAR 594,567.87
2025-12-15 16:33:25,893 - app.services.ai_parser - INFO - üìä Rate: 0.38‚Ä∞
2025-12-15 16:33:25,893 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 16:33:25,893 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 16:33:25,893 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:33:25,894 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 16:33:25,894 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 16:33:25,894 - app.services.ai_parser - INFO - 
2025-12-15 16:33:25,894 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 16:33:25,894 - app.services.ai_parser - INFO -    ‚úì Benefits: 44
2025-12-15 16:33:25,895 - app.services.ai_parser - INFO -    ‚úì Exclusions: 24
2025-12-15 16:33:25,895 - app.services.ai_parser - INFO -    ‚úì Warranties: 13
2025-12-15 16:33:25,895 - app.services.ai_parser - INFO -    ‚úì Extensions: 3
2025-12-15 16:33:25,895 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 16:33:25,895 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:33:25,897 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: e3914e56a4174bc4b9439ceab68675e3.pdf ‚Üí 694038559ed15b9b5856f234
2025-12-15 16:33:25,898 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 694038559ed15b9b5856f234
2025-12-15 16:33:25,902 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 694038559ed15b9b5856f235 (464206 bytes)
2025-12-15 16:33:25,903 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 694038559ed15b9b5856f235
2025-12-15 16:33:25,903 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:33:53,008 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:34:11,458 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 82.0
2025-12-15 16:34:11,459 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 16:34:11,460 - app.services.ai_parser - INFO - 
2025-12-15 16:34:11,460 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:34:11,462 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:34:11,462 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:34:11,463 - app.services.ai_parser - INFO - üè¢ Insurer: Chubb Arabia
2025-12-15 16:34:11,463 - app.services.ai_parser - INFO - üë§ Insured: M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 16:34:11,463 - app.services.ai_parser - INFO - üí∞ Premium: SAR 500,000.00
2025-12-15 16:34:11,464 - app.services.ai_parser - INFO - üìä Rate: 0.35‚Ä∞
2025-12-15 16:34:11,464 - app.services.ai_parser - INFO - üéØ Score: 82.0/100
2025-12-15 16:34:11,465 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 16:34:11,465 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 16:34:11,465 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 16:34:11,465 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 16:34:11,466 - app.services.ai_parser - INFO - 
2025-12-15 16:34:11,466 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 16:34:11,466 - app.services.ai_parser - INFO -    ‚úì Benefits: 59
2025-12-15 16:34:11,466 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-15 16:34:11,466 - app.services.ai_parser - INFO -    ‚úì Warranties: 9
2025-12-15 16:34:11,467 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 16:34:11,467 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 4
2025-12-15 16:34:11,467 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:34:11,469 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: c6db72870a514b898874902ec11853b7.pdf ‚Üí 694038839ed15b9b5856f236
2025-12-15 16:34:11,470 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 694038839ed15b9b5856f236
2025-12-15 16:34:11,472 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 694038839ed15b9b5856f237 (175401 bytes)
2025-12-15 16:34:11,473 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 694038839ed15b9b5856f237
2025-12-15 16:34:11,473 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:36:13,198 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:36:13,199 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:36:13,200 - app.services.ai_parser - INFO - üîÑ Rate: '0.379%o on Total Sum insured of SAR 1,564,652,306.28' ‚Üí '0.379‚Ä∞'
2025-12-15 16:36:13,200 - app.services.ai_parser - INFO - üí∞ Calculated: 593003.22 from SI: 1564652306.28 √ó Rate: 0.379%o on Total Sum insured of SAR 1,564,652,306.28
2025-12-15 16:36:13,201 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:36:13,201 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:36:13,202 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:36:13,202 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:36:13,203 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:36:13,203 - app.services.ai_parser - INFO - üìä Counts: 37 benefits, 26 exclusions, 13 warranties, 5 extensions
2025-12-15 16:36:49,368 - main - INFO - 
2025-12-15 16:36:49,369 - main - INFO - ================================================================================
2025-12-15 16:36:49,369 - main - INFO -   INSURANCE QUOTE COMPARISON API v3.1
2025-12-15 16:36:49,369 - main - INFO -   Production-Ready Complete Integration
2025-12-15 16:36:49,369 - main - INFO - ================================================================================
2025-12-15 16:36:49,370 - main - INFO -   AI Model: gpt-4o-mini
2025-12-15 16:36:49,370 - main - INFO -   Upload Directory: uploads
2025-12-15 16:36:49,370 - main - INFO -   Max File Size: 20MB
2025-12-15 16:36:49,370 - main - INFO - ================================================================================
2025-12-15 16:36:49,371 - main - INFO -   ‚úÖ Upload directory ready: uploads
2025-12-15 16:36:49,371 - main - INFO -   ‚úÖ Logs directory ready: logs/
2025-12-15 16:36:49,372 - app.services.mongodb_service_enhanced - INFO - üîå Connecting to MongoDB: mongodb://localhost:27017/hakemAI
2025-12-15 16:36:49,410 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Successfully connected to MongoDB
2025-12-15 16:36:49,415 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Database indexes created successfully
2025-12-15 16:36:49,415 - main - INFO -   ‚úÖ Enhanced MongoDB connected: mongodb://localhost:27017
2025-12-15 16:36:49,416 - app.services.user_subscription_service - INFO - üîå Connecting to MongoDB for user subscription checks
2025-12-15 16:36:49,416 - app.services.user_subscription_service - INFO -    URL: mongodb://localhost:...alhost:27017/hakemAI
2025-12-15 16:36:49,416 - app.services.user_subscription_service - INFO -    Database: hakemAI
2025-12-15 16:36:49,444 - app.services.user_subscription_service - INFO - ‚úÖ Successfully connected to MongoDB for user subscription checks
2025-12-15 16:36:49,449 - app.services.user_subscription_service - INFO - üìã Available databases: ['admin', 'cms', 'cms_database', 'config', 'hakemAI', 'insurance_comparison', 'local']
2025-12-15 16:36:49,451 - app.services.user_subscription_service - INFO - üìã Collections in 'hakemAI': ['companyusers', 'user_documents', 'companies', 'comparisons', 'users', 'individual_pdf_extractions', 'admins']
2025-12-15 16:36:49,456 - app.services.user_subscription_service - INFO - üìä Users collection has 4 documents
2025-12-15 16:36:49,456 - main - INFO -   ‚úÖ User Subscription Service connected
2025-12-15 16:36:49,456 - app.services.user_documents_service - INFO - üîå Connecting User Documents Service to MongoDB
2025-12-15 16:36:49,457 - app.services.user_documents_service - INFO -    URL: mongodb://localhost:27017/hakemAI
2025-12-15 16:36:49,457 - app.services.user_documents_service - INFO -    Database: hakemAI
2025-12-15 16:36:49,489 - app.services.user_documents_service - INFO - ‚úÖ User Documents Service connected to MongoDB
2025-12-15 16:36:49,490 - main - INFO -   ‚úÖ User Documents Service connected
2025-12-15 16:36:49,490 - main - INFO -   ‚úÖ Progress tracker cleanup task started
2025-12-15 16:36:49,491 - main - INFO - 
2025-12-15 16:36:49,491 - main - INFO -   üéØ INTEGRATED COMPONENTS:
2025-12-15 16:36:49,491 - main - INFO -      ‚Ä¢ AI Parser v6.0: 6-stage comprehensive extraction
2025-12-15 16:36:49,492 - main - INFO -        - Proper entity identification (insurer vs insured)
2025-12-15 16:36:49,492 - main - INFO -        - Separates warranties from extensions
2025-12-15 16:36:49,492 - main - INFO -        - Extracts subjectivities & operational details
2025-12-15 16:36:49,493 - main - INFO -        - Correct deductible tier detection
2025-12-15 16:36:49,493 - main - INFO -        - Full benefits extraction (30+, not 4)
2025-12-15 16:36:49,493 - main - INFO - 
2025-12-15 16:36:49,494 - main - INFO -      ‚Ä¢ AI Ranker v2.0: Complete comparison engine
2025-12-15 16:36:49,494 - main - INFO -        - Generates ALL sections comprehensively
2025-12-15 16:36:49,494 - main - INFO -        - Identifies unique items per provider
2025-12-15 16:36:49,495 - main - INFO -        - Transparent scoring methodology
2025-12-15 16:36:49,496 - main - INFO -        - Uses full _extended_data from parser
2025-12-15 16:36:49,498 - main - INFO - 
2025-12-15 16:36:49,499 - main - INFO -      ‚Ä¢ Routes v3.1: Simplified orchestration
2025-12-15 16:36:49,500 - main - INFO -        - Single endpoint auto-populates everything
2025-12-15 16:36:49,500 - main - INFO -        - No manual section generation
2025-12-15 16:36:49,500 - main - INFO -        - Complete MongoDB integration
2025-12-15 16:36:49,500 - main - INFO - 
2025-12-15 16:36:49,501 - main - INFO -   üîß CRITICAL FIXES IN v3.1:
2025-12-15 16:36:49,501 - main - INFO -      ‚úÖ Benefits count: 30+ (was 4)
2025-12-15 16:36:49,501 - main - INFO -      ‚úÖ Warranty categorization: Proper separation
2025-12-15 16:36:49,501 - main - INFO -      ‚úÖ Subjectivities: Now included
2025-12-15 16:36:49,502 - main - INFO -      ‚úÖ Deductibles: Correct tier (SR 1M, not SR 50K)
2025-12-15 16:36:49,502 - main - INFO -      ‚úÖ Operational details: Validity, payment, brokerage
2025-12-15 16:36:49,502 - main - INFO -      ‚úÖ Scoring: Transparent methodology with breakdown
2025-12-15 16:36:49,502 - main - INFO - 
2025-12-15 16:36:49,503 - main - INFO -   üì° AVAILABLE ENDPOINTS:
2025-12-15 16:36:49,503 - main - INFO -      Main:
2025-12-15 16:36:49,503 - main - INFO -        POST /api/compare-quotes           Upload PDFs, get everything
2025-12-15 16:36:49,503 - main - INFO - 
2025-12-15 16:36:49,504 - main - INFO -      Retrieval:
2025-12-15 16:36:49,504 - main - INFO -        GET  /api/comparisons/{id}         Complete comparison
2025-12-15 16:36:49,505 - main - INFO -        POST /api/summary                  Rankings & analysis
2025-12-15 16:36:49,505 - main - INFO -        POST /api/key-differences          Unique items per provider
2025-12-15 16:36:49,506 - main - INFO -        POST /api/side-by-side             Top providers comparison
2025-12-15 16:36:49,507 - main - INFO -        POST /api/data-table               Sortable data grid
2025-12-15 16:36:49,508 - main - INFO -        POST /api/analytics                Charts & statistics
2025-12-15 16:36:49,508 - main - INFO -        POST /api/provider-cards           UI-ready summaries
2025-12-15 16:36:49,509 - main - INFO - 
2025-12-15 16:36:49,510 - main - INFO -      Management:
2025-12-15 16:36:49,511 - main - INFO -        GET  /api/comparisons/recent       Recent comparisons
2025-12-15 16:36:49,511 - main - INFO -        GET  /api/comparisons/search       Search by provider
2025-12-15 16:36:49,512 - main - INFO -        DELETE /api/comparisons/{id}       Delete comparison
2025-12-15 16:36:49,512 - main - INFO - 
2025-12-15 16:36:49,513 - main - INFO -      Documents (MongoDB):
2025-12-15 16:36:49,515 - main - INFO -        GET  /api/documents                All documents
2025-12-15 16:36:49,518 - main - INFO -        GET  /api/documents/{id}           Specific document
2025-12-15 16:36:49,518 - main - INFO -        GET  /api/documents/search/{q}     Search documents
2025-12-15 16:36:49,518 - main - INFO -        DELETE /api/documents/{id}         Delete document
2025-12-15 16:36:49,518 - main - INFO - 
2025-12-15 16:36:49,519 - main - INFO -      Diagnostics & Health:
2025-12-15 16:36:49,519 - main - INFO -        GET  /api/health                   System health
2025-12-15 16:36:49,519 - main - INFO -        GET  /api/status                   Detailed status
2025-12-15 16:36:49,520 - main - INFO -        GET  /api/diagnostics/comparison/{id}  Comparison diagnostics
2025-12-15 16:36:49,520 - main - INFO - 
2025-12-15 16:36:49,520 - main - INFO -   üìä AUTO-GENERATED SECTIONS:
2025-12-15 16:36:49,520 - main - INFO -      ‚úì Summary with rankings & detailed analysis
2025-12-15 16:36:49,521 - main - INFO -      ‚úì Key Differences (unique warranties, exclusions)
2025-12-15 16:36:49,521 - main - INFO -      ‚úì Side-by-Side (top providers comparison matrix)
2025-12-15 16:36:49,521 - main - INFO -      ‚úì Data Table (sortable, filterable)
2025-12-15 16:36:49,522 - main - INFO -      ‚úì Analytics (premium charts, score charts, features)
2025-12-15 16:36:49,522 - main - INFO -      ‚úì Provider Cards (UI-ready summaries)
2025-12-15 16:36:49,522 - main - INFO -      ‚úì Extracted Quotes (full data with all benefits)
2025-12-15 16:36:49,523 - main - INFO - 
2025-12-15 16:36:49,523 - main - INFO -   üéØ WORKFLOW:
2025-12-15 16:36:49,524 - main - INFO -      1. Upload 1-10 PDFs ‚Üí POST /api/compare-quotes
2025-12-15 16:36:49,525 - main - INFO -      2. Receive comparison_id + complete data
2025-12-15 16:36:49,525 - main - INFO -      3. Retrieve sections using comparison_id
2025-12-15 16:36:49,525 - main - INFO -      4. No re-upload needed!
2025-12-15 16:36:49,526 - main - INFO - 
2025-12-15 16:36:49,526 - main - INFO - ================================================================================
2025-12-15 16:36:49,527 - main - INFO -   ‚úÖ Application started successfully!
2025-12-15 16:36:49,527 - main - INFO -   üìö API Docs: http://localhost:8000/docs
2025-12-15 16:36:49,527 - main - INFO -   üìñ ReDoc: http://localhost:8000/redoc
2025-12-15 16:36:49,528 - main - INFO - ================================================================================
2025-12-15 16:36:49,528 - main - INFO - 
2025-12-15 16:36:49,528 - app.services.progress_tracker - INFO - üîÑ Starting progress cleanup task (interval: 300s)
2025-12-15 16:37:00,364 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 16:37:00,382 - app.api.routes - INFO - üîç Checking user subscription for user: 69402af41ac37a9c504e265c
2025-12-15 16:37:00,384 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 16:37:00,385 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 16:37:00,386 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 16:37:00,389 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 16:37:00,393 - app.api.routes - INFO - ‚úÖ User 69402af41ac37a9c504e265c can perform comparison
2025-12-15 16:37:00,393 - app.api.routes - INFO -    - Remaining comparisons: 248
2025-12-15 16:37:00,394 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-15 16:37:00,394 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-15 16:37:00,394 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765816620_81db5a5b260d
2025-12-15 16:37:00,395 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_572bba3319fd (3 files)
2025-12-15 16:37:00,397 - app.api.routes - INFO - üìä Initialized progress tracking: job_572bba3319fd
2025-12-15 16:37:00,397 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:37:00,398 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:37:00,399 - app.api.routes - INFO - ======================================================================
2025-12-15 16:37:00,403 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí dc40e70fd4cc4cf1836d96730bd78ea9.pdf (464206 bytes)
2025-12-15 16:37:00,405 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:37:00,406 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\dc40e70fd4cc4cf1836d96730bd78ea9.pdf
2025-12-15 16:37:00,407 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:37:00,407 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:37:00,470 - app.api.routes - INFO - ======================================================================
2025-12-15 16:37:00,543 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Chubb.pdf ‚Üí cc2da3522a5443eba57716bd8ce1e5f5.pdf (175401 bytes)
2025-12-15 16:37:00,557 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:37:00,585 - app.services.pdf_extractor - INFO - Successfully extracted 14935 characters from 7 pages
2025-12-15 16:37:00,586 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\cc2da3522a5443eba57716bd8ce1e5f5.pdf
2025-12-15 16:37:00,587 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:37:00,710 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:37:00,744 - app.api.routes - INFO - ======================================================================
2025-12-15 16:37:00,781 - app.services.pdf_extractor - INFO - Successfully extracted 14268 characters from 7 pages
2025-12-15 16:37:00,784 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Liva.pdf ‚Üí fda2268475644d06897fbb4b19c2e75a.pdf (331157 bytes)
2025-12-15 16:37:00,786 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:37:00,788 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\fda2268475644d06897fbb4b19c2e75a.pdf
2025-12-15 16:37:00,791 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:37:00,902 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:37:00,933 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Tawuniya (pattern: \btawuniya\b)
2025-12-15 16:37:00,950 - app.services.pdf_extractor - INFO - Successfully extracted 18289 characters from 8 pages
2025-12-15 16:37:00,951 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-15 16:37:00,952 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 16:37:00,952 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:37:00,953 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-15 16:37:01,146 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-15 16:37:01,148 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:37:02,142 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:37:02,142 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:37:02,144 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Chubb Arabia (pattern: \bchubb\b)
2025-12-15 16:37:02,144 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Chubb Arabia
2025-12-15 16:37:02,145 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 16:37:02,145 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:37:02,146 - app.services.ai_parser - INFO - üìã Detected format: CHUBB
2025-12-15 16:37:02,356 - app.services.ai_parser - INFO - üéØ Pre-extracted 3 sublimits
2025-12-15 16:37:02,359 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:37:02,363 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:37:02,363 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:37:02,364 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Liva Insurance (pattern: \bliva\b)
2025-12-15 16:37:02,365 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Liva Insurance
2025-12-15 16:37:02,365 - app.services.ai_parser - INFO - üë§ Insured (Customer): No.  Description
2025-12-15 16:37:02,365 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 16:37:02,366 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-15 16:37:02,524 - app.services.ai_parser - INFO - üéØ Pre-extracted 7 sublimits
2025-12-15 16:37:02,525 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 16:37:28,111 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:37:28,360 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:37:28,360 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:37:28,361 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:37:28,361 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Deductible missing/invalid, using fallback...
2025-12-15 16:37:28,361 - app.services.ai_parser - INFO - ‚úÖ Extracted deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:37:28,362 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-15 16:37:28,366 - app.services.ai_parser - INFO - üìã Fallback extracted 45 benefits from patterns
2025-12-15 16:37:28,367 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 44 total
2025-12-15 16:37:28,367 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:37:28,367 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:37:28,367 - app.services.ai_parser - INFO - üîÑ Rate: '0.38‚Ä∞' ‚Üí '0.38‚Ä∞'
2025-12-15 16:37:28,368 - app.services.ai_parser - INFO - üí∞ Calculated: 594567.88 from SI: 1564652306.28 √ó Rate: 0.38‚Ä∞
2025-12-15 16:37:28,368 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles (fallback): MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:37:28,368 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:37:28,368 - app.services.ai_parser - INFO - üìä Counts: 44 benefits, 24 exclusions, 13 warranties, 5 extensions
2025-12-15 16:37:28,369 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 16:37:33,257 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:37:33,965 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 78.0
2025-12-15 16:37:37,189 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:37:38,719 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:37:38,720 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:37:38,720 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:37:38,721 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 5 benefits, using fallback...
2025-12-15 16:37:38,730 - app.services.ai_parser - INFO - üìã Fallback extracted 32 benefits from patterns
2025-12-15 16:37:38,730 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 37 total
2025-12-15 16:37:38,731 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:37:38,731 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:37:38,732 - app.services.ai_parser - INFO - üîÑ Rate: '0.379%o on Total Sum insured of SAR 1,564,652,306.28' ‚Üí '0.379‚Ä∞'
2025-12-15 16:37:38,732 - app.services.ai_parser - INFO - üí∞ Calculated: 593003.22 from SI: 1564652306.28 √ó Rate: 0.379%o on Total Sum insured of SAR 1,564,652,306.28
2025-12-15 16:37:38,733 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:37:38,733 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:37:38,734 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:37:38,734 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:37:38,735 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:37:38,735 - app.services.ai_parser - INFO - üìä Counts: 37 benefits, 26 exclusions, 13 warranties, 5 extensions
2025-12-15 16:37:38,736 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 16:37:43,710 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:37:43,713 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:38:57,076 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:38:57,081 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:39:02,905 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:40:51,679 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 16:40:51,680 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 16:40:51,681 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 16:40:51,682 - app.services.ai_parser - INFO - 
2025-12-15 16:40:51,682 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:51,683 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:40:51,684 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:51,684 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-15 16:40:51,685 - app.services.ai_parser - INFO - üë§ Insured: No.  Description
2025-12-15 16:40:51,686 - app.services.ai_parser - INFO - üí∞ Premium: SAR 593,003.00
2025-12-15 16:40:51,687 - app.services.ai_parser - INFO - üìä Rate: 0.379‚Ä∞
2025-12-15 16:40:51,687 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 16:40:51,688 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 16:40:51,689 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:40:51,690 - app.services.ai_parser - INFO - ‚è∞ Validity: 12 Months
2025-12-15 16:40:51,690 - app.services.ai_parser - INFO - üíº Brokerage: 
2025-12-15 16:40:51,691 - app.services.ai_parser - INFO - 
2025-12-15 16:40:51,692 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 16:40:51,693 - app.services.ai_parser - INFO -    ‚úì Benefits: 37
2025-12-15 16:40:51,693 - app.services.ai_parser - INFO -    ‚úì Exclusions: 26
2025-12-15 16:40:51,694 - app.services.ai_parser - INFO -    ‚úì Warranties: 13
2025-12-15 16:40:51,695 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 16:40:51,696 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 2
2025-12-15 16:40:51,697 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:51,702 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 16:40:51,703 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 16:40:51,703 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 16:40:51,704 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 6 benefits, using fallback...
2025-12-15 16:40:51,710 - app.services.ai_parser - INFO - üìã Fallback extracted 60 benefits from patterns
2025-12-15 16:40:51,710 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 59 total
2025-12-15 16:40:51,711 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 16:40:51,711 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 16:40:51,712 - app.services.ai_parser - INFO - üîÑ Rate: '0.35%o' ‚Üí '0.35‚Ä∞'
2025-12-15 16:40:51,712 - app.services.ai_parser - INFO - üí∞ Calculated: 547628.31 from SI: 1564652306.0 √ó Rate: 0.35%o
2025-12-15 16:40:51,712 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:40:51,713 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:40:51,713 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 16:40:51,713 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 16:40:51,714 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 16:40:51,714 - app.services.ai_parser - INFO - üìä Counts: 59 benefits, 29 exclusions, 9 warranties, 5 extensions
2025-12-15 16:40:51,714 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 16:40:51,718 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: fda2268475644d06897fbb4b19c2e75a.pdf ‚Üí 69403a13463ea4a397410720
2025-12-15 16:40:51,719 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69403a13463ea4a397410720
2025-12-15 16:40:51,723 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Liva.pdf ‚Üí 69403a13463ea4a397410721 (331157 bytes)
2025-12-15 16:40:51,724 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Liva.pdf ‚Üí 69403a13463ea4a397410721
2025-12-15 16:40:51,725 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 16:40:55,745 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:40:55,745 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 16:40:55,746 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 16:40:55,746 - app.services.ai_parser - INFO - 
2025-12-15 16:40:55,746 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:55,747 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:40:55,747 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:55,748 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-15 16:40:55,748 - app.services.ai_parser - INFO - üë§ Insured: M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 16:40:55,748 - app.services.ai_parser - INFO - üí∞ Premium: SAR 594,567.87
2025-12-15 16:40:55,749 - app.services.ai_parser - INFO - üìä Rate: 0.38‚Ä∞
2025-12-15 16:40:55,749 - app.services.ai_parser - INFO - üéØ Score: 78.0/100
2025-12-15 16:40:55,749 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 16:40:55,749 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 16:40:55,749 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 16:40:55,750 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 16:40:55,750 - app.services.ai_parser - INFO - 
2025-12-15 16:40:55,750 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 16:40:55,750 - app.services.ai_parser - INFO -    ‚úì Benefits: 44
2025-12-15 16:40:55,751 - app.services.ai_parser - INFO -    ‚úì Exclusions: 24
2025-12-15 16:40:55,751 - app.services.ai_parser - INFO -    ‚úì Warranties: 13
2025-12-15 16:40:55,751 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 16:40:55,751 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 3
2025-12-15 16:40:55,751 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:40:55,753 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: dc40e70fd4cc4cf1836d96730bd78ea9.pdf ‚Üí 69403a17463ea4a397410722
2025-12-15 16:40:55,753 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69403a17463ea4a397410722
2025-12-15 16:40:55,757 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 69403a17463ea4a397410723 (464206 bytes)
2025-12-15 16:40:55,757 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 69403a17463ea4a397410723
2025-12-15 16:40:55,758 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 16:40:56,393 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:40:56,399 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 16:43:06,155 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:44:02,117 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 82.0
2025-12-15 16:44:02,118 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 16:44:02,118 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 16:44:02,119 - app.services.ai_parser - INFO - 
2025-12-15 16:44:02,120 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:44:02,120 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:44:02,121 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:44:02,122 - app.services.ai_parser - INFO - üè¢ Insurer: Chubb Arabia
2025-12-15 16:44:02,122 - app.services.ai_parser - INFO - üë§ Insured: M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 16:44:02,123 - app.services.ai_parser - INFO - üí∞ Premium: SAR 500,000.00
2025-12-15 16:44:02,124 - app.services.ai_parser - INFO - üìä Rate: 0.35‚Ä∞
2025-12-15 16:44:02,124 - app.services.ai_parser - INFO - üéØ Score: 82.0/100
2025-12-15 16:44:02,125 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 16:44:02,126 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 16:44:02,126 - app.services.ai_parser - INFO - ‚è∞ Validity: Not specified
2025-12-15 16:44:02,127 - app.services.ai_parser - INFO - üíº Brokerage: Not specified
2025-12-15 16:44:02,128 - app.services.ai_parser - INFO - 
2025-12-15 16:44:02,128 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 16:44:02,129 - app.services.ai_parser - INFO -    ‚úì Benefits: 59
2025-12-15 16:44:02,130 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-15 16:44:02,130 - app.services.ai_parser - INFO -    ‚úì Warranties: 9
2025-12-15 16:44:02,131 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 16:44:02,131 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 3
2025-12-15 16:44:02,132 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 16:44:02,135 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: cc2da3522a5443eba57716bd8ce1e5f5.pdf ‚Üí 69403ad2463ea4a397410724
2025-12-15 16:44:02,136 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69403ad2463ea4a397410724
2025-12-15 16:44:02,139 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 69403ad2463ea4a397410725 (175401 bytes)
2025-12-15 16:44:02,140 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 69403ad2463ea4a397410725
2025-12-15 16:44:02,140 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 16:44:02,141 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-15 16:44:02,141 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:44:02,141 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-15 16:44:02,142 - app.api.routes - INFO - ======================================================================
2025-12-15 16:44:02,142 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-15 16:44:02,143 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-15 16:44:02,143 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-15 16:44:02,143 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 16:44:02,144 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-15 16:44:02,144 - app.services.ai_ranker - INFO - ================================================================================
2025-12-15 16:44:02,145 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 16:44:02,145 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-15 16:44:02,145 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 16:44:02,146 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 16:44:02,146 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 16:44:02,146 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 16:44:02,147 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 16:44:02,147 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Proposal Form', 'Claim Experience'], 'conditions_precedent': [], 'documentation_required': ['Signed and Stamped Proposal Form', 'Precautionary and Preventive Measures for past claims', 'Copies of Loss Adjustors reports for all non-Liva claims']}
2025-12-15 16:44:02,147 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 16:44:02,148 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 16:44:02,148 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 16:44:02,148 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 16:44:02,149 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SR 1,564,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306.28,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40,000,000",
        "deductible": "5% of claim amount, nil minimum if Sum Insured is less than SR 1,000,000 and subject to minimum SR 50,000 if Sum Insured is SR 1,000,000 to SR 40,000,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100,000,001 to SR 500,000,000",
        "deductible": "5% of claim amount, minimum SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500,000,000",
        "deductible": "5% of claim amount, minimum SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_
2025-12-15 16:44:02,151 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'binding_requirements': ['Proposal Form', 'Claim Experience']
2025-12-15 16:44:02,152 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'conditions_precedent': []
2025-12-15 16:44:02,152 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'documentation_required': ['Signed and Stamped Proposal Form', 'Precautionary and Preventive Measures for past claims', 'Copies of Loss Adjustors reports for all non-Liva claims']
2025-12-15 16:44:02,152 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 16:44:02,153 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 16:44:02,153 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 16:44:02,153 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 16:44:02,153 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 16:44:02,154 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,154 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 16:44:02,154 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 16:44:02,155 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,155 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 16:44:02,155 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 16:44:02,156 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 16:44:02,156 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 16:44:02,157 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 5
2025-12-15 16:44:02,159 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Proposal Form', 'Claim Experience', 'Signed and Stamped Proposal Form']
2025-12-15 16:44:02,160 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 5 subjectivities for Liva Insurance
2025-12-15 16:44:02,160 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-15 16:44:02,161 - app.services.ai_ranker - INFO -    Warranties: 13
2025-12-15 16:44:02,161 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 16:44:02,161 - app.services.ai_ranker - INFO -    Exclusions: 26
2025-12-15 16:44:02,162 - app.services.ai_ranker - INFO -    Subjectivities: 5
2025-12-15 16:44:02,162 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 16:44:02,164 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Tawuniya
2025-12-15 16:44:02,164 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 16:44:02,165 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 16:44:02,165 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 16:44:02,166 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 16:44:02,166 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 16:44:02,166 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License']}
2025-12-15 16:44:02,166 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 16:44:02,166 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 16:44:02,167 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 16:44:02,167 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 16:44:02,167 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SR 914,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306.28,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "not specified",
    "material_damage_tiers": [],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "fallback_summary": "MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000",
    "applicable_md_tier": {},
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SR 2,500,000 any one occurrence & in aggregate",
    "srcc_malicious_damage": "Limited to 25% of the location sum insured",
    "burglary_clause": "Limited to SR 5,000,000 in aggregate and subject to violence/forcible entry and/or exit",
    "Minimization of losses": "SR 250,
2025-12-15 16:44:02,169 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 16:44:02,170 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations']
2025-12-15 16:44:02,170 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 16:44:02,170 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 16:44:02,171 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 16:44:02,171 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 16:44:02,171 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 16:44:02,171 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 16:44:02,172 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,172 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 16:44:02,172 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 16:44:02,172 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,173 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 16:44:02,173 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 16:44:02,173 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 16:44:02,174 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 16:44:02,174 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 9
2025-12-15 16:44:02,175 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 16:44:02,175 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 9 subjectivities for Tawuniya
2025-12-15 16:44:02,176 - app.services.ai_ranker - INFO - 
üìä Tawuniya:
2025-12-15 16:44:02,176 - app.services.ai_ranker - INFO -    Warranties: 13
2025-12-15 16:44:02,176 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 16:44:02,177 - app.services.ai_ranker - INFO -    Exclusions: 24
2025-12-15 16:44:02,177 - app.services.ai_ranker - INFO -    Subjectivities: 9
2025-12-15 16:44:02,177 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 16:44:02,177 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Chubb Arabia
2025-12-15 16:44:02,178 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 16:44:02,178 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 16:44:02,178 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 16:44:02,178 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 16:44:02,178 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 16:44:02,179 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days'], 'conditions_precedent': ['No Control Clause', 'Breach of Warranty clause (Unintentionally only)'], 'documentation_required': ['The insured and the insurer have the choice to select a Insurance Authority (SAMA) licensed loss adjuster']}
2025-12-15 16:44:02,179 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 16:44:02,179 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 16:44:02,180 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 16:44:02,180 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 16:44:02,180 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "CHUBB",
  "sum_insured_breakdown": {
    "material_damage": "SR 914,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "5%, min SR 50,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 40M to SR 100M",
        "deductible": "5%, min SR 100,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "5%, min SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "5%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 40M",
        "deductibl
2025-12-15 16:44:02,183 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'binding_requirements': ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days']
2025-12-15 16:44:02,183 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'conditions_precedent': ['No Control Clause', 'Breach of Warranty clause (Unintentionally only)']
2025-12-15 16:44:02,183 - app.services.ai_ranker - INFO -    ‚úÖ Found 1 items in key 'documentation_required': ['The insured and the insurer have the choice to select a Insurance Authority (SAMA) licensed loss adjuster']
2025-12-15 16:44:02,184 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 16:44:02,184 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 16:44:02,184 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 16:44:02,184 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 16:44:02,185 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 16:44:02,186 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 16:44:02,186 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 16:44:02,186 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 16:44:02,186 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 6
2025-12-15 16:44:02,187 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days']
2025-12-15 16:44:02,187 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 6 subjectivities for Chubb Arabia
2025-12-15 16:44:02,187 - app.services.ai_ranker - INFO - 
üìä Chubb Arabia:
2025-12-15 16:44:02,188 - app.services.ai_ranker - INFO -    Warranties: 9
2025-12-15 16:44:02,188 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 16:44:02,188 - app.services.ai_ranker - INFO -    Exclusions: 29
2025-12-15 16:44:02,188 - app.services.ai_ranker - INFO -    Subjectivities: 6
2025-12-15 16:44:02,188 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-15 16:44:02,532 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-15 16:44:02,533 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 16:44:02,533 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 7
2025-12-15 16:44:02,533 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 4
2025-12-15 16:44:02,533 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 16:44:02,534 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that the insured to implement all risk recommendations within the give...
2025-12-15 16:44:02,534 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Tawuniya
2025-12-15 16:44:02,900 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-15 16:44:02,900 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 16:44:02,900 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 16:44:02,901 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 8
2025-12-15 16:44:02,901 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 16:44:02,901 - app.services.ai_ranker - INFO -       ‚Ä¢ (W28) warranted no workshop operations on insured premises
2025-12-15 16:44:02,902 - app.services.ai_ranker - INFO -       ‚Ä¢ (W2) Waste warranty
2025-12-15 16:44:02,902 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Chubb Arabia
2025-12-15 16:44:03,203 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-15 16:44:03,204 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 16:44:03,204 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 16:44:03,204 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 6
2025-12-15 16:44:03,204 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 16:44:03,205 - app.services.ai_ranker - INFO -       ‚Ä¢ Premium Payment Warranty 100% at inception
2025-12-15 16:44:03,205 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 16:44:03,205 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-15 16:44:03,205 - app.services.ai_ranker - INFO - ================================================================================

2025-12-15 16:44:03,206 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=78.57
2025-12-15 16:44:03,206 - app.services.ai_ranker - INFO - üìä Tawuniya: Hakim Score=96.0 (Premium), Weighted Score=82.43
2025-12-15 16:44:03,206 - app.services.ai_ranker - INFO - üìä Chubb Arabia: Hakim Score=80.0 (Baseline), Weighted Score=84.23
2025-12-15 16:44:03,207 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-15 16:44:03,207 - app.services.ai_ranker - INFO - ü§ñ Starting AI ranking analysis (background task)...
2025-12-15 16:44:03,207 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-15 16:45:31,137 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:45:31,140 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-15 16:45:31,141 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-15 16:45:44,221 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 16:45:44,271 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Chubb Arabia: Chubb Arabia stands out as the best insurance provider with a top rank of #1 and a score of 84.2/100...
2025-12-15 16:45:44,272 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-15 16:45:44,273 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,273 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-15 16:45:44,274 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765816620_81db5a5b260d
2025-12-15 16:45:44,274 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-15 16:45:44,275 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-15 16:45:44,275 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-15 16:45:44,275 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Liva Insurance
2025-12-15 16:45:44,276 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 16:45:44,276 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 16:45:44,277 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 16:45:44,278 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 16:45:44,279 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 16:45:44,279 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 16:45:44,279 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Tawuniya
2025-12-15 16:45:44,280 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 16:45:44,280 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 16:45:44,281 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 16:45:44,281 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 16:45:44,281 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 16:45:44,281 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 16:45:44,285 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-15 16:45:44,286 - app.services.mongodb_service_enhanced - INFO -    Summary: 5,083 bytes
2025-12-15 16:45:44,286 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 47,261 bytes
2025-12-15 16:45:44,287 - app.services.mongodb_service_enhanced - INFO -    Data table: 21,938 bytes
2025-12-15 16:45:44,287 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,692 bytes
2025-12-15 16:45:44,287 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 55,887 bytes
2025-12-15 16:45:44,288 - app.services.mongodb_service_enhanced - INFO -    Total document: 272,630 bytes
2025-12-15 16:45:44,289 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-15 16:45:44,290 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-15 16:45:44,290 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-15 16:45:44,290 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-15 16:45:44,291 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-15 16:45:44,291 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-15 16:45:44,292 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-15 16:45:44,292 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-15 16:45:44,292 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-15 16:45:44,293 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-15 16:45:44,293 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-15 16:45:44,294 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-15 16:45:44,294 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-15 16:45:44,294 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-15 16:45:44,295 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-15 16:45:44,295 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-15 16:45:44,295 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-15 16:45:44,296 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 16:45:44,296 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 16:45:44,297 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-15 16:45:44,306 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765816620_81db5a5b260d
2025-12-15 16:45:44,306 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 69403b385a37704a1c0a83ee
2025-12-15 16:45:44,309 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-15 16:45:44,309 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-15 16:45:44,310 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-15 16:45:44,310 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-15 16:45:44,311 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-15 16:45:44,311 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-15 16:45:44,311 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-15 16:45:44,311 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-15 16:45:44,312 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-15 16:45:44,312 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-15 16:45:44,313 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-15 16:45:44,313 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-15 16:45:44,314 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 16:45:44,314 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-15 16:45:44,314 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-15 16:45:44,315 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-15 16:45:44,315 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-15 16:45:44,315 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-15 16:45:44,316 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 16:45:44,316 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 69403b385a37704a1c0a83ee
2025-12-15 16:45:44,317 - app.api.routes - INFO -    Database: hakemAI
2025-12-15 16:45:44,317 - app.api.routes - INFO -    Collection: comparisons
2025-12-15 16:45:44,318 - app.api.routes - INFO -    Comparison ID: cmp_1765816620_81db5a5b260d
2025-12-15 16:45:44,319 - app.api.routes - INFO -    User ID: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,319 - app.api.routes - INFO -    Company ID: 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,326 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,326 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,327 - app.api.routes - INFO - 
======================================================================
2025-12-15 16:45:44,327 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-15 16:45:44,327 - app.api.routes - INFO - ======================================================================
2025-12-15 16:45:44,328 - app.api.routes - INFO - üìä Comparison ID: cmp_1765816620_81db5a5b260d
2025-12-15 16:45:44,328 - app.api.routes - INFO - üë§ User ID: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,328 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-15 16:45:44,329 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-15 16:45:44,329 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,329 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 16:45:44,329 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 16:45:44,331 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 16:45:44,333 - app.api.routes - INFO - üìä Remaining comparisons: 247
2025-12-15 16:45:44,333 - app.api.routes - INFO - ======================================================================

2025-12-15 16:45:44,333 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_572bba3319fd ‚Üí comparison_id: cmp_1765816620_81db5a5b260d
2025-12-15 16:45:44,336 - main - INFO - üì§ POST /api/compare-quotes - 200 - 523.97s
2025-12-15 16:45:44,699 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:45:44,699 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:45:44,703 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:45:44,704 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:45:44,708 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:45:44,709 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:45:44,712 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:45:44,715 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,720 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:45:44,722 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,723 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:45:44,733 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:45:44,734 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,743 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:45:44,756 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:45:44,757 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,762 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:45:44,765 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,765 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:45:44,773 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:45:44,774 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,780 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:45:44,787 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:45:44,788 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,793 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:45:44,795 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,796 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:45:44,809 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:45:44,810 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,820 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:45:44,824 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:45:44,825 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:45:44,827 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:45:44,833 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:45:44,835 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:45:44,846 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:45:44,847 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:45:44,855 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:46:15,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:46:15,293 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:46:15,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:46:15,295 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:46:15,296 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:46:15,300 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:46:15,300 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:46:15,304 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:46:45,589 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:46:45,590 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:46:45,591 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:46:45,592 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:46:45,593 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:46:45,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:46:45,597 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:46:45,601 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:47:15,293 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:47:15,294 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:47:15,297 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:47:15,300 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:47:15,300 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:47:15,311 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:47:15,311 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:47:15,315 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:47:45,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:47:45,602 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:47:45,605 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:47:45,608 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:47:45,609 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:47:45,616 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:47:45,617 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:47:45,620 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:48:15,283 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:48:15,284 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:48:15,285 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:48:15,286 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:48:15,286 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:48:15,290 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:48:15,290 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:48:15,294 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:48:45,603 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:48:45,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:48:45,608 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:48:45,610 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:48:45,611 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:48:45,617 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:48:45,617 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:48:45,621 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:49:15,294 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:49:15,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:49:15,298 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:49:15,301 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:49:15,302 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:49:15,310 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:49:15,310 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:49:15,314 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:50:12,582 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:50:12,584 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:50:12,587 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:50:12,589 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:50:12,590 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:50:12,596 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:50:12,596 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:50:12,600 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:51:12,294 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:51:12,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:51:12,296 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:51:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:51:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:51:12,305 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:51:12,305 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:51:12,311 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:51:49,559 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-15 16:51:49,560 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-15 16:52:12,602 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:52:12,604 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:52:12,607 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:52:12,609 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:52:12,610 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:52:12,616 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:52:12,617 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:52:12,620 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:53:12,289 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:53:12,290 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:53:12,292 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:53:12,293 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:53:12,294 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:53:12,301 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:53:12,302 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:53:12,310 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:54:12,599 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:54:12,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:54:12,604 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:54:12,607 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:54:12,607 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:54:12,624 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:54:12,624 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:54:12,633 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 16:55:12,287 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:55:12,288 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:55:12,290 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:55:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:55:12,292 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:55:12,300 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:55:12,301 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:55:12,308 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:56:12,599 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 16:56:12,600 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 16:56:12,605 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:56:12,606 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:56:12,609 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:56:12,611 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:56:12,612 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:56:12,646 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:56:12,647 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:56:12,650 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 16:57:12,282 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:57:12,283 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:57:12,284 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:57:12,286 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:57:12,287 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:57:12,294 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:57:12,295 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:57:12,302 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 16:58:12,597 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:58:12,598 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:58:12,599 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:58:12,600 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:58:12,600 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:58:12,604 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:58:12,605 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:58:12,609 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 16:59:12,292 - main - INFO - üì• GET /api/comparisons
2025-12-15 16:59:12,293 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 16:59:12,294 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 16:59:12,296 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 16:59:12,297 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 16:59:12,304 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 16:59:12,305 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 16:59:12,311 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:00:12,605 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:00:12,605 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:00:12,607 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:00:12,608 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:00:12,608 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:00:12,612 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:00:12,612 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:00:12,616 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:01:12,294 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:01:12,295 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:01:12,296 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:01:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:01:12,298 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:01:12,304 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:01:12,304 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:01:12,310 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:02:12,599 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:02:12,601 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:02:12,604 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:02:12,607 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:02:12,607 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:02:12,615 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:02:12,615 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:02:12,619 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:03:12,286 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:03:12,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:03:12,289 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:03:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:03:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:03:12,299 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:03:12,300 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:03:12,307 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:04:12,606 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:04:12,608 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:04:12,611 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:04:12,614 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:04:12,614 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:04:12,620 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:04:12,620 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:04:12,624 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:05:12,286 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:05:12,287 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:05:12,289 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:05:12,292 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:05:12,293 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:05:12,300 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:05:12,301 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:05:12,308 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:06:12,601 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:06:12,602 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:06:12,603 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:06:12,604 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:06:12,605 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:06:12,610 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:06:12,610 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:06:12,614 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:07:12,283 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:07:12,283 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:07:12,285 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:07:12,286 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:07:12,288 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:07:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:07:12,290 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:07:12,298 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:07:12,298 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:07:12,306 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:08:12,597 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:08:12,597 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:08:12,598 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:08:12,599 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:08:12,599 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:08:12,603 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:08:12,603 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:08:12,607 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:09:12,287 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:09:12,288 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:09:12,289 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:09:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:09:12,291 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:09:12,300 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:09:12,301 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:09:12,307 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:35:00,464 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:35:00,465 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:35:00,543 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:35:00,544 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:35:00,550 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:35:00,557 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:35:00,559 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:35:00,568 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:35:00,568 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:35:00,575 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:36:01,381 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:36:01,381 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:36:01,383 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:36:01,384 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:36:01,384 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:36:01,388 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:36:01,388 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:36:01,392 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:37:02,384 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:37:02,385 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:37:02,387 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:37:02,388 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:37:02,388 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:37:02,394 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:37:02,394 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:37:02,400 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:38:03,377 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:38:03,378 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:38:03,379 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:38:03,380 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:38:03,380 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:38:03,384 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:38:03,384 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:38:03,390 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:39:04,374 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:39:04,376 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:39:04,379 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:39:04,381 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:39:04,382 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:39:04,389 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:39:04,390 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:39:04,394 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:40:05,388 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:40:05,390 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:40:05,396 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:40:05,400 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:40:05,401 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:40:05,417 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:40:05,419 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:40:05,439 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 17:41:06,380 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:41:06,381 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:41:06,382 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:41:06,383 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:41:06,383 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:41:06,388 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:41:06,389 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:41:06,396 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:42:07,379 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:42:07,380 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:42:07,382 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:42:07,384 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:42:07,385 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:42:07,393 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:42:07,394 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:42:07,402 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:43:08,381 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:43:08,382 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:43:08,384 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:43:08,385 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:43:08,385 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:43:08,390 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:43:08,391 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:43:08,396 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:43:48,528 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:43:48,529 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:43:48,531 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:43:48,532 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:43:48,533 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:43:48,541 - app.services.mongodb_service_enhanced - INFO - üìä Found 3 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:43:48,541 - app.api.routes - INFO - ‚úÖ Found 3 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:43:48,546 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:44:08,859 - main - INFO - üì• OPTIONS /api/compare-quotes
2025-12-15 17:44:08,862 - main - INFO - üì§ OPTIONS /api/compare-quotes - 200 - 0.00s
2025-12-15 17:44:09,001 - main - INFO - üì• POST /api/compare-quotes
2025-12-15 17:44:09,023 - app.api.routes - INFO - üîç Checking user subscription for user: 69402af41ac37a9c504e265c
2025-12-15 17:44:09,025 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 17:44:09,027 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 17:44:09,027 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 17:44:09,033 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 17:44:09,037 - app.api.routes - INFO - ‚úÖ User 69402af41ac37a9c504e265c can perform comparison
2025-12-15 17:44:09,039 - app.api.routes - INFO -    - Remaining comparisons: 247
2025-12-15 17:44:09,041 - app.api.routes - INFO -    - Quotes per case: 3
2025-12-15 17:44:09,042 - app.api.routes - INFO -    - Files uploaded: 3
2025-12-15 17:44:09,043 - app.api.routes - INFO - üÜî Generated comparison ID: cmp_1765820649_72f9c2246f3f
2025-12-15 17:44:09,044 - app.services.progress_tracker - INFO - üìä Progress initialized for job: job_429f739e8cb4 (3 files)
2025-12-15 17:44:09,046 - app.api.routes - INFO - üìä Initialized progress tracking: job_429f739e8cb4
2025-12-15 17:44:09,050 - app.api.routes - INFO - 
======================================================================
2025-12-15 17:44:09,051 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:09,051 - app.api.routes - INFO - ======================================================================
2025-12-15 17:44:09,058 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 73afb5ee242b41a4a450ae5415a42692.pdf (464206 bytes)
2025-12-15 17:44:09,060 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:09,063 - app.api.routes - INFO - 
======================================================================
2025-12-15 17:44:09,065 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:09,063 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\73afb5ee242b41a4a450ae5415a42692.pdf
2025-12-15 17:44:09,067 - app.api.routes - INFO - ======================================================================
2025-12-15 17:44:09,271 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Chubb.pdf ‚Üí b4ca26d7af4d49aaaff4c06b160c1ab8.pdf (175401 bytes)
2025-12-15 17:44:09,301 - app.services.pdf_extractor - INFO - Successfully extracted 14935 characters from 7 pages
2025-12-15 17:44:09,301 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:09,303 - app.api.routes - INFO - 
======================================================================
2025-12-15 17:44:09,303 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\b4ca26d7af4d49aaaff4c06b160c1ab8.pdf
2025-12-15 17:44:09,304 - app.api.routes - INFO - üìÑ Processing: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:09,305 - app.api.routes - INFO - ======================================================================
2025-12-15 17:44:09,470 - app.api.routes - INFO - üíæ Saved file: AL Salama Hospital - PAR - Liva.pdf ‚Üí 811a8cf1c8bc42778b8ef4e3b7280008.pdf (331157 bytes)
2025-12-15 17:44:09,473 - app.services.pdf_extractor - INFO - Successfully extracted 14268 characters from 7 pages
2025-12-15 17:44:09,474 - app.api.routes - INFO - üìñ Extracting text from: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:09,475 - app.services.pdf_extractor - INFO - Extracting text from PDF: uploads\811a8cf1c8bc42778b8ef4e3b7280008.pdf
2025-12-15 17:44:09,475 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:09,549 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:09,575 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Tawuniya (pattern: \btawuniya\b)
2025-12-15 17:44:09,590 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Tawuniya
2025-12-15 17:44:09,592 - app.services.pdf_extractor - INFO - Successfully extracted 18289 characters from 8 pages
2025-12-15 17:44:09,592 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 17:44:09,593 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 17:44:09,595 - app.services.ai_parser - INFO - üìã Detected format: GENERIC
2025-12-15 17:44:09,765 - app.services.ai_parser - INFO - üéØ Pre-extracted 1 sublimits
2025-12-15 17:44:09,766 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 17:44:09,771 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:09,773 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:09,775 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Chubb Arabia (pattern: \bchubb\b)
2025-12-15 17:44:09,776 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Chubb Arabia
2025-12-15 17:44:09,776 - app.services.ai_parser - INFO - üë§ Insured (Customer): M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 17:44:09,776 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 17:44:09,777 - app.services.ai_parser - INFO - üìã Detected format: CHUBB
2025-12-15 17:44:09,948 - app.services.ai_parser - INFO - üéØ Pre-extracted 3 sublimits
2025-12-15 17:44:09,950 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 17:44:09,963 - app.api.routes - INFO - ü§ñ Parsing with AI: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:09,973 - app.services.ai_parser - INFO - üîç Stage 1: Entity identification for AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:09,975 - app.services.ai_parser - INFO - ‚úÖ Detected insurer from filename: Liva Insurance (pattern: \bliva\b)
2025-12-15 17:44:09,977 - app.services.ai_parser - INFO - üè¢ Insurer (Insurance Company): Liva Insurance
2025-12-15 17:44:09,980 - app.services.ai_parser - INFO - üë§ Insured (Customer): No.  Description
2025-12-15 17:44:09,982 - app.services.ai_parser - INFO - üîç Stage 2: Document format detection
2025-12-15 17:44:09,987 - app.services.ai_parser - INFO - üìã Detected format: LIVA
2025-12-15 17:44:10,156 - app.services.ai_parser - INFO - üéØ Pre-extracted 7 sublimits
2025-12-15 17:44:10,157 - app.services.ai_parser - INFO - üîç Stage 3: Comprehensive extraction
2025-12-15 17:44:36,613 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:36,619 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 17:44:36,619 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 17:44:36,620 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 17:44:36,621 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Deductible missing/invalid, using fallback...
2025-12-15 17:44:36,622 - app.services.ai_parser - INFO - ‚úÖ Extracted deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 17:44:36,623 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 0 benefits, using fallback...
2025-12-15 17:44:36,629 - app.services.ai_parser - INFO - üìã Fallback extracted 45 benefits from patterns
2025-12-15 17:44:36,630 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 44 total
2025-12-15 17:44:36,630 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 17:44:36,630 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 17:44:36,631 - app.services.ai_parser - INFO - üîÑ Rate: '0.38‚Ä∞' ‚Üí '0.38‚Ä∞'
2025-12-15 17:44:36,631 - app.services.ai_parser - INFO - üí∞ Calculated: 594567.88 from SI: 1564652306.28 √ó Rate: 0.38‚Ä∞
2025-12-15 17:44:36,631 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles (fallback): MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 17:44:36,631 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 17:44:36,631 - app.services.ai_parser - INFO - üìä Counts: 44 benefits, 24 exclusions, 13 warranties, 5 extensions
2025-12-15 17:44:36,632 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 17:44:38,598 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:38,602 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 17:44:38,602 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 17:44:38,603 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 17:44:38,603 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 2 benefits, using fallback...
2025-12-15 17:44:38,609 - app.services.ai_parser - INFO - üìã Fallback extracted 32 benefits from patterns
2025-12-15 17:44:38,609 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 34 total
2025-12-15 17:44:38,610 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 17:44:38,610 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 17:44:38,610 - app.services.ai_parser - INFO - üîÑ Rate: '0.379%o on Total Sum insured of SAR 1,564,652,306.28' ‚Üí '0.379‚Ä∞'
2025-12-15 17:44:38,611 - app.services.ai_parser - INFO - üí∞ Calculated: 593003.22 from SI: 1564652306.28 √ó Rate: 0.379%o on Total Sum insured of SAR 1,564,652,306.28
2025-12-15 17:44:38,611 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:38,612 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:38,612 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:38,613 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 17:44:38,613 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 17:44:38,614 - app.services.ai_parser - INFO - üìä Counts: 34 benefits, 26 exclusions, 13 warranties, 3 extensions
2025-12-15 17:44:38,614 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 17:44:43,259 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:43,262 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 17:44:43,520 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:43,525 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 82.0
2025-12-15 17:44:43,525 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 17:44:43,525 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 17:44:43,526 - app.services.ai_parser - INFO - 
2025-12-15 17:44:43,526 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:43,526 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:43,526 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:43,527 - app.services.ai_parser - INFO - üè¢ Insurer: Tawuniya
2025-12-15 17:44:43,527 - app.services.ai_parser - INFO - üë§ Insured: M/s.  Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan
2025-12-15 17:44:43,527 - app.services.ai_parser - INFO - üí∞ Premium: SAR 594,567.87
2025-12-15 17:44:43,527 - app.services.ai_parser - INFO - üìä Rate: 0.38‚Ä∞
2025-12-15 17:44:43,528 - app.services.ai_parser - INFO - üéØ Score: 82.0/100
2025-12-15 17:44:43,528 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 17:44:43,528 - app.services.ai_parser - INFO - üîß Deductible: MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000
2025-12-15 17:44:43,528 - app.services.ai_parser - INFO - ‚è∞ Validity: 15 days from date shown
2025-12-15 17:44:43,528 - app.services.ai_parser - INFO - üíº Brokerage: 15%
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO - 
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO -    ‚úì Benefits: 44
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO -    ‚úì Exclusions: 24
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO -    ‚úì Warranties: 13
2025-12-15 17:44:43,529 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 17:44:43,530 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 3
2025-12-15 17:44:43,530 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:43,531 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 73afb5ee242b41a4a450ae5415a42692.pdf ‚Üí 6940490b463ea4a397410726
2025-12-15 17:44:43,531 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6940490b463ea4a397410726
2025-12-15 17:44:43,536 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 6940490b463ea4a397410727 (464206 bytes)
2025-12-15 17:44:43,537 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Tawuniya.pdf ‚Üí 6940490b463ea4a397410727
2025-12-15 17:44:43,537 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Tawuniya.pdf
2025-12-15 17:44:43,985 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:43,987 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 17:44:44,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:44,911 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 17:44:44,912 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 17:44:44,912 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 17:44:44,912 - app.services.ai_parser - INFO - 
2025-12-15 17:44:44,913 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:44,913 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:44,913 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:44,914 - app.services.ai_parser - INFO - üè¢ Insurer: Liva Insurance
2025-12-15 17:44:44,914 - app.services.ai_parser - INFO - üë§ Insured: No.  Description
2025-12-15 17:44:44,914 - app.services.ai_parser - INFO - üí∞ Premium: SAR 593,003.00
2025-12-15 17:44:44,915 - app.services.ai_parser - INFO - üìä Rate: 0.379‚Ä∞
2025-12-15 17:44:44,915 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 17:44:44,915 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 17:44:44,916 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 17:44:44,916 - app.services.ai_parser - INFO - ‚è∞ Validity: 12 Months
2025-12-15 17:44:44,916 - app.services.ai_parser - INFO - üíº Brokerage: 
2025-12-15 17:44:44,917 - app.services.ai_parser - INFO - 
2025-12-15 17:44:44,917 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 17:44:44,917 - app.services.ai_parser - INFO -    ‚úì Benefits: 34
2025-12-15 17:44:44,918 - app.services.ai_parser - INFO -    ‚úì Exclusions: 26
2025-12-15 17:44:44,918 - app.services.ai_parser - INFO -    ‚úì Warranties: 13
2025-12-15 17:44:44,918 - app.services.ai_parser - INFO -    ‚úì Extensions: 3
2025-12-15 17:44:44,918 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 2
2025-12-15 17:44:44,919 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:44,921 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: 811a8cf1c8bc42778b8ef4e3b7280008.pdf ‚Üí 6940490c463ea4a397410728
2025-12-15 17:44:44,921 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 6940490c463ea4a397410728
2025-12-15 17:44:44,924 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Liva.pdf ‚Üí 6940490c463ea4a397410729 (331157 bytes)
2025-12-15 17:44:44,925 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Liva.pdf ‚Üí 6940490c463ea4a397410729
2025-12-15 17:44:44,925 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Liva.pdf
2025-12-15 17:44:46,146 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:46,150 - app.services.ai_parser - INFO - ‚úÖ Stage 3: JSON parsed successfully
2025-12-15 17:44:46,151 - app.services.ai_parser - INFO - üîç Stage 3.5: Validation and Fallback
2025-12-15 17:44:46,151 - app.services.ai_parser - INFO - üîç Stage 3.5: Validating and enhancing extraction...
2025-12-15 17:44:46,153 - app.services.ai_parser - WARNING - ‚ö†Ô∏è Only 6 benefits, using fallback...
2025-12-15 17:44:46,160 - app.services.ai_parser - INFO - üìã Fallback extracted 60 benefits from patterns
2025-12-15 17:44:46,161 - app.services.ai_parser - INFO - ‚úÖ Enhanced benefits: 59 total
2025-12-15 17:44:46,162 - app.services.ai_parser - INFO - üîç Stage 4: Extracting subjectivities and binding requirements
2025-12-15 17:44:46,162 - app.services.ai_parser - INFO - üßÆ Stage 5: Calculations and tier detection
2025-12-15 17:44:46,162 - app.services.ai_parser - INFO - üîÑ Rate: '0.35%o' ‚Üí '0.35‚Ä∞'
2025-12-15 17:44:46,163 - app.services.ai_parser - INFO - üí∞ Calculated: 547628.31 from SI: 1564652306.0 √ó Rate: 0.35%o
2025-12-15 17:44:46,163 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:46,163 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:46,164 - app.services.ai_parser - INFO - ‚úì Deductible tier: >500M applies (SI: 1564.7M)
2025-12-15 17:44:46,165 - app.services.ai_parser - INFO - ‚úÖ Applicable deductibles: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 17:44:46,166 - app.services.ai_parser - INFO - üéØ Stage 6: Analysis and scoring
2025-12-15 17:44:46,166 - app.services.ai_parser - INFO - üìä Counts: 59 benefits, 29 exclusions, 9 warranties, 5 extensions
2025-12-15 17:44:46,167 - app.services.ai_parser - INFO - ‚è≥ Waiting for parallel API calls (Stage 4 + Stage 6)...
2025-12-15 17:44:52,645 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:52,649 - app.services.ai_parser - INFO - ‚úÖ Stage 4: Subjectivities extracted
2025-12-15 17:44:53,982 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:44:53,986 - app.services.ai_parser - INFO - ‚úÖ Stage 6 complete - Score: 80.0
2025-12-15 17:44:53,987 - app.services.ai_parser - INFO - ‚úÖ Parallel stages complete
2025-12-15 17:44:53,987 - app.services.ai_parser - INFO - üì¶ Assembling final data structure
2025-12-15 17:44:53,987 - app.services.ai_parser - INFO - 
2025-12-15 17:44:53,988 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:53,988 - app.services.ai_parser - INFO - ‚úÖ EXTRACTION COMPLETE - AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:53,988 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:53,989 - app.services.ai_parser - INFO - üè¢ Insurer: Chubb Arabia
2025-12-15 17:44:53,989 - app.services.ai_parser - INFO - üë§ Insured: M/s. Mediclinic Al Murjan Hospital &/or Al Murjan Medical Centre Co. &/or Al Murjan Group
2025-12-15 17:44:53,989 - app.services.ai_parser - INFO - üí∞ Premium: SAR 500,000.00
2025-12-15 17:44:53,990 - app.services.ai_parser - INFO - üìä Rate: 0.35‚Ä∞
2025-12-15 17:44:53,990 - app.services.ai_parser - INFO - üéØ Score: 80.0/100
2025-12-15 17:44:53,990 - app.services.ai_parser - INFO - üìè Quality: 100.0/100
2025-12-15 17:44:53,991 - app.services.ai_parser - INFO - üîß Deductible: MD: 5%, min SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5%, min SR 1,500,000
2025-12-15 17:44:53,991 - app.services.ai_parser - INFO - ‚è∞ Validity: Not specified
2025-12-15 17:44:53,991 - app.services.ai_parser - INFO - üíº Brokerage: Not specified
2025-12-15 17:44:53,992 - app.services.ai_parser - INFO - 
2025-12-15 17:44:53,992 - app.services.ai_parser - INFO - üì¶ Extracted:
2025-12-15 17:44:53,992 - app.services.ai_parser - INFO -    ‚úì Benefits: 59
2025-12-15 17:44:53,993 - app.services.ai_parser - INFO -    ‚úì Exclusions: 29
2025-12-15 17:44:53,993 - app.services.ai_parser - INFO -    ‚úì Warranties: 9
2025-12-15 17:44:53,993 - app.services.ai_parser - INFO -    ‚úì Extensions: 5
2025-12-15 17:44:53,993 - app.services.ai_parser - INFO -    ‚úì Subjectivities: 3
2025-12-15 17:44:53,993 - app.services.ai_parser - INFO - ======================================================================
2025-12-15 17:44:53,995 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved individual PDF: b4ca26d7af4d49aaaff4c06b160c1ab8.pdf ‚Üí 69404915463ea4a39741072a
2025-12-15 17:44:53,995 - app.api.routes - INFO - ‚úÖ Saved individual PDF to MongoDB: 69404915463ea4a39741072a
2025-12-15 17:44:53,997 - app.services.user_documents_service - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 69404915463ea4a39741072b (175401 bytes)
2025-12-15 17:44:53,997 - app.api.routes - INFO - ‚úÖ Saved user document: AL Salama Hospital - PAR - Chubb.pdf ‚Üí 69404915463ea4a39741072b
2025-12-15 17:44:53,997 - app.api.routes - INFO - ‚úÖ Successfully processed: AL Salama Hospital - PAR - Chubb.pdf
2025-12-15 17:44:53,997 - app.api.routes - INFO - 
‚úÖ Successfully extracted 3 quotes
2025-12-15 17:44:53,998 - app.api.routes - INFO - 
======================================================================
2025-12-15 17:44:53,998 - app.api.routes - INFO - üîÄ Generating comparison for 3 quotes
2025-12-15 17:44:53,998 - app.api.routes - INFO - ======================================================================
2025-12-15 17:44:53,998 - app.services.ai_ranker - INFO - üîç Starting comprehensive comparison of 3 quotes
2025-12-15 17:44:53,999 - app.services.ai_ranker - INFO - ‚öñÔ∏è Using weights: {'premium': 0.25, 'rate': 0.2, 'benefits': 0.1, 'exclusions': 0.05, 'warranties': 0.04, 'extensions': 0.04, 'subjectivities': 0.02, 'provider_reputation': 0.3}
2025-12-15 17:44:53,999 - app.services.ai_ranker - INFO - üèÜ Hakim Score integration enabled
2025-12-15 17:44:53,999 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 17:44:53,999 - app.services.ai_ranker - INFO - üîç IDENTIFYING UNIQUE ITEMS using SEMANTIC MATCHING v7.1
2025-12-15 17:44:54,000 - app.services.ai_ranker - INFO - ================================================================================
2025-12-15 17:44:54,000 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 17:44:54,000 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Tawuniya
2025-12-15 17:44:54,000 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 17:44:54,000 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 17:44:54,001 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 17:44:54,001 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 17:44:54,001 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 17:44:54,001 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance'], 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations'], 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property', 'Civil Defense License']}
2025-12-15 17:44:54,002 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 17:44:54,002 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 17:44:54,002 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 17:44:54,002 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 17:44:54,003 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "GENERIC",
  "sum_insured_breakdown": {
    "material_damage": "SR 914,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306.28,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [],
    "business_interruption_tiers": [],
    "natural_catastrophe_tiers": [],
    "fallback_summary": "MD: 5% of claim amount, minimum SR 1,000,000 | BI: Minimum 21 days | Nat Cat: 5% of claim amount, minimum SR 1,500,000",
    "applicable_md_tier": {},
    "applicable_bi_tier": {},
    "applicable_nc_tier": {}
  },
  "sublimits_comprehensive": {
    "care_custody_control": "SR 2,500,000 any one occurrence & in aggregate",
    "srcc_malicious_damage": "Limited to 25% of the location sum insured",
    "burglary_clause": "Limited to SR 5,000,000 in aggregate and subject to violence/forcible entry and/or exit",
    "Minimization of losses": 
2025-12-15 17:44:54,005 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'binding_requirements': ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 17:44:54,005 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'conditions_precedent': ['No deterioration of loss record', 'Survey and fulfillment of recommendations']
2025-12-15 17:44:54,006 - app.services.ai_ranker - INFO -    ‚úÖ Found 4 items in key 'documentation_required': ['Signed proposal form', 'GPS coordinates', 'Photographs of property']
2025-12-15 17:44:54,006 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 17:44:54,006 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 17:44:54,007 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 17:44:54,009 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 17:44:54,010 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 17:44:54,011 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,011 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 17:44:54,011 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 17:44:54,011 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,011 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 17:44:54,012 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 17:44:54,012 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 17:44:54,012 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 17:44:54,012 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 9
2025-12-15 17:44:54,012 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Risk survey within 30 days', 'Civil Defense certificate required', 'KYC/AML clearance']
2025-12-15 17:44:54,013 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 9 subjectivities for Tawuniya
2025-12-15 17:44:54,013 - app.services.ai_ranker - INFO - 
üìä Tawuniya:
2025-12-15 17:44:54,013 - app.services.ai_ranker - INFO -    Warranties: 13
2025-12-15 17:44:54,013 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 17:44:54,014 - app.services.ai_ranker - INFO -    Exclusions: 24
2025-12-15 17:44:54,014 - app.services.ai_ranker - INFO -    Subjectivities: 9
2025-12-15 17:44:54,014 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 17:44:54,014 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Liva Insurance
2025-12-15 17:44:54,014 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 17:44:54,015 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 17:44:54,015 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 17:44:54,015 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 17:44:54,015 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 17:44:54,015 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Proposal Form', 'Claim Experience'], 'conditions_precedent': [], 'documentation_required': ['Signed and Stamped Proposal Form', 'Precautionary and Preventive Measures for past claims', 'Copies of Loss Adjustors reports for all non-Liva claims']}
2025-12-15 17:44:54,016 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 17:44:54,016 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 17:44:54,016 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 17:44:54,016 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 17:44:54,016 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "LIVA",
  "sum_insured_breakdown": {
    "material_damage": "SR 1,564,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306.28,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "5%, min SR 50,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "5%, min SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "5%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "7 days",
        "applies_to": "business_interruption"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible
2025-12-15 17:44:54,018 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'binding_requirements': ['Proposal Form', 'Claim Experience']
2025-12-15 17:44:54,018 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'conditions_precedent': []
2025-12-15 17:44:54,018 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'documentation_required': ['Signed and Stamped Proposal Form', 'Precautionary and Preventive Measures for past claims', 'Copies of Loss Adjustors reports for all non-Liva claims']
2025-12-15 17:44:54,019 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 17:44:54,019 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 17:44:54,019 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 17:44:54,020 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 17:44:54,021 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 17:44:54,021 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,022 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 17:44:54,022 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 17:44:54,022 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,023 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 17:44:54,023 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 17:44:54,023 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 17:44:54,023 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 17:44:54,024 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 5
2025-12-15 17:44:54,024 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Proposal Form', 'Claim Experience', 'Signed and Stamped Proposal Form']
2025-12-15 17:44:54,024 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 5 subjectivities for Liva Insurance
2025-12-15 17:44:54,024 - app.services.ai_ranker - INFO - 
üìä Liva Insurance:
2025-12-15 17:44:54,025 - app.services.ai_ranker - INFO -    Warranties: 13
2025-12-15 17:44:54,025 - app.services.ai_ranker - INFO -    Extensions: 3
2025-12-15 17:44:54,025 - app.services.ai_ranker - INFO -    Exclusions: 26
2025-12-15 17:44:54,025 - app.services.ai_ranker - INFO -    Subjectivities: 5
2025-12-15 17:44:54,026 - app.services.ai_ranker - INFO - 
============================================================
2025-12-15 17:44:54,027 - app.services.ai_ranker - INFO - üîç EXTRACTING SUBJECTIVITIES for: Chubb Arabia
2025-12-15 17:44:54,028 - app.services.ai_ranker - INFO - ============================================================
2025-12-15 17:44:54,029 - app.services.ai_ranker - INFO -    Extended data exists: True
2025-12-15 17:44:54,029 - app.services.ai_ranker - INFO -    Extended data keys: ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 17:44:54,030 - app.services.ai_ranker - INFO -    Subjectivities data exists: True
2025-12-15 17:44:54,030 - app.services.ai_ranker - INFO -    Subjectivities data type: <class 'dict'>
2025-12-15 17:44:54,030 - app.services.ai_ranker - INFO -    Subjectivities data: {'binding_requirements': ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days'], 'conditions_precedent': ['No Control Clause', 'Breach of Warranty clause (Unintentionally only)'], 'documentation_required': ['The insured and the insurer have the choice to select a Insurance Authority (SAMA) licensed loss adjuster', '30% Payment on account Clause based on the loss adjuster‚Äôs recommendations and mutual agreement along with no outstanding premium']}
2025-12-15 17:44:54,030 - app.services.ai_ranker - INFO -    Quote has _extended_data attr: True
2025-12-15 17:44:54,031 - app.services.ai_ranker - INFO -    Quote has subscriptions: True
2025-12-15 17:44:54,031 - app.services.ai_ranker - INFO -    Quote has subjectivities: False
2025-12-15 17:44:54,031 - app.services.ai_ranker - INFO -    Quote has additional_info: True
2025-12-15 17:44:54,032 - app.services.ai_ranker - INFO -    Extended data preview (first 1000 chars):
{
  "document_format": "CHUBB",
  "sum_insured_breakdown": {
    "material_damage": "SR 914,652,306",
    "business_interruption": "SR 650,000,000",
    "total_sum_insured_numeric": 1564652306,
    "total_sum_insured": "SR 1,564,652,306"
  },
  "deductibles_complete": {
    "structure_type": "tiered_by_sum_insured",
    "material_damage_tiers": [
      {
        "range": "up to SR 40M",
        "deductible": "5%, min SR 50,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 40M to SR 100M",
        "deductible": "5%, min SR 100,000",
        "applies_to": "material_damage"
      },
      {
        "range": "SR 100M to SR 500M",
        "deductible": "5%, min SR 500,000",
        "applies_to": "material_damage"
      },
      {
        "range": "above SR 500M",
        "deductible": "5%, min SR 1,000,000",
        "applies_to": "material_damage"
      }
    ],
    "business_interruption_tiers": [
      {
        "range": "up to SR 40M",
        "deductibl
2025-12-15 17:44:54,033 - app.services.ai_ranker - INFO -    ‚úÖ Found 3 items in key 'binding_requirements': ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days']
2025-12-15 17:44:54,033 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'conditions_precedent': ['No Control Clause', 'Breach of Warranty clause (Unintentionally only)']
2025-12-15 17:44:54,033 - app.services.ai_ranker - INFO -    ‚úÖ Found 2 items in key 'documentation_required': ['The insured and the insurer have the choice to select a Insurance Authority (SAMA) licensed loss adjuster', '30% Payment on account Clause based on the loss adjuster‚Äôs recommendations and mutual agreement along with no outstanding premium']
2025-12-15 17:44:54,034 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities_list': []
2025-12-15 17:44:54,034 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'requirements': []
2025-12-15 17:44:54,034 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'all_subjectivities': []
2025-12-15 17:44:54,034 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in key 'subjectivities': []
2025-12-15 17:44:54,034 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['binding_requirements']: []
2025-12-15 17:44:54,035 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,035 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['subjectivities_and_requirements']['documentation_required']: []
2025-12-15 17:44:54,035 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['binding_requirements']: []
2025-12-15 17:44:54,035 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['conditions_precedent']: []
2025-12-15 17:44:54,035 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['binding_requirements']['documentation_required']: []
2025-12-15 17:44:54,036 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['binding_requirements']: []
2025-12-15 17:44:54,036 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['conditions_precedent']: []
2025-12-15 17:44:54,036 - app.services.ai_ranker - INFO -    ‚úÖ Found 0 items in extended_data['conditions_precedent']['documentation_required']: []
2025-12-15 17:44:54,037 - app.services.ai_ranker - INFO -    üìä Total unique subjectivities extracted: 7
2025-12-15 17:44:54,037 - app.services.ai_ranker - INFO -    üìù Sample subjectivities: ['Loss Payee Clause (to be prior declared and agreed)', 'Waiver of subrogation against named insured', 'Claims notification as soon as practical but not later than 14 days']
2025-12-15 17:44:54,037 - app.services.ai_ranker - INFO -    ‚úÖ Extracted 7 subjectivities for Chubb Arabia
2025-12-15 17:44:54,038 - app.services.ai_ranker - INFO - 
üìä Chubb Arabia:
2025-12-15 17:44:54,038 - app.services.ai_ranker - INFO -    Warranties: 9
2025-12-15 17:44:54,038 - app.services.ai_ranker - INFO -    Extensions: 5
2025-12-15 17:44:54,038 - app.services.ai_ranker - INFO -    Exclusions: 29
2025-12-15 17:44:54,038 - app.services.ai_ranker - INFO -    Subjectivities: 7
2025-12-15 17:44:54,039 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Tawuniya
2025-12-15 17:44:54,325 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 2
2025-12-15 17:44:54,325 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 17:44:54,326 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 17:44:54,326 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 8
2025-12-15 17:44:54,326 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 17:44:54,326 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted no workshop operations on insured premises
2025-12-15 17:44:54,327 - app.services.ai_ranker - INFO -       ‚Ä¢ Waste warranty
2025-12-15 17:44:54,327 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Liva Insurance
2025-12-15 17:44:54,651 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-15 17:44:54,651 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 17:44:54,652 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 7
2025-12-15 17:44:54,652 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 4
2025-12-15 17:44:54,652 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 17:44:54,653 - app.services.ai_ranker - INFO -       ‚Ä¢ Warranted that the insured to implement all risk recommendations within the give...
2025-12-15 17:44:54,653 - app.services.ai_ranker - INFO - 
üîé Analyzing unique items for: Chubb Arabia
2025-12-15 17:44:54,992 - app.services.ai_ranker - INFO -    ‚úì Unique Warranties: 1
2025-12-15 17:44:54,993 - app.services.ai_ranker - INFO -    ‚úì Unique Extensions: 0
2025-12-15 17:44:54,993 - app.services.ai_ranker - INFO -    ‚úì Unique Exclusions: 10
2025-12-15 17:44:54,993 - app.services.ai_ranker - INFO -    ‚úì Unique Subjectivities: 7
2025-12-15 17:44:54,993 - app.services.ai_ranker - INFO -    üìù Sample unique warranties:
2025-12-15 17:44:54,994 - app.services.ai_ranker - INFO -       ‚Ä¢ Premium Payment Warranty 100% at inception
2025-12-15 17:44:54,994 - app.services.ai_ranker - INFO - 
================================================================================
2025-12-15 17:44:54,994 - app.services.ai_ranker - INFO - ‚úÖ UNIQUE ITEMS IDENTIFICATION COMPLETE
2025-12-15 17:44:54,994 - app.services.ai_ranker - INFO - ================================================================================

2025-12-15 17:44:54,995 - app.services.ai_ranker - INFO - üìä Tawuniya: Hakim Score=96.0 (Premium), Weighted Score=82.43
2025-12-15 17:44:54,995 - app.services.ai_ranker - INFO - üìä Liva Insurance: Hakim Score=84.0 (Solid), Weighted Score=76.46
2025-12-15 17:44:54,995 - app.services.ai_ranker - INFO - üìä Chubb Arabia: Hakim Score=80.0 (Baseline), Weighted Score=84.23
2025-12-15 17:44:54,996 - app.services.ai_ranker - INFO - ü§ñ Performing weighted ranking with Hakim Score...
2025-12-15 17:44:54,996 - app.services.ai_ranker - INFO - ü§ñ Starting AI ranking analysis (background task)...
2025-12-15 17:44:54,996 - app.services.ai_ranker - INFO - ‚úÖ Weighted ranking with Hakim Score completed
2025-12-15 17:45:03,334 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:45:03,340 - app.services.ai_ranker - INFO - ‚úÖ AI ranking analysis completed
2025-12-15 17:45:03,340 - app.services.ai_ranker - INFO - üî® Building comprehensive comparison structure...
2025-12-15 17:45:06,945 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-15 17:45:06,954 - app.services.ai_ranker - INFO - ‚úÖ Generated reasoning for Chubb Arabia: Chubb Arabia stands out as the best insurance provider with a top score of 84.2/100 and a competitiv...
2025-12-15 17:45:06,956 - app.services.ai_ranker - INFO - ‚úÖ Comprehensive comparison complete
2025-12-15 17:45:06,959 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8
2025-12-15 17:45:06,960 - app.services.mongodb_service_enhanced - INFO - üíæ Saving COMPLETE comparison data to MongoDB
2025-12-15 17:45:06,960 - app.services.mongodb_service_enhanced - INFO -    Comparison ID: cmp_1765820649_72f9c2246f3f
2025-12-15 17:45:06,961 - app.services.mongodb_service_enhanced - INFO -    Total PDFs: 3
2025-12-15 17:45:06,961 - app.services.mongodb_service_enhanced - INFO -    Data keys: ['comparison_id', 'status', 'total_quotes', 'hakim_score_enabled', 'summary', 'key_differences', 'side_by_side', 'data_table', 'analytics', 'provider_cards', 'extracted_quotes', 'files_processed', 'processing_timestamp', 'processing_summary']
2025-12-15 17:45:06,963 - app.services.mongodb_service_enhanced - INFO - üìã Extracted quotes count: 3
2025-12-15 17:45:06,963 - app.services.mongodb_service_enhanced - INFO -    Quote 1: Tawuniya
2025-12-15 17:45:06,964 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 17:45:06,965 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 17:45:06,965 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 17:45:06,966 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 17:45:06,966 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 17:45:06,967 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 17:45:06,967 - app.services.mongodb_service_enhanced - INFO -    Quote 2: Liva Insurance
2025-12-15 17:45:06,968 - app.services.mongodb_service_enhanced - INFO -       - Has _extended_data: True
2025-12-15 17:45:06,969 - app.services.mongodb_service_enhanced - INFO -       - Has _analysis_details: True
2025-12-15 17:45:06,969 - app.services.mongodb_service_enhanced - INFO -       - Has _calculation_log: True
2025-12-15 17:45:06,969 - app.services.mongodb_service_enhanced - INFO -       - Has _quote_fingerprint: True
2025-12-15 17:45:06,970 - app.services.mongodb_service_enhanced - INFO -       - Has _quality_metrics: True
2025-12-15 17:45:06,970 - app.services.mongodb_service_enhanced - INFO -       - All keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible']...
2025-12-15 17:45:06,976 - app.services.mongodb_service_enhanced - INFO - üìä Data sizes:
2025-12-15 17:45:06,978 - app.services.mongodb_service_enhanced - INFO -    Summary: 5,237 bytes
2025-12-15 17:45:06,979 - app.services.mongodb_service_enhanced - INFO -    Side-by-side: 45,502 bytes
2025-12-15 17:45:06,980 - app.services.mongodb_service_enhanced - INFO -    Data table: 21,039 bytes
2025-12-15 17:45:06,980 - app.services.mongodb_service_enhanced - INFO -    Analytics: 1,705 bytes
2025-12-15 17:45:06,980 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes: 53,432 bytes
2025-12-15 17:45:06,981 - app.services.mongodb_service_enhanced - INFO -    Total document: 262,566 bytes
2025-12-15 17:45:06,981 - app.services.mongodb_service_enhanced - INFO -    Comparison matrix keys: ['premium', 'rate', 'score', 'hakim_score', 'deductible', 'coverage', 'benefits', 'exclusions', 'warranties', 'subjectivities', 'conditions', 'benefits_count', 'exclusions_count', 'warranties_count']
2025-12-15 17:45:06,981 - app.services.mongodb_service_enhanced - INFO -       premium: 3 items
2025-12-15 17:45:06,982 - app.services.mongodb_service_enhanced - INFO -       rate: 3 items
2025-12-15 17:45:06,982 - app.services.mongodb_service_enhanced - INFO -       score: 3 items
2025-12-15 17:45:06,982 - app.services.mongodb_service_enhanced - INFO -       hakim_score: 3 items
2025-12-15 17:45:06,982 - app.services.mongodb_service_enhanced - INFO -       deductible: 3 items
2025-12-15 17:45:06,983 - app.services.mongodb_service_enhanced - INFO -       coverage: 3 items
2025-12-15 17:45:06,983 - app.services.mongodb_service_enhanced - INFO -       benefits: 3 items
2025-12-15 17:45:06,983 - app.services.mongodb_service_enhanced - INFO -       exclusions: 3 items
2025-12-15 17:45:06,983 - app.services.mongodb_service_enhanced - INFO -       warranties: 3 items
2025-12-15 17:45:06,984 - app.services.mongodb_service_enhanced - INFO -       subjectivities: 3 items
2025-12-15 17:45:06,984 - app.services.mongodb_service_enhanced - INFO -       conditions: 3 items
2025-12-15 17:45:06,984 - app.services.mongodb_service_enhanced - INFO -       benefits_count: 3 items
2025-12-15 17:45:06,984 - app.services.mongodb_service_enhanced - INFO -       exclusions_count: 3 items
2025-12-15 17:45:06,985 - app.services.mongodb_service_enhanced - INFO -       warranties_count: 3 items
2025-12-15 17:45:06,985 - app.services.mongodb_service_enhanced - INFO -    Extracted quotes structure:
2025-12-15 17:45:06,985 - app.services.mongodb_service_enhanced - INFO -       - Count: 3
2025-12-15 17:45:06,986 - app.services.mongodb_service_enhanced - INFO -       - First quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 17:45:06,986 - app.services.mongodb_service_enhanced - INFO -       - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 17:45:06,987 - app.services.mongodb_service_enhanced - INFO -       - _analysis_details keys (7): ['overall_score', 'score_breakdown', 'strengths', 'weaknesses', 'value_assessment', 'recommendation', 'score_methodology']
2025-12-15 17:45:06,993 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Saved new comparison: cmp_1765820649_72f9c2246f3f
2025-12-15 17:45:06,993 - app.services.mongodb_service_enhanced - INFO -    MongoDB ID: 694049225a37704a1c0a83ef
2025-12-15 17:45:06,997 - app.services.mongodb_service_enhanced - INFO - ‚úÖ Verification - Saved document has:
2025-12-15 17:45:06,997 - app.services.mongodb_service_enhanced - INFO -    - comparison_data: True
2025-12-15 17:45:06,997 - app.services.mongodb_service_enhanced - INFO -    - summary: True
2025-12-15 17:45:06,997 - app.services.mongodb_service_enhanced - INFO -    - side_by_side: True
2025-12-15 17:45:06,997 - app.services.mongodb_service_enhanced - INFO -    - data_table: True
2025-12-15 17:45:06,998 - app.services.mongodb_service_enhanced - INFO -    - analytics: True
2025-12-15 17:45:06,998 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes: True
2025-12-15 17:45:06,998 - app.services.mongodb_service_enhanced - INFO -    - data_table rows: 3
2025-12-15 17:45:06,998 - app.services.mongodb_service_enhanced - INFO -    - First row keys (30): ['provider', 'provider_name', 'company', 'score', 'weighted_score', 'premium', 'premium_amount', 'rate', 'coverage', 'coverage_limit', 'benefits', 'benefits_count', 'key_benefits', 'exclusions', 'exclusions_count']...
2025-12-15 17:45:06,998 - app.services.mongodb_service_enhanced - INFO -    - side_by_side providers: 3
2025-12-15 17:45:06,999 - app.services.mongodb_service_enhanced - INFO -    - First provider keys (28): ['name', 'client_name', 'ia_compliant', 'hakim_score', 'hakim_tier', 'hakim_rank', 'rank', 'score', 'premium', 'rate', 'coverage_limit', 'deductible', 'warranties', 'warranties_count', 'unique_warranties']...
2025-12-15 17:45:06,999 - app.services.mongodb_service_enhanced - INFO -    - extracted_quotes count: 3
2025-12-15 17:45:06,999 - app.services.mongodb_service_enhanced - INFO -    - First saved quote keys (25): ['company_name', 'insured_name', 'policy_type', 'policy_number', 'premium_amount', 'premium_frequency', 'rate', 'total_annual_cost', 'score', 'deductible', 'coverage_limit', 'sum_insured_total', 'key_benefits', 'exclusions', 'warranties', 'strengths', 'weaknesses', 'file_name', 'extraction_confidence', 'additional_info', '_extended_data', '_analysis_details', '_calculation_log', '_quote_fingerprint', '_quality_metrics']
2025-12-15 17:45:06,999 - app.services.mongodb_service_enhanced - INFO -    - Has _extended_data: True
2025-12-15 17:45:07,000 - app.services.mongodb_service_enhanced - INFO -    - Has _analysis_details: True
2025-12-15 17:45:07,000 - app.services.mongodb_service_enhanced - INFO -    - Has _calculation_log: True
2025-12-15 17:45:07,000 - app.services.mongodb_service_enhanced - INFO -    - Has _quote_fingerprint: True
2025-12-15 17:45:07,000 - app.services.mongodb_service_enhanced - INFO -    - Has _quality_metrics: True
2025-12-15 17:45:07,001 - app.services.mongodb_service_enhanced - INFO -    - _extended_data keys (15): ['document_format', 'sum_insured_breakdown', 'deductibles_complete', 'sublimits_comprehensive', 'exclusions_complete', 'warranties_actual', 'extensions_and_conditions', 'coverage_details', 'subjectivities', 'operational_details', 'brokerage_info', 'special_conditions', 'validity_period', 'geographical_limits', 'jurisdiction']
2025-12-15 17:45:07,001 - app.api.routes - INFO - ‚úÖ Saved comparison result to MongoDB: 694049225a37704a1c0a83ef
2025-12-15 17:45:07,001 - app.api.routes - INFO -    Database: hakemAI
2025-12-15 17:45:07,001 - app.api.routes - INFO -    Collection: comparisons
2025-12-15 17:45:07,002 - app.api.routes - INFO -    Comparison ID: cmp_1765820649_72f9c2246f3f
2025-12-15 17:45:07,002 - app.api.routes - INFO -    User ID: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,002 - app.api.routes - INFO -    Company ID: 69402bf81ac37a9c504e26c8
2025-12-15 17:45:07,004 - app.services.user_subscription_service - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,004 - app.api.routes - INFO - ‚úÖ Recorded comparison usage for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,005 - app.api.routes - INFO - 
======================================================================
2025-12-15 17:45:07,005 - app.api.routes - INFO - ‚úÖ COMPARISON COMPLETE
2025-12-15 17:45:07,005 - app.api.routes - INFO - ======================================================================
2025-12-15 17:45:07,005 - app.api.routes - INFO - üìä Comparison ID: cmp_1765820649_72f9c2246f3f
2025-12-15 17:45:07,006 - app.api.routes - INFO - üë§ User ID: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,006 - app.api.routes - INFO - üìÑ Files Processed: 3/3
2025-12-15 17:45:07,006 - app.api.routes - INFO - üíæ Saved to MongoDB: 3 PDFs + 1 comparison
2025-12-15 17:45:07,006 - app.services.user_subscription_service - INFO - üîç Searching for user with ID: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,006 - app.services.user_subscription_service - INFO - üìä Database: hakemAI
2025-12-15 17:45:07,007 - app.services.user_subscription_service - INFO - üìä Collection: users
2025-12-15 17:45:07,008 - app.services.user_subscription_service - INFO - ‚úÖ Found user: muneb (asimr4937@gmail.com)
2025-12-15 17:45:07,009 - app.api.routes - INFO - üìä Remaining comparisons: 246
2025-12-15 17:45:07,009 - app.api.routes - INFO - ======================================================================

2025-12-15 17:45:07,009 - app.services.progress_tracker - INFO - ‚úÖ Job completed: job_429f739e8cb4 ‚Üí comparison_id: cmp_1765820649_72f9c2246f3f
2025-12-15 17:45:07,015 - main - INFO - üì§ POST /api/compare-quotes - 200 - 58.01s
2025-12-15 17:45:07,222 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:45:07,224 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:45:07,224 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:45:07,226 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:45:07,230 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:45:07,233 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:45:07,237 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:45:07,238 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:45:07,241 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:45:07,242 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,244 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:45:07,246 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:45:07,246 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:45:07,252 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:45:07,253 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,259 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:45:07,267 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:45:07,268 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,270 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:45:07,272 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:45:07,273 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:45:07,295 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:45:07,296 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,313 - main - INFO - üì§ GET /api/comparisons - 200 - 0.05s
2025-12-15 17:45:07,317 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:45:07,318 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,322 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:45:07,325 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:45:07,326 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:45:07,341 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:45:07,342 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,360 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 17:45:07,366 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:45:07,367 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:45:07,372 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:45:07,374 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:45:07,374 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:45:07,389 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:45:07,390 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:45:07,406 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 17:45:37,237 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:45:37,239 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:45:37,241 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:45:37,243 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:45:37,244 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:45:37,254 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:45:37,255 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:45:37,263 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:46:07,232 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:46:07,233 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:46:07,234 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:46:07,235 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:46:07,235 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:46:07,240 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:46:07,240 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:46:07,245 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 17:46:38,381 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:46:38,382 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:46:38,386 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:46:38,389 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:46:38,390 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:46:38,400 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:46:38,401 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:46:38,407 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:47:08,063 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:47:08,064 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:47:08,065 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:47:08,066 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:47:08,067 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:47:08,072 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:47:08,073 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:47:08,080 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:47:38,375 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:47:38,377 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:47:38,380 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:47:38,382 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:47:38,383 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:47:38,397 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:47:38,398 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:47:38,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:48:08,070 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:48:08,071 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:48:08,073 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:48:08,075 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:48:08,075 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:48:08,085 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:48:08,085 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:48:08,095 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:48:38,382 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:48:38,383 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:48:38,386 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:48:38,389 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:48:38,389 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:48:38,396 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:48:38,396 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:48:38,402 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:49:12,071 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:49:12,072 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:49:12,074 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:49:12,076 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:49:12,076 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:49:12,088 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:49:12,089 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:49:12,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 17:50:12,381 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:50:12,383 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:50:12,386 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:50:12,389 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:50:12,390 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:50:12,397 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:50:12,397 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:50:12,402 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:51:12,072 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:51:12,073 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:51:12,074 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:51:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:51:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:51:12,084 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:51:12,085 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:51:12,096 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:52:12,383 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:52:12,385 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:52:12,389 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:52:12,392 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:52:12,393 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:52:12,414 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:52:12,415 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:52:12,426 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 17:53:12,075 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:53:12,076 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:53:12,078 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:53:12,080 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:53:12,081 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:53:12,094 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:53:12,095 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:53:12,108 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:54:12,388 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:54:12,390 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:54:12,393 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:54:12,396 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:54:12,397 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:54:12,404 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:54:12,404 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:54:12,412 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:54:38,078 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:54:38,079 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:54:38,082 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:54:38,085 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:54:38,086 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:54:38,098 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:54:38,099 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:54:38,110 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:54:58,539 - app.services.progress_tracker - INFO - üßπ Cleaned up 1 old progress entries
2025-12-15 17:54:58,540 - app.services.progress_tracker - INFO - üßπ Cleanup task: Removed 1 old entries
2025-12-15 17:55:08,386 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 17:55:08,387 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 17:55:08,392 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:55:08,393 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:55:08,396 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:55:08,399 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:55:08,400 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:55:08,412 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:55:08,413 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:55:08,424 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:56:09,376 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:56:09,378 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:56:09,381 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:56:09,384 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:56:09,384 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:56:09,407 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:56:09,408 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:56:09,415 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 17:57:10,385 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:57:10,387 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:57:10,391 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:57:10,393 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:57:10,394 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:57:10,401 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:57:10,402 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:57:10,411 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 17:58:11,378 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:58:11,379 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:58:11,382 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:58:11,384 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:58:11,385 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:58:11,393 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:58:11,394 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:58:11,399 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 17:59:12,371 - main - INFO - üì• GET /api/comparisons
2025-12-15 17:59:12,371 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 17:59:12,373 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 17:59:12,373 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 17:59:12,374 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 17:59:12,379 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 17:59:12,379 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 17:59:12,385 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 18:00:12,079 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:00:12,081 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:00:12,084 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:00:12,087 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:00:12,088 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:00:12,097 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:00:12,097 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:00:12,104 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:01:12,382 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:01:12,384 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:01:12,387 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:01:12,389 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:01:12,390 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:01:12,398 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:01:12,398 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:01:12,403 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:02:12,071 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:02:12,072 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:02:12,074 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:02:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:02:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:02:12,087 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:02:12,088 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:02:12,099 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:03:12,385 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:03:12,386 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:03:12,388 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:03:12,389 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:03:12,390 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:03:12,396 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:03:12,397 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:03:12,404 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:04:12,069 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:04:12,070 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:04:12,072 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:04:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:04:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:04:12,085 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:04:12,085 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:04:12,093 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:05:12,375 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 18:05:12,376 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 18:05:12,380 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:05:12,381 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:05:12,383 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:05:12,385 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:05:12,386 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:05:12,396 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:05:12,396 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:05:12,404 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:06:12,067 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:06:12,067 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:06:12,069 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:06:12,071 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:06:12,072 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:06:12,083 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:06:12,084 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:06:12,097 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:07:12,387 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:07:12,389 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:07:12,392 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:07:12,394 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:07:12,395 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:07:12,404 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:07:12,404 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:07:12,414 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:08:12,071 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:08:12,072 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:08:12,073 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:08:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:08:12,075 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:08:12,086 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:08:12,087 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:08:12,095 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:09:12,386 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:09:12,388 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:09:12,391 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:09:12,394 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:09:12,394 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:09:12,402 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:09:12,402 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:09:12,408 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:10:12,075 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:10:12,076 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:10:12,078 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:10:12,079 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:10:12,080 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:10:12,091 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:10:12,091 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:10:12,099 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:11:12,389 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:11:12,390 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:11:12,393 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:11:12,395 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:11:12,396 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:11:12,409 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:11:12,410 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:11:12,421 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:12:12,068 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:12:12,069 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:12:12,071 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:12:12,073 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:12:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:12:12,085 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:12:12,086 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:12:12,095 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:13:12,386 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:13:12,388 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:13:12,391 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:13:12,393 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:13:12,394 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:13:12,403 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:13:12,404 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:13:12,409 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:14:12,072 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:14:12,074 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:14:12,075 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:14:12,077 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:14:12,078 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:14:12,090 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:14:12,091 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:14:12,103 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:15:12,380 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:15:12,382 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:15:12,384 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:15:12,386 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:15:12,386 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:15:12,397 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:15:12,398 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:15:12,408 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:16:12,079 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 18:16:12,080 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 18:16:12,083 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:16:12,083 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:16:12,085 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:16:12,087 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:16:12,088 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:16:12,099 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:16:12,100 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:16:12,110 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:17:12,376 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:17:12,377 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:17:12,380 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:17:12,383 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:17:12,384 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:17:12,391 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:17:12,391 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:17:12,397 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:18:12,069 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:18:12,070 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:18:12,072 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:18:12,073 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:18:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:18:12,084 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:18:12,085 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:18:12,095 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:19:12,387 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:19:12,389 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:19:12,391 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:19:12,393 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:19:12,394 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:19:12,407 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:19:12,408 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:19:12,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:20:12,064 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:20:12,065 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:20:12,067 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:20:12,069 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:20:12,070 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:20:12,077 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:20:12,078 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:20:12,086 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:21:12,370 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:21:12,371 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:21:12,373 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:21:12,375 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:21:12,375 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:21:12,385 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:21:12,385 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:21:12,394 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:22:12,064 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:22:12,065 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:22:12,067 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:22:12,069 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:22:12,070 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:22:12,082 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:22:12,083 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:22:12,092 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:23:12,379 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:23:12,380 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:23:12,383 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:23:12,386 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:23:12,387 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:23:12,398 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:23:12,398 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:23:12,404 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:24:12,069 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:24:12,070 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:24:12,072 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:24:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:24:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:24:12,100 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:24:12,101 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:24:12,111 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 18:25:12,376 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:25:12,377 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:25:12,380 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:25:12,383 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:25:12,383 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:25:12,428 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:25:12,428 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:25:12,438 - main - INFO - üì§ GET /api/comparisons - 200 - 0.06s
2025-12-15 18:26:12,070 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:26:12,071 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:26:12,072 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:26:12,073 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:26:12,074 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:26:12,080 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:26:12,081 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:26:12,091 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:27:12,380 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 18:27:12,381 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 18:27:12,385 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:27:12,387 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:27:12,389 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:27:12,392 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:27:12,393 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:27:12,405 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:27:12,405 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:27:12,418 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:28:12,064 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:28:12,065 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:28:12,067 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:28:12,068 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:28:12,069 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:28:12,082 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:28:12,082 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:28:12,093 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:34:38,251 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:34:38,253 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:34:38,257 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:34:38,261 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:34:38,262 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:34:38,271 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:34:38,272 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:34:38,284 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:35:12,156 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:35:12,156 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:35:12,158 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:35:12,159 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:35:12,159 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:35:12,164 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:35:12,164 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:35:12,170 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 18:36:11,850 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:36:11,851 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:36:11,853 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:36:11,853 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:36:11,854 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:36:11,859 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:36:11,859 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:36:11,866 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:37:12,155 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:37:12,156 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:37:12,159 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:37:12,161 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:37:12,161 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:37:12,173 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:37:12,174 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:37:12,187 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:38:11,859 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 18:38:11,860 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 18:38:11,863 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:38:11,864 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:38:11,866 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:38:11,868 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:38:11,868 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:38:11,876 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:38:11,877 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:38:11,890 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:39:12,159 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:39:12,160 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:39:12,163 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:39:12,165 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:39:12,165 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:39:12,176 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:39:12,177 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:39:12,188 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:40:11,856 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:40:11,857 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:40:11,859 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:40:11,860 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:40:11,861 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:40:11,870 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:40:11,870 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:40:11,880 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:41:12,167 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:41:12,168 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:41:12,169 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:41:12,170 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:41:12,170 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:41:12,175 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:41:12,175 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:41:12,181 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 18:42:11,862 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:42:11,863 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:42:11,865 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:42:11,867 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:42:11,868 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:42:11,880 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:42:11,881 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:42:11,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:43:12,165 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:43:12,167 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:43:12,170 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:43:12,173 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:43:12,174 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:43:12,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:43:12,188 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:43:12,200 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:44:11,858 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:44:11,859 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:44:11,862 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:44:11,864 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:44:11,865 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:44:11,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:44:11,878 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:44:11,892 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:45:12,158 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:45:12,159 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:45:12,162 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:45:12,165 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:45:12,166 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:45:12,179 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:45:12,180 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:45:12,192 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:46:11,857 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:46:11,858 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:46:11,860 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:46:11,862 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:46:11,862 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:46:11,873 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:46:11,873 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:46:11,882 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:47:12,164 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:47:12,165 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:47:12,168 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:47:12,171 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:47:12,172 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:47:12,187 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:47:12,188 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:47:12,202 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 18:48:11,847 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:48:11,848 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:48:11,850 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:48:11,852 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:48:11,853 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:48:11,865 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:48:11,865 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:48:11,880 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:49:12,161 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 18:49:12,162 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 18:49:12,166 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:49:12,168 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:49:12,170 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:49:12,173 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:49:12,173 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:49:12,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:49:12,186 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:49:12,197 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:50:11,860 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:50:11,861 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:50:11,863 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:50:11,866 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:50:11,866 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:50:11,878 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:50:11,879 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:50:11,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:51:12,158 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:51:12,159 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:51:12,162 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:51:12,165 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:51:12,166 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:51:12,181 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:51:12,181 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:51:12,196 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 18:52:11,853 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:52:11,854 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:52:11,856 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:52:11,858 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:52:11,859 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:52:11,868 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:52:11,868 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:52:11,881 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:53:12,170 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:53:12,172 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:53:12,174 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:53:12,176 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:53:12,177 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:53:12,196 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:53:12,196 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:53:12,206 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 18:54:11,862 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:54:11,863 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:54:11,865 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:54:11,867 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:54:11,868 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:54:11,880 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:54:11,881 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:54:11,894 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:55:12,165 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:55:12,166 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:55:12,169 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:55:12,172 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:55:12,172 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:55:12,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:55:12,186 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:55:12,198 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:56:11,859 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:56:11,860 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:56:11,863 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:56:11,866 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:56:11,867 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:56:11,875 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:56:11,876 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:56:11,887 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 18:57:12,159 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:57:12,160 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:57:12,162 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:57:12,163 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:57:12,163 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:57:12,168 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:57:12,168 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:57:12,176 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:58:11,859 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:58:11,860 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:58:11,862 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:58:11,864 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:58:11,864 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:58:11,872 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:58:11,873 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:58:11,882 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 18:59:12,167 - main - INFO - üì• GET /api/comparisons
2025-12-15 18:59:12,169 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 18:59:12,172 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 18:59:12,174 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 18:59:12,175 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 18:59:12,188 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 18:59:12,189 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 18:59:12,200 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:00:11,847 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 19:00:11,848 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 19:00:11,851 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:00:11,852 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:00:11,854 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:00:11,856 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:00:11,856 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:00:11,869 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:00:11,870 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:00:11,885 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:01:12,161 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:01:12,162 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:01:12,165 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:01:12,168 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:01:12,168 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:01:12,182 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:01:12,183 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:01:12,202 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:02:11,854 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:02:11,857 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:02:11,860 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:02:11,863 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:02:11,864 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:02:11,879 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:02:11,879 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:02:11,893 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:03:12,168 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:03:12,169 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:03:12,172 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:03:12,174 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:03:12,175 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:03:12,187 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:03:12,188 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:03:12,199 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:04:11,865 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:04:11,867 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:04:11,871 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:04:11,875 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:04:11,877 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:04:11,892 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:04:11,892 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:04:11,908 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:05:12,172 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:05:12,174 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:05:12,177 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:05:12,180 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:05:12,181 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:05:12,195 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:05:12,195 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:05:12,205 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:06:11,850 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:06:11,852 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:06:11,853 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:06:11,855 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:06:11,855 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:06:11,867 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:06:11,868 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:06:11,883 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:07:12,169 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:07:12,170 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:07:12,173 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:07:12,175 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:07:12,176 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:07:12,191 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:07:12,192 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:07:12,206 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:08:11,848 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:08:11,849 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:08:11,851 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:08:11,853 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:08:11,853 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:08:11,865 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:08:11,866 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:08:11,879 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:09:12,167 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:09:12,169 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:09:12,171 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:09:12,173 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:09:12,174 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:09:12,186 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:09:12,187 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:09:12,198 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:10:11,846 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:10:11,847 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:10:11,849 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:10:11,851 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:10:11,852 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:10:11,863 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:10:11,864 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:10:11,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:11:12,168 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 19:11:12,169 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 19:11:12,175 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:11:12,176 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:11:12,179 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:11:12,182 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:11:12,183 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:11:12,194 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:11:12,194 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:11:12,205 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:12:11,847 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:12:11,849 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:12:11,850 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:12:11,852 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:12:11,852 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:12:11,865 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:12:11,865 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:12:11,876 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:13:12,164 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:13:12,165 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:13:12,167 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:13:12,170 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:13:12,170 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:13:12,182 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:13:12,183 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:13:12,203 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:14:11,859 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:14:11,860 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:14:11,862 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:14:11,865 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:14:11,865 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:14:11,877 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:14:11,878 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:14:11,891 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:15:12,158 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:15:12,158 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:15:12,160 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:15:12,161 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:15:12,162 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:15:12,170 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:15:12,170 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:15:12,189 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:16:11,856 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:16:11,857 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:16:11,860 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:16:11,862 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:16:11,863 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:16:11,873 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:16:11,873 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:16:11,895 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:17:12,163 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:17:12,165 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:17:12,168 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:17:12,170 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:17:12,171 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:17:12,181 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:17:12,182 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:17:12,193 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:18:11,861 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:18:11,862 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:18:11,864 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:18:11,867 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:18:11,868 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:18:11,882 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:18:11,882 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:18:11,898 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
2025-12-15 19:19:12,165 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:19:12,165 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:19:12,166 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:19:12,167 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:19:12,167 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:19:12,172 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:19:12,172 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:19:12,178 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 19:20:11,865 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:20:11,866 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:20:11,868 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:20:11,871 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:20:11,871 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:20:11,883 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:20:11,884 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:20:11,896 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:21:12,161 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:21:12,162 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:21:12,163 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:21:12,164 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:21:12,164 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:21:12,169 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:21:12,169 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:21:12,174 - main - INFO - üì§ GET /api/comparisons - 200 - 0.01s
2025-12-15 19:22:11,852 - main - INFO - üì• OPTIONS /api/comparisons
2025-12-15 19:22:11,853 - main - INFO - üì§ OPTIONS /api/comparisons - 200 - 0.00s
2025-12-15 19:22:11,855 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:22:11,855 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:22:11,857 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:22:11,858 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:22:11,858 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:22:11,865 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:22:11,865 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:22:11,877 - main - INFO - üì§ GET /api/comparisons - 200 - 0.02s
2025-12-15 19:23:12,161 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:23:12,163 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:23:12,168 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:23:12,171 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:23:12,171 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:23:12,185 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:23:12,185 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:23:12,195 - main - INFO - üì§ GET /api/comparisons - 200 - 0.03s
2025-12-15 19:24:11,854 - main - INFO - üì• GET /api/comparisons
2025-12-15 19:24:11,855 - app.api.routes - INFO - üìä Fetching all comparisons for user: 69402af41ac37a9c504e265c
2025-12-15 19:24:11,857 - app.api.routes - INFO - üè¢ User belongs to company: 69402bf81ac37a9c504e26c8 - will include shared comparisons
2025-12-15 19:24:11,860 - app.services.mongodb_service_enhanced - INFO - üîç Found parent user 69402af41ac37a9c504e265c for company 69402bf81ac37a9c504e26c8
2025-12-15 19:24:11,860 - app.services.mongodb_service_enhanced - INFO - üîç Query for comparisons: {'$or': [{'user_id': '69402af41ac37a9c504e265c'}, {'company_id': '69402bf81ac37a9c504e26c8'}]}
2025-12-15 19:24:11,874 - app.services.mongodb_service_enhanced - INFO - üìä Found 4 comparisons for user 69402af41ac37a9c504e265c (company: 69402bf81ac37a9c504e26c8)
2025-12-15 19:24:11,874 - app.api.routes - INFO - ‚úÖ Found 4 comparisons for user 69402af41ac37a9c504e265c
2025-12-15 19:24:11,891 - main - INFO - üì§ GET /api/comparisons - 200 - 0.04s
